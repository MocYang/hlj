{"version":3,"file":"mapv3d-src.umd.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/utils/EventBus.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../src/error.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/utils/index.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.js","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/index.js","../../src/build/index.js","../../src/build/build.js","../../src/event/index.js","../../src/index.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n        func.apply(context, args)\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否在第一次执行\n    trailing: true // 是否在最后一次执行\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function lock() {\n  this.locked = null\n}\n\nlock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nlock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","// import { utils } from '@ty/shared'\nimport { isPlainObject, isString } from './utils'\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\nRequest Config:\n{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/shared.md).\n  adapter: function (config) {\n},\n\n// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n// This will set an `Authorization` header, overwriting any existing\n// `Authorization` custom headers you have set using `headers`.\n// Please note that only HTTP Basic auth is configurable through this parameter.\n// For Bearer tokens and such, use `Authorization` custom headers instead.\nauth: {\n  username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` indicates the type of data that the server will respond with\n// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n//   browser only: 'blob'\nresponseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` allows handling of progress events for downloads\n// browser only\nonDownloadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\nmaxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n  return status >= 200 && status < 300; // default\n},\n\n// `maxRedirects` defines the maximum number of redirects to follow in node.js.\n// If set to 0, no redirects will be followed.\nmaxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n  protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n      password: 'rapunz3l'\n  }\n},\n\n// `cancelToken` specifies a cancel token that can be used to cancel the request\n// (see Cancellation section below for details)\ncancelToken: new CancelToken(function (cancel) {\n}),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n  // silent JSON parsing mode\n  // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n  // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n  silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n}\n}\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\nInstance methods:\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\naxios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\nCancellation\n\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport lock from './lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport { logError } from '../error'\n\nimport fetchConfig from './fetchConfig'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n  value === null ||\n  value === '' ||\n  value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n\n","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '../error'\nimport { doSchedule, curry, schedule, waitSchedule } from '../scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (Number(res.code) === 200) {\n            self._view3d = view3d\n            self.view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            return\n          }\n\n          if (config.autoResize) {\n            // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n            handleAddWindowResizeResolution(self, config.autoResizeTicker)\n          }\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 建筑状态初始化\n          if (config.resetBuildings) {\n            this._view3d.ResetAllBuildings()\n          }\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  showCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  hideCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    this.setParameters({\n      showmouse: cursorVisible\n    })\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 设置点选物体高亮 - 默认描边的效果\n   */\n  enableHighLight() {\n    const view3d = this._view3d\n    view3d.SetParameters({\n      mouse_selected: true\n    })\n  }\n\n  /**\n   * 取消点选物体高亮效果\n   */\n  disableHighLight() {\n    const view3d = this._view3d\n    view3d.SetParameters({\n      mouse_selected: false\n    })\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns, ticker = 300) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, ticker)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 1\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n\n    // 定位之前，显示遮罩\n    // this.viewer?.core?.showCover()\n    // 先删除点选回调\n    // this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      console.log('flyToPosition callback runs...')\n      // self.viewer?.core?.clear()\n      // self.viewer.core.view3d.Stop()\n      // self.viewer?.core?.hideCover()\n      // self.viewer?.event?.reBind()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n\n        const internalFlyToPositionCallback = res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        }\n\n        let args = [\n          position,\n          showLocation,\n          durationTime,\n          enableCurve,\n          internalFlyToPositionCallback\n        ]\n\n        view3d.FlyToPosition(...args)\n\n        // @Time: 2022-08-30\n        // 现在 flyToPosition 回调的执行时机和指定时间有 bug，暂不通过定时器来出来无回调的情况\n        // this.timer = setTimeout(() => {\n        //   onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        // }, (durationTime + 0.5) * 1000)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 1,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj {Object}\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true // 对象是否需要高亮\n    }\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '../error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBind()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: false,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n\n  /**\n   * 特殊定位点\n   * @param config\n   * @param reBindEvent\n   * @returns {Promise<any>|Promise<unknown>|*}\n   */\n  niagara(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.niagara(config),\n      reBindEvent\n    )\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nclass MapActor {\n  constructor() {\n    // 线相关的材质\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model',\n    options: [\n\n    ]\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image',\n    options: [\n\n    ]\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring',\n    options: [\n\n    ]\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon',\n    options: [\n\n    ]\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  },\n\n  /**\n   * 特殊定位点\n   */\n  niagara: {\n    type: 10111,\n    typeName: 'niagara',\n    options: [\n      \"P_Marker\",\n      \"P_Marker_1\",\n      \"P_Marker_2\",\n      \"P_Marker_3\",\n      \"P_Marker_4\",\n      \"P_Marker_5\",\n      \"P_Marker_6\",\n      \"P_Marker_7\",\n      \"P_Marker_8\",\n      \"P_Marker_9\",\n    ]\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '../utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nclass ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      linewidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      style: 'white', // 立柱的颜色样式  screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: true,\n\n      // 需要显示文字的，指定一下属性\n      // text: '测试文本', // 文本内容\n      // fontcolor: '#ffffff', // 文本颜色\n      // fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      // fontsize: 32.0, // 文本大小        screen不支持字体大小\n      // offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      // offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n\n      // 需要显示立柱的，指定一下两个属性\n      // pwidth: 1, // 立柱的宽度  screen不支持\n      // pheight: 50.0, // 立柱的高度      screen不支持\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  /**\n   * 特殊定位点\n   */\n  niagara(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      filename: '',\n      scale: 1,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActor from './actor'\n\nimport ModelConfig from './config'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    // this.config = ModelConfig\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n    // this.ACTOR = MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {MapActor}\n   * @constructor\n   */\n  get ACTOR() {\n    return MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {ModelConfig}\n   */\n  get config() {\n    return ModelConfig\n  }\n\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBind()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险。'\n      )\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  overLayerRemoveAll() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      view3d.OverLayerRemoveAll()\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBind()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP,\n\n  // 鼠标移动相关的\n  onMouseMove: NOOP,\n  onMouseMoveOut: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr) => {\n      self.setModel(attr)\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      } else {\n        // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n        self.setModel(modelEntity)\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n    this.typeName = \"image\"\n    this.$$typeof = \"IMAGE\"\n    this.create()\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * 鼠标移入\n   */\n  onMouseIn() {\n\n  }\n\n  /**\n   * 鼠标移出\n   */\n  onMouseOut() {\n\n  }\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.onClick(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(Door.icon, this._iconClickHandler.bind(this), {\n      compare: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.onDoubleClick(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    // this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d) {\n    this.view3d = view3d\n    // this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/11 15:08\n * @FILE: build.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport {\n  schedule,\n  waitSchedule\n} from '../scheduler'\n\nimport { functionExist } from '../error'\n\n\n/**\n * 楼栋管理基类\n */\nclass MapBuildingBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  init(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n}\n\nclass MapBuildingUtils {\n  constructor(buildInstance) {\n    this.build = buildInstance\n  }\n\n  /**\n   * 判断所传的 楼栋 ID 是否符合格式：V001_JZ0001 之类的\n   * @param id\n   * @return {Boolean}\n   */\n  isBuildingId(id) {\n    const reg = /^V\\d+_JZ\\d+$/\n    return reg.test(id)\n  }\n\n  /**\n   * 是否建筑外壳，格式：V001_JZ0001_WK\n   * @param id\n   */\n  isBuildingWK(id) {\n    const reg = /^V\\d+_JZ\\d+_WK$/\n    return reg.test(id)\n  }\n\n  /**\n   * 是否楼层名称，格式：F001\n   * @param floorName\n   * @returns {boolean}\n   */\n  isFloorName(floorName) {\n    const reg = /^[B|F]\\d+$/\n\n    return reg.test(floorName)\n  }\n\n  // V001_JZ0001#F001 或者 V001_JZ0001_WK_F001\n  /**\n   * 是否完整的楼层ID\n   * @param floorId\n   * @returns {boolean}\n   */\n  isFloorId(floorId) {\n    const reg = /^V\\d+_JZ\\d+#[F|B]\\d+$/\n    const wkFloorReg = /^V\\d+_JZ\\d+_WK_[F|B]\\d+$/\n    return reg.test(floorId) || wkFloorReg.test(floorId)\n  }\n\n  /**\n   * 是否房间的 ID\n   * @param roomId\n   * @returns {boolean}\n   */\n  isRoomId(roomId) {\n    const reg = /^V\\d+_JZ\\d+_WK_F\\d+_U\\d+_H\\d+$/\n    return reg.test(roomId)\n  }\n\n  getBuildingIdFromGid(gid) {\n    if (this.isBuildingId(gid)) {\n      return gid\n    }\n\n    if (!this.isBuildingWK(gid)) {\n      return ''\n    }\n\n    const buildingIdArr = gid.split('_')\n    if (buildingIdArr.length === 3) {\n      buildingIdArr.pop()\n    }\n\n    return buildingIdArr.join('_')\n  }\n\n  /**\n   * F001 => 1\n   * F002 => 2\n   * B001 => -1\n   * B002 => 02\n   * @param floorName\n   * @returns {number|undefined}\n   */\n  getFloorNumberFromFloorName(floorName) {\n    if (!this.isValidFloorName(floorName)) {\n      return\n    }\n\n    const floorSignString = floorName[0]\n    let floorSign = 1\n    if (floorSignString === 'B') {\n      floorSign = -1\n    }\n\n    return Number(floorName.slice(1)) * floorSign\n  }\n\n  /**\n   * V001_JZ0001#F001 => F001\n   * @param floorId\n   * @returns {*}\n   */\n  getFloorNameFromFloorId(floorId) {\n    if (!this.isFloorId(floorId)) {\n      return\n    }\n\n    return floorId.split('#')[1]\n  }\n\n  isValidBuildingId(id) {\n    if (!this.isBuildingId(id)) {\n      console.error(`建筑 id: ${id}, 不符合格式：V001_JZ0001`)\n      return false\n    }\n\n    return true\n  }\n\n  isValidBuildingWkId(id) {\n    if (!this.isBuildingWK(id)) {\n      console.error(`建筑外壳 id: ${id}, 不符合格式：V001_JZ0001_WK`)\n      return false\n    }\n    return true\n  }\n\n  isValidFloorName(floorName) {\n    if (!this.isFloorName(floorName)) {\n      console.error(`楼层名称: ${floorName}, 不符合格式：B001 | F001.`)\n      return false\n    }\n\n    return true\n  }\n\n\n  createFloorGid(buildId, floorName) {\n    let floorGid = ''\n\n    if (this.isValidBuildingId(buildId)) {\n      floorGid = buildId + '_WK_' + floorName\n    } else if (this.isValidBuildingWkId(buildId)) {\n      floorGid = buildId + '_' + floorName\n    }\n\n    return floorGid\n  }\n}\n\nclass MapBuildingEvent {\n  constructor(buildInstance) {\n    this.build = buildInstance\n  }\n}\n\n/**\n * 底层楼栋接口\n */\nclass MapBuildingApi extends MapBuildingBase {\n  constructor(buildInstance) {\n    super()\n    this.build = buildInstance\n  }\n\n  init(mapViewer) {\n    super.init(mapViewer)\n    this.core = this.mapViewer.core\n    this.view3d = this.core.view3d\n  }\n\n  /**\n   * 获取建筑物数量\n   * @returns {Promise<{num: Number}>}\n   */\n  getBuildingNum() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingNum)) {\n      return schedule(this.view3d, this.view3d.GetBuildingNum)\n    }\n  }\n\n  /**\n   * 获取建筑物名称列表\n   * @returns {Promise<Array<{id: String, name: String, visible: Boolean}>>}\n   */\n  getBuildingNames() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingNames)) {\n      return schedule(this.view3d, this.view3d.GetBuildingNames)\n    }\n  }\n\n  /**\n   * 获取建筑物名称列表 - 有楼层\n   * 与getBuildingNames返回值相同，与期望的返回楼层信息不符合，不用这个接口\n   * @deprecated\n   * @returns {Promise<Array<{id: String, name: String, visible: Boolean}>>}\n   */\n  getSplitBuildingNames() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetSplitBuildingNames)) {\n      return schedule(this.view3d, this.view3d.GetSplitBuildingNames)\n    }\n  }\n\n  /**\n   * 获取建筑物是否显示\n   * @param id\n   * @return {Promise<{name: String, visible: Boolean}> | undefined}\n   */\n  getBuildingVisible(id) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingVisible)) {\n      return schedule(this.view3d, this.view3d.GetBuildingVisible, id)\n    }\n  }\n\n  /**\n   * 设置建筑物的显示/隐藏\n   * @desc 会将所有楼层，外壳同时显示/隐藏。且保留楼层分层的状态，保持外壳的显示隐藏状态\n   * @param id\n   * @param visible\n   * @param wait\n   * @returns {*}\n   */\n  setBuildingVisible(id, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetBuildingVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetBuildingVisible, id, visible)\n    }\n  }\n\n  /**\n   * 设置建筑物外壳的显示和隐藏\n   * @BUG 有 bug，第一次显示的状态下，调隐藏外壳，无效。第一次掉显示外壳反而隐藏了外壳，后续的调用彻底无效不管显示还是隐藏\n   * @param id\n   * @param visible\n   * @param wait\n   * @returns {*}\n   */\n  setBuildingWkVisible(id, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetBuildingWkVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetBuildingWkVisible, id, visible)\n    }\n  }\n\n  /**\n   * 楼层分离\n   */\n  splitBuilding(id, height, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SplitBuilding)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SplitBuilding, id, height)\n    }\n  }\n\n  /**\n   * 楼层复原 - 单个建筑\n   */\n  splitBuildingReset(id, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SplitBuildingReset)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SplitBuildingReset, id)\n    }\n  }\n\n  /**\n   * 楼层动态分离\n   */\n  splitDynamicBuilding(id, height, duration, callback) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (!this.core || !this.view3d) {\n      return\n    }\n\n    const self = this\n    this.core.showCover()\n    // @bug: 实际的高度 = 设置的高度 * 2\n    this.view3d.SplitDynamicBuilding(id, height, duration)\n    setTimeout(() => {\n      self.core.hideCover()\n      callback && callback()\n    }, (duration + 0.3) * 1000)\n  }\n\n  /**\n   * 楼层动态侧平移\n   * @param buildId\n   * @param floorName\n   * @param height\n   * @param duration\n   * @param callback\n   * @TODO: 传参优化\n   */\n  splitDynamicFloor(buildId, floorName, height, duration, callback) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.core || !this.view3d) {\n      return\n    }\n\n    this.core.showCover()\n    // TODO: 如果改用 updateObjects 来动态移动楼体，需要知道要终点的坐标(上下移动+z，左右移动，需要整体计算终点的x,y)\n    this.view3d.SplitDynamicFloor(buildId, floorName, height, duration)\n    setTimeout(() => {\n      this.core.hideCover()\n      callback && callback()\n    }, (duration + 0.3) * 1000)\n  }\n\n  /**\n   * 重置所有建筑的状态\n   * @param wait {Number}\n   * @returns {Promise<any>}\n   */\n  resetAllBuildings(wait = 20) {\n    if (this.view3d && functionExist(this.view3d, this.view3d.ResetAllBuildings)) {\n      return waitSchedule(wait, this.view3d, this.view3d.ResetAllBuildings)\n    }\n  }\n\n  // 楼层相关\n  /**\n   * 获取楼层个数\n   * @param buildId\n   * @returns {*}\n   */\n  getFloorNum(buildId) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetFloorNum, buildId)\n    }\n  }\n\n  /**\n   * 获取楼层名称列表\n   * @param buildId\n   * @returns {*}\n   */\n  getFloorNames(buildId) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetFloorNames, buildId)\n    }\n  }\n\n  /**\n   * 获取楼层是否显示\n   * @param buildId\n   * @param floorName\n   * @returns {*}\n   */\n  getFloorVisible(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorVisible)) {\n      return schedule(this.view3d, this.view3d.GetFloorVisible, buildId, floorName)\n    }\n  }\n\n  setFloorVisible(buildId, floorName, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetFloorVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetFloorVisible, buildId, floorName, visible)\n    }\n  }\n\n  getUpFloorNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetUpFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetUpFloorNum, buildId, floorName)\n    }\n  }\n\n\n  getDownFloorNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetDownFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetDownFloorNum, buildId, floorName)\n    }\n  }\n\n  getUpFloorNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetUpFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetUpFloorNames, buildId, floorName)\n    }\n  }\n\n  getDownFloorNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetDownFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetDownFloorNames, buildId, floorName)\n    }\n  }\n\n  // 地面的显示和隐藏\n  setGroundVisible(visible = true, wait = 10) {\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetGroundVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetGroundVisible, visible)\n    }\n  }\n\n  /** ===== 房间相关的 =========== */\n\n  /*\n   * 获取房间数量\n   * @param buildId\n   * @param floorName\n   * @returns {*}\n   */\n  getFloorRoomNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomNum)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomNum, buildId, floorName)\n    }\n  }\n\n  /**\n   * 获取房间名称列表\n   * @param buildId {String}\n   * @param floorName {String}\n   * @returns {*}\n   */\n  getFloorRoomNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomNames)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildId, floorName)\n    }\n  }\n\n  /**\n   * 获取房间是否显示\n   * @param buildId\n   * @param floorName\n   * @param roomName\n   * @returns {*}\n   */\n  getFloorRoomVisible(buildId, floorName, roomName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomVisible)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomVisible, buildId, floorName, roomName)\n    }\n  }\n\n  /**\n   * 设置房间的可见性\n   * @param buildId {String}\n   * @param floorName {String}\n   * @param roomName {String}\n   * @param visible {Boolean}\n   * @param opacity {Number}\n   * @param wait {Number}\n   */\n  setFloorRoomVisible(buildId, floorName, roomName, visible = true, opacity = 1, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetFloorRoomVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetFloorRoomVisible, buildId, floorName, roomName, visible, opacity)\n    }\n  }\n}\n\n/**\n * 楼栋相关操作\n */\nclass MapBuild extends MapBuildingBase {\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 地面默认是显示的\n    this.groundVisible = true\n\n    // 功能函数类实例\n    this.utils = new MapBuildingUtils(this)\n\n    // 底层接口实例\n    this.api = new MapBuildingApi(this)\n\n    this.buildingInfo = null\n\n    // TODO: 增加每栋楼分层的状态 - 是否在分离中，是否分离结束\n    this.init(mapViewer)\n  }\n\n  init(mapViewer) {\n    super.init(mapViewer)\n\n    this.api.init(mapViewer)\n\n    // 初始楼栋楼层信息\n    this.initBuildingInfo()\n  }\n\n\n  // 获取一遍所有的楼层实体信息，会包含：楼层边界点位：bmax,bmin\n  // 因为这是不紧急的任务，所以，不应该阻塞页面\n  initBuildingInfo() {\n    if (this.buildingInfo) {\n      return this.buildingInfo\n    }\n\n    this.buildingInfo = {}\n\n    const self = this\n    this.api.getBuildingNames().then(buildings => {\n      if (Array.isArray(buildings)) {\n        buildings.forEach(build => {\n          // 获取楼栋详情信息\n          self.setBuildingInfo(build)\n\n          // 获取楼栋内楼层的信息\n          self.setFloorInfo(build.id)\n        })\n      }\n    })\n  }\n\n  /**\n   * 获取单个建筑的实体信息\n   */\n  getBuildingInfo(buildId) {\n    if (!this.buildingInfo) {\n      return null\n    }\n\n    if (buildId !== undefined) {\n      return this.buildingInfo[buildId]\n    }\n\n    return this.buildingInfo\n  }\n\n  /**\n   * 设置单个楼栋的信息\n   */\n  setBuildingInfo(build) {\n    if (!this.buildingInfo) {\n      this.buildingInfo = {}\n    }\n\n    const self = this\n\n    this.buildingInfo[build.id] = {\n      ...build,\n      // 默认都不是处于分层的状态\n      split: false,\n      floor: []\n    }\n\n    // 获取对应的楼栋的详情\n    if (this.mapViewer) {\n      this.mapViewer.drawer.findObjectById(build.id).then(res => {\n        self.buildingInfo[build.id] = {\n          ...build,\n          details: res\n        }\n      })\n    }\n  }\n\n  // 获取某栋楼内的所有楼层信息 - 名称列表\n  getFloorInfo(buildId) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.buildingInfo) {\n      return\n    }\n\n    return this.buildingInfo[buildId]\n  }\n\n  setFloorInfo(buildId) {\n    const self = this\n\n    // 如果没有获取过，获取一次\n    this.api.getFloorNames(buildId).then(floors => {\n      if (Array.isArray(floors)) {\n        self.buildingInfo[buildId].floorNum = floors.length\n        self.buildingInfo[buildId].floor = floors\n\n        floors.forEach((floor, i) => {\n          self.setFloorDetail(buildId, floor.floorname, i)\n        })\n      }\n    })\n  }\n\n  /**\n   * 获取楼层详情信息\n   * @param buildId\n   * @param floorName\n   */\n  getFloorDetail(buildId, floorName) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n\n    // TODO: 验证 floorName\n    let floorInfo = null\n\n    const buildInfo = this.getBuildingInfo(buildId)\n    if (buildInfo && buildInfo.floor) {\n      for (let i = 0; i < buildInfo.floor.length; i++) {\n        const floor = buildInfo.floor\n        if (floor.floorname === floorName) {\n          floorInfo = floor\n          break\n        }\n      }\n    }\n\n    if (!floorInfo) {\n      console.warn(`无法找到给定的楼层信息。楼栋 id: ${buildId}, 楼层id: ${floorName} . `)\n      return null\n    }\n    return floorInfo\n  }\n\n  /**\n   * 设置楼层详情信息\n   * @param buildId\n   * @param floorName\n   * @param index\n   */\n  setFloorDetail(buildId, floorName, index) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n    const floorGid = this.utils.createFloorGid(buildId, floorName)\n    if (floorGid) {\n      this.api.setFloorVisible(buildId, floorName, true).then(() => {\n        this.mapViewer.drawer.findObjectById(floorGid).then(res => {\n          const buildInfo = this.getBuildingInfo(buildId)\n          if (buildInfo && Array.isArray(buildInfo.floor)) {\n            const floorInfo = buildInfo.floor[index]\n            if (floorInfo) {\n              floorInfo.details = res\n            }\n          }\n        })\n      })\n    }\n  }\n\n  /**\n   * 楼层显示和隐藏 - 无动态效果\n   *\n   * @param options.buildId {String}\n   * @param options.floorName {String}\n   * @param options.visible {Boolean}\n   */\n  setFloorVisible(options) {\n    const {\n      buildId,\n      floorName,\n      visible = false,\n      multiple = false // 是否同时显示多个楼层\n    } = options\n\n    if (!this.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (typeof floorName === 'string' && !this.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    const floorSign = floorName[0]\n\n    if (floorSign === 'B') {\n      // 隐藏地面\n      if (this.groundVisible) {\n        this.groundVisible = !this.groundVisible\n        this.api.setGroundVisible(this.groundVisible)\n      }\n    } else {\n      // 显示地面\n      if (!this.groundVisible) {\n        this.groundVisible = !this.groundVisible\n        this.api.setGroundVisible(this.groundVisible)\n      }\n    }\n\n    const buildInfo = this.getBuildingInfo(buildId)\n\n\n    if (!multiple) {\n      const floorNumber = this.utils.getFloorNumberFromFloorName(floorName)\n\n      // 正常的分层显示\n      if (buildInfo && Array.isArray(buildInfo.floor)) {\n\n        for (let floor of buildInfo.floor) {\n          let floorVisible = false\n\n          const currentFloorName = floor.floorname\n\n          const currentFloorNumber = this.utils.getFloorNumberFromFloorName(currentFloorName)\n\n          floorVisible = currentFloorNumber <= floorNumber\n\n          this.api.setFloorVisible(buildId, currentFloorName, floorVisible)\n        }\n      }\n    } else {\n      // 多楼层可见的显示\n      if (Array.isArray(floorName)) {\n        for (let floor of buildInfo.floor) {\n          const currentFloorName = floor.floorname\n          let floorVisible = floorName.indexOf(currentFloorName) !== -1\n          this.api.setFloorVisible(buildId, currentFloorName, floorVisible)\n        }\n      }\n    }\n  }\n}\n\nexport default MapBuild\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '../error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\nconst MAP_STATUS_NORMAL = 'MAP_STATUS_NORMAL' // 普通状态\nconst MAP_STATUS_DRAG = 'MAP_STATUS_DRAG' // 拖动的状态\n\nconst MOUSE_STATUS_DOWN = 'MOUSE_STATUS_DOWN'\nconst MOUSE_STATUS_MOVE = 'MOUSE_STATUS_MOVE'\nconst MOUSE_STATUS_DRAG = 'MOUSE_STATUS_DRAG'\nconst MOUSE_STATUS_UP = 'MOUSE_STATUS_UP'\n\n// 注册到 video 父元素上的基础鼠标事件\nconst MOUSE_MOVE_KEY = 'mousemove' // 鼠标移动\nconst MOUSE_DOWN_KEY = 'mousedown' // 鼠标按下\nconst MOUSE_UP_KEY = 'mouseup' // 鼠标抬起\nconst MOUSE_WHEEL = 'mousewheel' // 滚轮缩放\nconst MOUSE_DRAG = 'mousedrag' // 拖拽的Key， 仅用来做事件缓存是的可以，实际绑定到 DOM 的还是 mousemove 事件\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mouseStatus = MOUSE_STATUS_MOVE // 正常的鼠标状态是移动\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [\n  MOUSE_MOVE_KEY,\n  MOUSE_DOWN_KEY,\n  MOUSE_UP_KEY,\n  MOUSE_WHEEL,\n  MOUSE_DRAG\n]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compare: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    // 通过显示的保存指定的前缀\n    this.prefix = new Set()\n\n    this.debug = false // 是否显示点击的对象属性\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 100\n\n    // 单击和双击的间隔值 ms, 如果同一个 prefix，既有单击，又有双击事件，第一次单击会被延迟\n    // 同时等待 _doubleClickTicker 的时间，如果再次触发单击，则触发双击的回调，如果没有再次触发单击，则触发单击回调\n    this._doubleClickTicker = 180\n\n    // 因为每次缩放，都去请求一次当前相机的位置，所以，如果上一次请求的接口没有返回，就不去获取\n    this.getCurrentPositionComplete = false\n\n    // 保存DOM事件key的状态，来避免重复绑定事件\n    this.mouseEventStatusMap = new Map(\n      mouseEventGroup.map(key => [key, false])\n    )\n\n    // 默认注册内部的鼠标拖拽事件，来避免拖拽是误触点击事件\n    this._internalHandlerMouseMoveEvent()\n  }\n\n  // 内部监听鼠标按下，抬起的事件\n  _internalHandlerMouseMoveEvent() {\n    // 这里的回调不需要执行逻辑，只需要让内部的处理函数做好鼠标和地图状态的管理即可\n    const internalMouseUpHandler = () => {\n    }\n\n    const internalMouseDownHandler = () => {\n    }\n\n    const internalMouseDragHandler = () => {\n    }\n\n    this.onMouseUp(internalMouseUpHandler, {\n      throttle: false\n    })\n\n    // 鼠标按下的事件不能节流 ！！！\n    // 否则会影响拖动事件的判断\n    this.onMouseDown(internalMouseDownHandler, {\n      throttle: false\n    })\n\n    // 拖拽的事件，可以节流，避免回调触发过于频繁\n    this.onDrag(internalMouseDragHandler, {\n      ticker: 50,\n      throttle: true\n    })\n  }\n\n  // 执行所有的 DOM 回调\n  _flushMouseEvent(key, ...args) {\n    const mouseWheelMap = this.prefixAndCallbackMap.get(key)\n    if (mouseWheelMap) {\n      const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n      const mouseWheelEventCallbackSet =\n        mouseWheelEventCallbackMap.get('click')\n      mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n        if (oneMouseWheelHandlerMap.get('callback')) {\n          oneMouseWheelHandlerMap.get('callback')(...args)\n        }\n      })\n    }\n  }\n\n  // 注册鼠标事件到地图容器上\n  _registerMouseEvent(key, callback, option) {\n    // 不需要重复注册事件到 DOM 元素上\n    if (this.mouseEventStatusMap.get(key)) {\n      return\n    }\n\n    this.mouseEventStatusMap.set(key, true)\n\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n\n    if ($mapViewContainer) {\n      $mapViewContainer.addEventListener(option.domEvent, callback, false)\n    }\n  }\n\n  // 移除，注册在地图容器元素之上的 DOM 事件\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n\n    if (existCallbackMapKey) {\n      // 再去删除缓存的函数\n      this._removeCacheCallback(key, callback)\n    }\n  }\n\n  // 缓存所有注册的鼠标事件（DOM 事件）\n  _cacheMouseEvent(\n    key = '',\n    callback = () => null,\n    handler = () => null,\n    config = {}\n  ) {\n    // 默认的配置\n    const defaultOption = {\n      // 节流和防抖只能二选一\n      throttle: true,\n      debounce: false,\n      ticker: 100,\n\n      // 实际绑定到 DOM 事件类型\n      domEvent: key\n    }\n\n    const option = Object.assign({}, defaultOption, config)\n\n    if (isFunction(callback)) {\n      let mouseHandler = handler\n\n      // 通过配置，选择防抖 、节流\n      if (option.throttle) {\n        mouseHandler = throttle(\n          mouseHandler,\n          option.ticker\n        )\n      }\n\n      if (option.debounce) {\n        mouseHandler = debounce(\n          mouseHandler,\n          option.ticker,\n          true\n        )\n      }\n\n      this._cacheCallback(key, callback)\n\n      this._registerMouseEvent(key, mouseHandler, option)\n    }\n  }\n\n  /**\n   * 实际鼠标缩放的处理函数\n   * @private\n   */\n  _mouseWheelHandler(e) {\n    // 避免获取相机位置的接口没有返回，而重复获取，导致出现视角回调获取位置的顺序出错\n    if (this.getCurrentPositionComplete) {\n      return\n    }\n\n    if (\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n\n      this.getCurrentPositionComplete = true\n\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        this.getCurrentPositionComplete = false\n        this._flushMouseEvent(MOUSE_WHEEL, e, position)\n      })\n    }\n  }\n\n  /**\n   * 实际鼠标移动的处理函数\n   * @param e\n   * @private\n   */\n  _mouseMoveHandle(e) {\n    let eventKey = MOUSE_MOVE_KEY\n\n    // 如果鼠标移动过程中，处于鼠标按下的状态，则是在拖动地图\n    if (mouseStatus === MOUSE_STATUS_DOWN || mouseStatus === MOUSE_STATUS_DRAG) {\n      mouseStatus = MOUSE_STATUS_DRAG\n      mapStatus = MAP_STATUS_DRAG\n      eventKey = MOUSE_DRAG\n\n      // 否则是正常的鼠标移动\n    } else {\n      mouseStatus = MOUSE_STATUS_MOVE\n      mapStatus = MAP_STATUS_NORMAL\n    }\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    // mapMoveTimer = setTimeout(() => {\n    //   // 如果是拖动过程中，没有触发鼠标抬起\n    //   if (mouseStatus === MOUSE_STATUS_DRAG) {\n    //     // this._mouseUpHandler(e)\n    //   }\n    // }, 100)\n\n    // 同时这里要跟拖拽区分开，因为拖拽也会出发移动，这里要判断,只处理移动事件\n    this._flushMouseEvent(eventKey, e)\n  }\n\n  _mouseDownHandler(e) {\n    mapStatus = MAP_STATUS_NORMAL\n    mouseStatus = MOUSE_STATUS_DOWN\n    this._flushMouseEvent(MOUSE_DOWN_KEY, e)\n  }\n\n  _mouseUpHandler(e) {\n    mapStatus = MAP_STATUS_NORMAL\n\n    mouseStatus = MOUSE_STATUS_UP\n\n    this._flushMouseEvent(MOUSE_UP_KEY, e)\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 100ms.\n   */\n  setDragTicker(time = 100) {\n    this._dragTicker = time\n  }\n\n  /**\n   * 设置单击和双击的间隔时间，单位： ms.\n   * @param time\n   */\n  setDoubleClickTicker(time = 150) {\n    this._doubleClickTicker = time\n  }\n\n  // 注册鼠标缩放事件\n  onZoom(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_WHEEL, callback, this._mouseWheelHandler.bind(this), config)\n  }\n\n  /**\n   * 移除鼠标缩放事件\n   */\n  offZoom(callback) {\n    if (isFunction(callback)) {\n      this.remove(MOUSE_WHEEL, callback)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_MOVE_KEY, callback, this._mouseMoveHandle.bind(this), config)\n  }\n\n  // 移除鼠标移动事件\n  offMouseMove(callback) {\n    this.remove(MOUSE_MOVE_KEY, callback)\n  }\n\n  // 注册鼠标按下\n  onMouseDown(callback, config) {\n    this._cacheMouseEvent(MOUSE_DOWN_KEY, callback, this._mouseDownHandler.bind(this), config)\n  }\n\n  // 移除鼠标按下\n  offMouseDown(callback) {\n    this.remove(MOUSE_DOWN_KEY, callback)\n  }\n\n  // 注册鼠标抬起\n  onMouseUp(callback, config) {\n    this._cacheMouseEvent(MOUSE_UP_KEY, callback, this._mouseUpHandler.bind(this), config)\n  }\n\n  // 移除鼠标抬起\n  offMouseUp(callback) {\n    this.remove(MOUSE_UP_KEY, callback)\n  }\n\n  // 注册地图拖拽事件\n  onDrag(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_DRAG, callback, this._mouseMoveHandle.bind(this), {\n      ...config,\n      domEvent: MOUSE_MOVE_KEY\n    })\n  }\n\n  // 移除拖拽事件\n  offDrag(callback) {\n    this.remove(MOUSE_DRAG, callback)\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  _resetMouseCallback() {\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cachePrefix(prefix) {\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArray = [prefix]\n\n    for (let p of prefixArray) {\n      this.prefix.add(p)\n    }\n  }\n\n  _removePrefix(prefix = '') {\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArr = [prefix]\n\n    for (let p of prefixArr) {\n      this.prefix.delete(p)\n    }\n\n    // 移除完点选的前缀，需要重新绑定事件。才能真正移除\n    this.reBind()\n  }\n\n  _getPrefix() {\n    return Array.from(this.prefix).join(',')\n  }\n\n  _clearPrefix() {\n    this.prefix = new Set()\n  }\n\n  _cacheCallback(prefix = '', callback, config = defaultConfig) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArr = [prefix]\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix || typeof oldPrefix !== 'string') {\n      return\n    }\n\n    let oldPrefixArr = oldPrefix.split(',')\n\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('callback') === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n            this._removePrefix(k)\n          }\n        }\n      }\n    }\n  }\n\n  _setMouseClickPrefix() {\n    const view3d = this._view3d\n    const prefix = this._getPrefix()\n\n    // 如果 prefix 为 '',不应该再去设置点选的参数了\n    if (!prefix) {\n      this.mapViewer.core.setParameters(null)\n      view3d.SetMouseCallback(null)\n      return false\n    }\n\n    this.mapViewer.core.setParameters({\n      // prefix: '*'\n      prefix\n    })\n\n    return true\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    const shouldSetParameters = this._setMouseClickPrefix()\n    if (!shouldSetParameters) {\n      return\n    }\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        if (self._lastClickCallbackTimer) {\n          clearTimeout(self._lastClickCallbackTimer)\n        }\n\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n\n          if (self.debug) {\n            console.log(res)\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compare,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compare， 且属于用户自定义的比较函数\n                if (compare !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compare(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= self._doubleClickTicker) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n\n                if (now - self._lastClickTimestamp <= self._doubleClickTicker) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, self._doubleClickTicker)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n        // }, 300)\n      }\n      view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compare {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  onClick(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    // 缓存 prefix\n    this._cachePrefix(prefix)\n\n    // 缓存回调\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * 重新绑定事件\n   */\n  reBind() {\n    this._addMouseClickCallback()\n    // this._setMouseClickPrefix()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(prefix = '*', callback, config) {\n    // const self = this\n    this.onClick(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      this._clearPrefix()\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBind 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","﻿//工具类\nimport * as utils from './utils'\n\n//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n// 新的建筑实例\nimport Build from './build/build'\n\nimport MapEvent from './event'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport * as mapError from './error'\n\nconst { isFunction, NOOP } = utils\n\n/**\n * 默认参数\n */\nconst defaultOption = {\n  debug: false,\n\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n  manual: false, // 是否自动创建地图，允许延迟初始化地图\n  loading: true, //是否展示初始 loading 状态\n  northControl: false, // 地图指北针控件是否显示\n  enableKeyboard: true, // 是否启用键盘\n  enableMouse: true, // 是否启用鼠标\n  defaultLocate: true, // 是否允许默认定位\n\n  // 是否在窗口 resize 后，默认设置地图的分辨率\n  autoResize: true,\n\n  // resize 的防抖间隔，用来避免 resize 后，retResolution 过于频繁。\n  autoResizeTicker: 300,\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  //  是否默认重置建筑的状态(比如分层)\n  resetBuildings:  true,\n\n  // 内置的鼠标图标是否可见\n  internalMouseVisible: false,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n}\n\nclass MapViewer {\n  constructor(config) {\n    this._initFinished = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.MapBuild = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  create() {\n    if (this._initFinished) {\n      mapError.warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  _init() {\n    this.core.createMap(this.config).then(() => {\n      let view3d = this.core.view3d\n      if (view3d) {\n        this.event = new MapEvent(view3d, this)\n        this.build = new MapBuild(view3d, this)\n        this.mapBuild = new Build(this)\n        this.camera = new MapCamera(view3d, this)\n        this.drawer = new MapDrawer(view3d, this)\n        this.model = new ModelManager(view3d, this)\n\n        this._initFinished = true\n\n        // 加载完成事件\n        if (this.config.complete && isFunction(this.config.complete)) {\n          this.config.complete(this, view3d)\n        }\n      }\n    })\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  mapError as error,\n  MapViewer,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_typeof","obj","Symbol","iterator","constructor","debounce","func","wait","immediate","timer","result","debounced","context","args","arguments","clearTimeout","apply","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","Date","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","call","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","next","done","push","value","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","slice","name","from","test","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","EventsBus","events","Map","fn","isOnce","_this","m","get","fnMap","set","off","console","error","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","Promise","then","_asyncToGenerator","self","undefined","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","lock","locked","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","InvalidParameter","code","msg","View3dUnInitialized","logError","errorMsg","isString","isPlainObject","log","warn","functionExist","funcName","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isNumber","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","InterceptorManager$1","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validators$1","validator","formatMessage","opt","desc","opts","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","Axios$1","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios$2","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","HttpFactory","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","environments","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","getVersion","getBuildTime","toLocaleString","environment","printVersion","c1","c2","c3","c4","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","autoResize","handleAddWindowResizeResolution","autoResizeTicker","OverLayerRemoveAll","resetBuildings","ResetAllBuildings","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","mouse_selected","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","ticker","MapCamera","viewer","duration","resetHome","SetPosition","showLocation","durationTime","enableCurve","onFinish","internalFlyToPositionCallback","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","event","silent","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","reBind","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","niagara","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","LINE","SIM_ARRAW","SIM_DOT","SIM_DASHED","SIM_FLASH","SIM_CAN","MapActor$1","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","linevisible","lighting","iconstyle","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","pheight","minx","miny","maxx","maxy","gradient","ModelConfig$1","MapDrawer","mapView","_event","find","MapRemove","update","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","item","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","onMouseMove","onMouseMoveOut","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","clear","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","shouldUpdateEntity","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","core","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","onClick","_modelClickHandler","compare","_","startsWith","onDoubleClick","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","ModelManager","MapBuild","isBuildFloor","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorIdByFloorGid","getFloorNameSmallByFloorId","getFloorNameByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","floorHeight","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","floorName","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MapBuildingBase","MapBuildingUtils","buildInstance","build","wkFloorReg","roomId","isBuildingId","isBuildingWK","buildingIdArr","isValidFloorName","floorSignString","floorSign","isFloorId","isFloorName","isValidBuildingId","isValidBuildingWkId","MapBuildingApi","_super","GetSplitBuildingNames","showCover","hideCover","GetDownFloorNames","groundVisible","api","buildingInfo","init","initBuildingInfo","getBuildingNames","buildings","setBuildingInfo","setFloorInfo","details","getFloorNames","floors","floorNum","setFloorDetail","floorname","floorInfo","buildInfo","getBuildingInfo","createFloorGid","setFloorVisible","multiple","_options$multiple","setGroundVisible","currentFloorName","floorNumber","getFloorNumberFromFloorName","currentFloorNumber","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","MOUSE_STATUS_DOWN","MOUSE_STATUS_MOVE","MOUSE_STATUS_DRAG","MOUSE_STATUS_UP","MOUSE_MOVE_KEY","MOUSE_DOWN_KEY","MOUSE_UP_KEY","MOUSE_WHEEL","MOUSE_DRAG","mapStatus","mouseStatus","mouseEventGroup","isDouble","internal","MapEvent","debug","prefixAndCallbackMap","_lastClickTimestamp","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_dragTicker","_doubleClickTicker","getCurrentPositionComplete","mouseEventStatusMap","_internalHandlerMouseMoveEvent","internalMouseUpHandler","internalMouseDownHandler","internalMouseDragHandler","onMouseUp","onMouseDown","onDrag","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","mapViewContainerId","$mapViewContainer","domEvent","existCallbackMapKey","mouseKey","_removeCacheCallback","handler","defaultOption","mouseHandler","_cacheCallback","_registerMouseEvent","getCurrentPosition","_flushMouseEvent","eventKey","click","oneCallbackMap","fromEntries","_cacheMouseEvent","_mouseWheelHandler","_mouseMoveHandle","_mouseDownHandler","_mouseUpHandler","UnRegisterEvent","k","prefixArray","_prefixArray","prefixArr","_i2","_prefixArr","_i3","_prefixArr2","existCallbackMap","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","cachedCallback","includes","_removePrefix","_getPrefix","SetMouseCallback","shouldSetParameters","_setMouseClickPrefix","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMousePositionCallback","_config","_cachePrefix","_addMouseClickCallback","_removeMouseEvent","_clearPrefix","_resetMouseCallback","manual","loading","MapViewer","_initFinished","_init","scheduler","ver","mapError","createMap","mapBuild","Build","website","author","env","CATEGORY"],"mappings":"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"}