{"version":3,"file":"mapv3d-src.umd.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/utils/EventBus.js","../../src/utils/lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/utils/index.js","../../src/error.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.js","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/event/index.js","../../src/model/index.js","../../src/build/buildMgr.js","../../src/build/index.js","../../src/event/index.js","../../src/index.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否禁用第一次执行\n    trailing: true // 是否禁用最后一次回调\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function lock() {\n  this.locked = null\n}\n\nlock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nlock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\nRequest Config:\n{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/shared.md).\n  adapter: function (config) {\n},\n\n// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n// This will set an `Authorization` header, overwriting any existing\n// `Authorization` custom headers you have set using `headers`.\n// Please note that only HTTP Basic auth is configurable through this parameter.\n// For Bearer tokens and such, use `Authorization` custom headers instead.\nauth: {\n  username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` indicates the type of data that the server will respond with\n// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n//   browser only: 'blob'\nresponseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` allows handling of progress events for downloads\n// browser only\nonDownloadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\nmaxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n  return status >= 200 && status < 300; // default\n},\n\n// `maxRedirects` defines the maximum number of redirects to follow in node.js.\n// If set to 0, no redirects will be followed.\nmaxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n  protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n      password: 'rapunz3l'\n  }\n},\n\n// `cancelToken` specifies a cancel token that can be used to cancel the request\n// (see Cancellation section below for details)\ncancelToken: new CancelToken(function (cancel) {\n}),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n  // silent JSON parsing mode\n  // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n  // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n  silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n}\n}\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\nInstance methods:\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\naxios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\nCancellation\n\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport lock from './lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport fetchConfig from './fetchConfig'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n  value === null ||\n  value === '' ||\n  value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n","// import { utils } from '@ty/shared'\nimport * as utils from './utils'\nconst { isString, isPlainObject } = utils\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n\nwindow.$taskQueue = taskQueue\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '../error'\nimport { doSchedule, curry, schedule, waitSchedule } from '../scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      // todo: log file not include error.\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (res.code === 200) {\n            self._view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            return\n          }\n\n          // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n          handleAddWindowResizeResolution(self)\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  _showMask() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  _hideMask() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    if (functionExist(this._view3d, 'SetParameters')) {\n      this.setParameters({\n        showmouse: cursorVisible\n      })\n    }\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, 500)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 3\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n    // 定位之前，显示遮罩\n    this.viewer?.core?._showMask()\n    // 先删除点选回调\n    this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      self.viewer?.core?._hideMask()\n      self.viewer?.event?.reBindMouseClickCallback()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n        view3d.FlyToPosition(position, showLocation, durationTime, enableCurve, res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        })\n\n        this.timer = setTimeout(() => {\n          onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        }, this.duration + 0.5)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options {Object}\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 3,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true, // 对象是否需要高亮\n    }\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '../error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBindMouseClickCallback()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: true,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nclass MapActor {\n  constructor() {\n    // 线相关的材质\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model'\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image'\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring'\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon'\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '../utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nclass ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      lineWidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      text: '测试文本', // 文本内容\n      fontcolor: '#ffffff', // 文本颜色\n      fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      fontsize: 32.0, // 文本大小        screen不支持字体大小\n      style: 'white', // 立柱的颜色样式  screen不支持\n      pwidth: 1, // 立柱的宽度  screen不支持\n      pheight: 50.0, // 立柱的高度      screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: false,\n      offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActor from './actor'\n\nimport ModelConfig from './config'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n// import { MapModelLabel } from './model'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\n// @ts-ignore\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    this.config = ModelConfig\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n    this.ACTOR = MapActor\n  }\n\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBindMouseClickCallback()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBindMouseClickCallback()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险。'\n      )\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBindMouseClickCallback()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  overLayerRemoveAll() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      view3d.OverLayerRemoveAll()\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBindMouseClickCallback()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(data)\n      }\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.onClick(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compareFunc: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(Door.icon, this._iconClickHandler.bind(this), {\n      compareFunc: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:42\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport CameraEvent from '../category/devices/camera/event'\nimport DoorEvent from '../category/devices/door/event'\nimport IntercomEvent from '../category/devices/intercom/event'\n\n/**\n * @class\n * @classdesc 模型事件管理器\n *            针对各类设备，分类监听各种事件（点击、双击）\n */\nclass EventController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 监控类事件\n    this.camera = new CameraEvent(mapViewer)\n\n    // 门禁类事件\n    this.door = new DoorEvent(mapViewer)\n\n    // 对讲类事件\n    this.intercom = new IntercomEvent(mapViewer)\n  }\n}\n\nexport default EventController\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\n/**\n * @class MapBuildMgr\n * @description Scene组件 分层管理\n */\nexport default class MapBuildMgr {\n  constructor(view3d, viewer) {\n    let _this = this\n    _this.view3d = view3d\n    _this.viewer = viewer\n\n    /**\n     * @description 复原按钮gid\n     * @type 1\n     */\n    _this.BTN_RESET_BUILD_GID = \"BTN_RESET_BUILD\"\n    /**\n     * @description 上一次楼层位置\n     * @type 1\n     */\n    this.lastBuildId = null\n    this.lastFloorObjCopy = null\n    /**\n     * @description 建筑信息\n     */\n    this.buildData = { list: [], obj: {} }\n    /**\n     * @description 地面高度\n     * @type {Number}\n     */\n    this.groundHeight = 20\n\n    this.isAddFloorEvent = true\n    /**\n     * @description 是否已经分离建筑\n     * @type {boolean}\n     */\n    this.isSplitBuilded = false\n    /**\n     * @description 是否允许分离建筑\n     * @type {boolean}\n     */\n    this.isSplitBuild = true\n    /**\n     * @description 是否允许分层\n     * @type {boolean}\n     */\n    this.isSplitFloor = true\n    /**\n     * @description 分层配置\n     * @property 1\n     */\n    this.settings = [\n      {\n        gid: \"V001_JZ0005_WK\",\n        buildId: \"V001_JZ0005\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0004_WK\",\n        buildId: \"V001_JZ0004\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0003_WK\",\n        buildId: \"V001_JZ0003\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0002_WK\",\n        buildId: \"V001_JZ0002\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 6,\n        direction: { x: 8700, y: -2000, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0001_WK\",\n        buildId: \"V001_JZ0001\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 6,\n        direction: { x: -6000, y: 1500, z: 0 }\n      }\n    ]\n\n    /**\n     * @description 是否已经初始化\n     * @type {boolean}\n     */\n    this.stateInit = false\n\n    /**\n     * @description 默认楼层之间间距高度\n     * @type 1\n     */\n    this.floorIntervalHeight = 550\n    this.setFloorIntervalHeight = (viewer, val) => {\n      this.floorIntervalHeight = val\n      this.refreshBuildData(viewer)\n    }\n    /**\n     * @description 楼层高度\n     */\n    this.floorHeight = 600\n    this.showFloorTypeEnum = {\n      LEFT_RIGHT: \"leftRight\",\n      UP_DOWN: \"upDown\",\n      NORMAL: \"normal\"\n    }\n    /**\n     * upDown, leftRight\n     */\n    this.splitType = \"normal\"\n\n    /**\n     * @description 初始化 楼层必要信息\n     */\n    this.init = async (ins) => {\n      let res = await this.getBuildData(ins)\n      if (this.stateInit === true) {\n        return res\n      } else {\n        this.stateInit = true\n      }\n\n      if (this.isAddFloorEvent) {\n        await this.addMouseCallback(ins) // 设置楼层点击事件\n      }\n      return res\n    }\n    this.addMouseCallbackLock = new utils.lock()\n    this.addMouseCallback = async (instance) => {\n      await this.getBuildData(instance)\n      instance.event.onClick(\"V00\", async (res) => {\n        if (\n          instance.build.isBuildFloor(res.gid) &&\n          this.lastFloorObjCopy &&\n          this.lastFloorObjCopy.gid === res.gid\n        ) {\n          return\n        }\n        if (instance.build.isBuildWK(res.gid)) {\n          console.log(\"点击建筑\", res)\n          let buildId = instance.build.getBuildIdByWKGid(res.gid)\n          this.lastBuildId = buildId\n          this.isSplitBuild && (await this.doSplitBuild(instance, buildId))\n          this.event.onBuildClick.triggerAll(instance, buildId)\n        }\n        if (instance.build.isBuildTitle(res.gid)) {\n          let buildId = instance.build.getBuildIdByWKGid(res.gid)\n          this.isSplitBuild && (await this.doSplitBuild(instance, buildId))\n          this.event.onBuildTitleClick.triggerAll(instance, buildId)\n        }\n        if (instance.build.isBuildFloor(res.gid)) {\n          let buildId = instance.build.getBuildIdByFloorGid(res.gid)\n          let floorId = instance.build.getFloorIdByFloorGid(res.gid)\n          this.isSplitFloor &&\n          this.doShowFloor(instance, buildId, floorId).then(() => {\n            _this.lastFloorObjCopy = JSON.parse(JSON.stringify(res)) // 判断是否是同一楼层\n          })\n          this.event.onFloorClick.triggerAll(instance, buildId, floorId)\n        }\n        if (instance.build.isFloorRoom(res.gid)) {\n          console.log(\"点击房间\")\n          let buildId = instance.build.getBuildIdByRoomGid(res.gid)\n          let floorId = instance.build.getFloorIdByRoomGid(res.gid)\n          this.isSplitFloor &&\n          this.doShowFloor(instance, buildId, floorId).then(() => {\n            _this.lastFloorObjCopy = JSON.parse(JSON.stringify(res)) // 判断是否是同一楼层\n          })\n          this.onRoomClick(instance, buildId, floorId, res.gid)\n          this.event.onRoomClick.triggerAll(instance, buildId, floorId, res.gid)\n        }\n      })\n    }\n    this.findSettingByGid = (buildId) => {\n      return this.settings.filter((x) => x.buildId === buildId)[0]\n    }\n    this.getBuildTopLocation = (buildInfo) => {}\n    this.BtnCtl = {\n      /**\n       * 点击可以分层的按钮\n       */\n      btnSplitBuilds: [],\n      // btnSplitBuildOffset: {},\n      isShowBtn: false,\n      isShowBtnBuildHasFloor: false,\n      /**\n       * @description 创建复原按钮\n       * @param instance\n       * @param res\n       * @param clickEvent\n       */\n      createBtnResetBuild(instance, buildId, clickEvent) {\n        if (!this.isShowBtn) return\n        _this.BtnCtl.removeBtnResetBuild(instance)\n        let buildInfo = _this.getBuildInfoById(buildId)\n        let lastFloor = buildInfo.floors[buildInfo.floors.length - 1]\n        let searchId = buildId\n        if (lastFloor) {\n          // 存在最顶层\n          searchId = lastFloor.gid\n          let btnLocation = FloorApi.getBtnLocationByBuildId(buildId)\n          let loc = btnLocation\n            ? btnLocation\n            : {\n              ...lastFloor.location,\n              z: lastFloor.locationSplit.z + _this.floorHeight\n            }\n\n          function bak() {\n            instance.drawer.create\n              .imageLabel(\n                {\n                  gid: _this.BTN_RESET_BUILD_GID,\n                  iconstyle: \"return.png\",\n                  location: loc,\n                  screen: false,\n                  scale: 1,\n                  text: \"结束分层\",\n                  fontsize: \"500\"\n                },\n                true\n              )\n              .then(() => {\n                instance.event.onClick(\n                  _this.BTN_RESET_BUILD_GID,\n                  () => {\n                    clickEvent()\n                  }\n                )\n              })\n          }\n\n          instance.drawer.create\n            .image(\n              {\n                gid: _this.BTN_RESET_BUILD_GID,\n                style: \"qiangji\",\n                location: loc,\n                screen: true,\n                scale: 1\n              },\n              true\n            )\n            .then(() => {\n              instance.event.onClick(\n                _this.BTN_RESET_BUILD_GID,\n                () => {\n                  clickEvent()\n                }\n              )\n            })\n        }\n      },\n      /**\n       * 复原建筑方法\n       */\n      resetBuildFunc: () => {},\n      /**\n       * 删除建筑复原按钮\n       * @param instance\n       */\n      removeBtnResetBuild(instance) {\n        if (_this.BtnCtl.isShowBtn === true) return\n        instance.drawer.remove.oneById(_this.BTN_RESET_BUILD_GID)\n      },\n      /**\n       * 添加复原楼层按钮\n       * @param instance\n       * @param location\n       * @param clickEvent\n       */\n      createBtnResetFloor(instance, buildId, floorId, clickEvent) {\n        if (!this.isShowBtn) return new Promise((resolve) => resolve())\n        return new Promise((rootResolve) => {\n          if (_this.isSplitBuilded === false) {\n            // 防止异步操作\n            rootResolve()\n            return\n          }\n          let buildInfo = _this.getBuildInfoById(buildId)\n          let floorInfo = _this.getFloorInfoById(buildId, floorId)\n          let btnLocation = FloorApi.getBtnLocationByBuildId(buildId) // 按钮位置\n          let loc = { ...floorInfo.location }\n          if (btnLocation) {\n            loc.x = btnLocation.x\n            loc.y = btnLocation.y\n          }\n          loc.z += _this.floorHeight\n          this.removeBtnResetFloor(instance)\n\n          function bak() {\n            instance.drawer.create\n              .imageLabel({\n                gid: \"BTN_RESET_FLOOR_GID\",\n                iconstyle: \"return.png\",\n                location: loc,\n                screen: false,\n                scale: 1,\n                text: \"复 原 楼 层\",\n                fontsize: \"500\"\n              })\n              .then(() => {\n                instance.event.onClick(\n                  \"BTN_RESET_FLOOR_GID\",\n                  (res) => {\n                    clickEvent && clickEvent()\n                  }\n                )\n              })\n          }\n\n          instance.drawer.create\n            .image({\n              gid: \"BTN_RESET_FLOOR_GID\",\n              iconstyle: \"qiangji\",\n              location: loc,\n              screen: true,\n              scale: 1\n            })\n            .then(() => {\n              rootResolve()\n              instance.event.onClick(\n                \"BTN_RESET_FLOOR_GID\",\n                (res) => {\n                  clickEvent && clickEvent()\n                }\n              )\n            })\n        })\n      },\n      removeBtnResetFloor(instance) {\n        if (!this.isShowBtn) return\n        instance.drawer.remove.oneById(\"BTN_RESET_FLOOR_GID\").then(() => {})\n      },\n      /**\n       * 复原楼层方法\n       */\n      resetFloorFunc: () => {},\n      /**\n       * 是否绘制可以掀层的图标\n       */\n      hasFloorRectWidth: 5000,\n      setHasFloorRectWidth(w) {\n        this.hasFloorRectWidth = w\n      },\n      /**\n       * 创建是否有室内建筑标注\n       * @param instance\n       * @param bDataList\n       */\n      async createBtnBuildHasFloor(instance, bDataList) {\n        let hasFloorsBuildInfos = await _this.getBuildDataHasFloor(instance)\n        if (\n          hasFloorsBuildInfos.list.length === 0 ||\n          _this.BtnCtl.isShowBtnBuildHasFloor === false\n        ) {\n          return\n        }\n\n        for (const item of hasFloorsBuildInfos.list) {\n          let buildId = item.id\n\n          function getRectByPoint(point, width) {\n            return [\n              { x: point.x - width / 2, y: point.y + width / 2, z: point.z },\n              { x: point.x - width / 2, y: point.y - width / 2, z: point.z },\n              { x: point.x + width / 2, y: point.y - width / 2, z: point.z },\n              { x: point.x + width / 2, y: point.y + width / 2, z: point.z }\n            ]\n          }\n\n          let showConfigArr = FloorApi.getShowConfig()\n          let showConfig = showConfigArr.filter((x) => x.buildId === buildId)[0]\n          if (!showConfig) {\n            return\n          }\n\n          // 显示配置项\n          let points = showConfig.points ? showConfig.points : null\n          if (!points) {\n            return\n          }\n          const ACTOR = instance.drawer.ACTOR // 模型样式枚举\n          let res = await instance.drawer.create.polygon3d({\n            gid: this.getHasFloorGid(buildId),\n            edgestyle: ACTOR.LINE.SIM_ARRAW,\n            points: points,\n            attr: { buildGid: item.gid }\n          })\n          _this.BtnCtl.btnSplitBuilds.push(res)\n        }\n      },\n      /**\n       * 根据id创建有楼层的标注\n       * @param instance\n       * @param bId\n       * @param clickEvent\n       */\n      ctBtnBuildHasFloorByBId(instance, bId) {\n        FloorApi.getShowConfig().then((fRes) => {\n          let bData = fRes.filter((x) => x.id === bId)[0]\n          if (bData) {\n            function getRectByPoint(point, width) {\n              return [\n                { x: point.x - width / 2, y: point.y + width / 2, z: point.z },\n                { x: point.x - width / 2, y: point.y - width / 2, z: point.z },\n                { x: point.x + width / 2, y: point.y - width / 2, z: point.z },\n                { x: point.x + width / 2, y: point.y + width / 2, z: point.z }\n              ]\n            }\n\n            let points = bData.points\n              ? bData.points\n              : getRectByPoint(bData.location, _this.BtnCtl.hasFloorRectWidth)\n\n            instance.drawer.create\n              .polygon3d({\n                gid: this.getHasFloorGid(bData.id),\n                edgestyle: STYLES.sim_arraw,\n                points: points,\n                attr: { buildGid: bData.gid }\n              })\n              .then((res) => {\n                if (\n                  !_this.BtnCtl.btnSplitBuilds.some((x) => x.gid === res.gid)\n                ) {\n                  _this.BtnCtl.btnSplitBuilds.push(res)\n                }\n              })\n          }\n        })\n      },\n      getHasFloorGid(buildId) {\n        return \"BTN_SPLIT_BUILD_\" + buildId\n      },\n      rmBtnBuildHasFloorAll(instance) {},\n      /**\n       * 删除\n       * @param instance\n       * @param buildId\n       */\n      rmBtnBuildHasFloorByBId(instance, buildId) {\n        let gid = this.getHasFloorGid(buildId)\n        instance.drawer.remove.oneById(gid)\n        _this.BtnCtl.btnSplitBuilds = _this.BtnCtl.btnSplitBuilds.filter(\n          (x) => x.gid !== gid\n        )\n      },\n      /**\n       * 刷新\n       * @param instance\n       * @param buildId\n       */\n      rfBtnBuildHasFloorByBId(instance, buildId) {\n        this.rmBtnBuildHasFloorByBId(instance, buildId)\n        this.ctBtnBuildHasFloorByBId(instance, buildId)\n      },\n      getBtnBuildHasFloor() {\n        return _this.BtnCtl.btnSplitBuilds\n      },\n      getBtnBuildHasFloorByBuildGid(gid) {\n        return _this.BtnCtl.btnSplitBuilds.filter(\n          (x) => x.attr.buildGid === gid\n        )[0]\n      },\n      /**\n       * 根据id显示建筑有室内\n       * @param instance\n       * @param buildGid\n       * @param visible\n       */\n      setVisibleBtnBuildHasFloorByBuildGid(instance, buildGid, visible) {\n        let mo = _this.BtnCtl.getBtnBuildHasFloorByBuildGid(buildGid)\n        if (\n          mo &&\n          (_this.BtnCtl.isShowBtnBuildHasFloor === visible || visible === false)\n        ) {\n          instance.drawer.updateObjectVisibleAsync(mo.gid, visible)\n        }\n      },\n      /**\n       * 显隐所有建筑有室内\n       * @param instance\n       * @param visible\n       */\n      setVisibleBtnBuildHasFloorAll(instance, visible) {\n        if (\n          _this.BtnCtl.isShowBtnBuildHasFloor === visible ||\n          visible === false\n        ) {\n          _this.BtnCtl.btnSplitBuilds.forEach((mo) => {\n            instance.drawer.updateObjectVisibleAsync(mo.gid, visible)\n          })\n        }\n      }\n    }\n\n    /**\n     * 建筑分离\n     * @param instance\n     * @param buildId\n     */\n    this.doSplitBuild = async (instance, buildId) => {\n      _this.BtnCtl.resetFloorFunc = () => {} // 清空复原楼层方法\n      // 隐藏分层按钮\n      let buildGid = instance.build.getBuildGidByBuildId(buildId)\n      let buildInfo = _this.getBuildInfoById(buildId) // 获取楼层信息\n      if (buildInfo.floors.length === 0) {\n        return\n      }\n\n      _this.resetAllBuildingWrap(instance)\n\n      // 隐藏有楼层标注\n      _this.BtnCtl.setVisibleBtnBuildHasFloorByBuildGid(\n        instance,\n        buildGid,\n        false\n      )\n      // if (_this.BtnCtl.isShowBtn === true) {\n      _this.BtnCtl.removeBtnResetBuild(instance) // 删除之前创建的按钮\n      _this.BtnCtl.removeBtnResetFloor(instance)\n      _this.BtnCtl.resetBuildFunc = async () => {\n        _this.event.onResetBuild.triggerAll(buildId, buildInfo)\n        _this.isSplitBuilded = false\n        buildInfo.floors.forEach((x) => (x.isMoved = false)) // 还原\n        _this.resetAllBuildingWrap(instance)\n        _this.BtnCtl.removeBtnResetBuild(instance)\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        _this.lastFloorObjCopy = null // 置空\n        _this.lastBuildId = null\n      }\n      // 创建分层复原按钮\n      _this.BtnCtl.createBtnResetBuild(instance, buildId, () => {\n        _this.BtnCtl.resetBuildFunc()\n      })\n      // } else {\n      //   _this.BtnCtl.resetBuildFunc = () => {\n      //     _this.onResetBuild && _this.onResetBuild(buildId, buildInfo) // 复原楼层事件\n      //     _this.isSplitBuilded = false\n      //     buildInfo.floors.forEach((x) => (x.isMoved = false)) // 还原\n      //     _this.resetAllBuildingWrap(instance)\n      //     lastFloorObjCopy = null // 置空\n      //   }\n      // }\n\n      _this.event.onSplitBuild.triggerAll(buildId, buildInfo)\n\n      // 实际执行split\n      await _this._splitBuildAnimation(\n        instance,\n        buildId,\n        _this.floorIntervalHeight\n      )\n\n      _this.event.onSplitBuildEnd.triggerAll(buildId, buildInfo)\n\n\n      // 判断是否有地下\n      // if (\n      //   buildInfo.floors.filter((x) => x.floorname.indexOf(\"B\") > -1)\n      //     .length > 0\n      // ) {\n      //   instance.build.setGroundVisible(false)\n      // } else {\n      //   instance.build.setGroundVisible(true)\n      // }\n    }\n    /**\n     * 分层方法\n     * @param instance MapViewer\n     * @param buildId 建筑id\n     * @param floorId 楼层id\n     */\n    this.doShowFloor = (instance, buildId, floorId) => {\n      return new Promise((resolve) => {\n        let success = (res) => {\n          resolve(res)\n          let floorInfo = _this.getFloorInfoById(buildId, floorId)\n          _this.event.onSplitFloor.triggerAll(buildId, floorId, floorInfo)\n        }\n        switch (_this.splitType) {\n          case _this.showFloorTypeEnum.LEFT_RIGHT:\n            _this\n              ._doShowFloorByMoveBySetting(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n          case _this.showFloorTypeEnum.UP_DOWN:\n            _this\n              ._doShowFloorByUpDown(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n          default:\n            _this\n              ._doShowFloorOld(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n        }\n      })\n    }\n    this.resetAllBuildingWrap = (instance) => {\n      instance.build.resetAllBuildings()\n      // let arr = _this.BtnCtl.getBtnBuildHasFloor()\n      // arr.forEach((x) => {\n      //   instance.drawer.updateObjectVisibleAsync(x.gid, true)\n      // })\n      _this.BtnCtl.setVisibleBtnBuildHasFloorAll(instance, true)\n    }\n\n    /**\n     * @description 根据相机分层\n     * @function\n     * @private\n     */\n    this._doShowFloorByMoveByCamera = (instance, buildId, floorId) => {\n      let res = _this.getFloorInfoById(buildId, floorId)\n      // let floorId = instance.build.getFloorIdByFloorGid(res.gid)\n      // showFloor(instance, buildCurr.current, floorId)\n      // 移动floor\n      instance.camera.getCurrentPosition().then((cameraPos) => {\n        let floorPos = res.location\n        resetLastFloor(instance, res.gid)\n        let copyTmp = JSON.parse(JSON.stringify(res))\n        let copyTmpForLocation = JSON.parse(JSON.stringify(res)) // 用于变换位置\n        let offset = {\n          xOffset: floorPos.x - cameraPos.x,\n          yOffset: floorPos.y - cameraPos.y\n        }\n        let floorPosNew = { ...floorPos, x: cameraPos.x, y: cameraPos.y } // 保存之前的z值\n        copyTmpForLocation.location = floorPosNew\n        delete copyTmpForLocation.position\n        if (_this.lastFloorObjCopy && _this.lastFloorObjCopy.gid !== res.gid) {\n          setTimeout(() => {\n            instance.drawer.updateObjectsAsync([copyTmpForLocation])\n          }, 4000)\n        } else if (_this.lastFloorObjCopy === null) {\n          // 第一次直接执行\n          instance.drawer.updateObjectsAsync([copyTmpForLocation])\n        }\n        _this.lastFloorObjCopy = copyTmp\n      })\n    }\n    /**\n     * @description 左右分层\n     * @function\n     * @private\n     */\n    this._doShowFloorByMoveBySetting = async (instance, buildId, floorId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      let floorInfo = _this.getFloorInfoById(buildId, floorId)\n      let floorPos = floorInfo.location\n      let showFloorSetting = _this.findSettingByGid(buildId)\n      if (!showFloorSetting) {\n        console.error(`建筑${buildId} showFloorSetting 未配置`)\n        return\n      }\n\n      /**\n       * 还原上次楼层位置\n       */\n      async function resetLastFloor(instance, gid, isForce = false) {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        if (\n          (!_this.lastFloorObjCopy || _this.lastFloorObjCopy.gid === gid) &&\n          isForce === false\n        ) {\n          return\n        }\n\n        let arr = []\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        buildInfo.floors.forEach((f) => {\n          f.location = f.locationSplit\n          arr.push(f)\n          f.rooms.forEach((r) => {\n            r.location = r.locationSplit\n            arr.push(r)\n          })\n        })\n        await instance.drawer.updateObjectsAsync(\n          arr,\n          showFloorSetting.waitSecond * 1000\n        )\n        _this.lastFloorObjCopy = null\n      }\n\n      // 复原当前\n      _this.BtnCtl.resetFloorFunc = async () => {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        let arr = []\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        buildInfo.floors.forEach((f) => {\n          f.location = f.locationSplit\n          arr.push(f)\n          f.rooms.forEach((r) => {\n            r.location = r.locationSplit\n            arr.push(r)\n          })\n        })\n        await instance.drawer.updateObjectsAsync(\n          arr,\n          showFloorSetting.waitSecond * 1000\n        )\n\n        _this.BtnCtl.resetFloorFunc = () => {}\n      }\n\n      await resetLastFloor(instance, floorInfo.gid)\n      // 如果是顶楼不做任何事\n      if (buildInfo.floors[buildInfo.floors.length - 1].gid === floorInfo.gid) {\n        return\n      }\n\n      if (\n        !_this.lastFloorObjCopy ||\n        _this.lastFloorObjCopy.gid !== floorInfo.gid\n      ) {\n        let copyTmp = JSON.parse(JSON.stringify(floorInfo)) // 用于保存上一次变换\n        let updateObjs = [\n          {\n            ...copyTmp,\n            location: {\n              ...floorPos,\n              x: floorPos.x + showFloorSetting.direction.x,\n              y: floorPos.y + showFloorSetting.direction.y\n            }\n          }\n        ]\n        copyTmp.rooms.forEach((r) => {\n          r.location = {\n            ...r.location,\n            x: r.location.x + showFloorSetting.direction.x,\n            y: r.location.y + showFloorSetting.direction.y\n          }\n          updateObjs.push(r)\n        })\n\n        // 更新楼层位置动画\n        await instance.drawer.updateObjectsAsync(\n          updateObjs,\n          showFloorSetting.showSecond * 1000\n        )\n        _this.lastFloorObjCopy = copyTmp\n        // 绘制图标\n        await _this.BtnCtl.createBtnResetFloor(\n          // 创建复原楼层图标\n          instance,\n          buildId,\n          floorId,\n          () => {\n            resetLastFloor(instance, floorInfo.gid, true) // 指定关闭, 点击相同楼层\n          }\n        )\n      }\n    }\n    /**\n     * @function\n     * @private\n     * @description 上下分层\n     */\n    this._doShowFloorByUpDown = async (instance, buildId, floorId) => {\n      let res = _this.getFloorInfoById(buildId, floorId)\n\n      _this.BtnCtl.resetFloorFunc = (instance) => {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        let updateObjs = []\n        buildInfo.floors.forEach((x) => {\n          x.location = { ...x.locationSplit } // 还原位置\n          updateObjs.push(x)\n          x.rooms.forEach((r) => {\n            r.location = { ...r.locationSplit }\n            updateObjs.push(r)\n          })\n        })\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        // 执行更新\n        return instance.drawer.updateObjectsAsync(updateObjs, 1000)\n      }\n\n      // 移动floor\n      let buildInfo = _this.getBuildInfoById(buildId)\n\n      // 如果是顶楼不做任何事\n      if (buildInfo.floors[buildInfo.floors.length - 1].gid === res.gid) {\n        return\n      }\n\n      // 移动位置\n      let isFoundFloor = false // 是否找到点击的楼层\n      let updateObjs = []\n      // 计算位置\n      for (let i = 0; i < buildInfo.floors.length; i++) {\n        let f = buildInfo.floors[i]\n        if (isFoundFloor === true) {\n          let moveHeight = 10000\n          f.isMoved = true // 已经移动\n          f.location.z = f.locationSplit.z + moveHeight // 计算高度\n          updateObjs.push(f)\n          f.rooms.forEach((r) => {\n            r.location.z = r.locationSplit.z + moveHeight\n            updateObjs.push(r)\n          })\n        } else {\n          // 未找到的还原到原来的位置\n          f.location = { ...f.locationSplit } // 还原位置\n          updateObjs.push(f)\n          f.rooms.forEach((r) => {\n            r.location = { ...r.locationSplit }\n            updateObjs.push(r)\n          })\n        }\n        if (res.gid === f.gid) {\n          // 找到点击的楼层 从此处需要移动\n          isFoundFloor = true\n        }\n      }\n\n      // 创建复原楼层图标\n      await _this.BtnCtl.createBtnResetFloor(instance, buildId, floorId, () => {\n        _this.BtnCtl.resetFloorFunc(instance)\n      })\n      updateObjs = JSON.parse(JSON.stringify(updateObjs))\n      updateObjs.forEach((x) => {\n        delete x.rooms\n        delete x.locationOrigin\n        delete x.locationSplit\n      })\n      await instance.drawer.updateObjectsAsync(updateObjs, 1000)\n    }\n    /**\n     * @function\n     * @private\n     * @description 楼层分层显示\n     * @param buildId 例 V001_JZ0001\n     * @param floorId 例 V001_JZ0001_F004\n     */\n    this._doShowFloorOld = async (instance, buildId, floorId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      if (!buildInfo) {\n        console.error(`${buildId} 不存在`)\n        return\n      }\n      if (!buildInfo.floors || !utils.isArray(buildInfo.floors)) {\n        console.error(\n          `${buildId} 楼层信息:${buildInfo.floors} 不存在或者不是数组`\n        )\n        return\n      }\n\n      for (const floor of buildInfo.floors) {\n        let floorName = instance.build.getFloorNameByFloorId(floorId)\n        instance.build.setFloorVisible(\n          buildId,\n          floor.floorname,\n          _this.floorLessEq(floor.floorname, floorName) <= 0\n        )\n      }\n      if (_this.BtnCtl.isShowBtn === true) {\n        _this.BtnCtl.resetFloorFunc = () => {\n          if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n          // 还原所有\n          for (const floor of buildInfo.floors) {\n            let floorName = instance.build.getFloorNameByFloorId(floorId)\n            instance.build.setFloorVisible(buildId, floor.floorname, true)\n          }\n          _this.BtnCtl.removeBtnResetFloor(instance)\n        }\n        // 创建复原楼层图标\n        await _this.BtnCtl.createBtnResetFloor(\n          instance,\n          buildId,\n          floorId,\n          () => {\n            _this.BtnCtl.resetFloorFunc()\n          }\n        )\n      } else {\n        _this.BtnCtl.resetFloorFunc = () => {\n          if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n          for (const floor of buildInfo.floors) {\n            // 还原所有\n            let floorName = instance.build.getFloorNameByFloorId(floorId)\n\n            instance.build.setFloorVisible(buildId, floor.floorname, true)\n          }\n        }\n      }\n\n      // // 显示路网\n      // PathMgr.drawByFloorName(\n      //   instance,\n      //   instance.build.getFloorNameByFloorId(floorId)\n      // )\n    }\n    /**\n     * @description 分离建筑\n     * @function\n     * @private\n     * @param instance\n     * @param buildId\n     */\n    this._splitBuildAnimation = async (instance, buildId) => {\n      if (instance) {\n        _this.isSplitBuilded = true\n        // 查询当前建筑的楼层\n        let floors = _this.getBuildInfoById(buildId).floors\n        // 隐藏建筑外壳\n        let updateObjs = []\n        for (let i = 0; i < floors.length; i++) {\n          let item = floors[i]\n          if (item.gid.indexOf(\"B\") < 0) {\n            item.location = { ...item.locationSplit }\n            item.visible = true\n            updateObjs.push(item)\n            for (let j = 0; j < item.rooms.length; j++) {\n              let room = item.rooms[j]\n              room.location = { ...room.locationSplit }\n              room.visible = true\n              updateObjs.push(room)\n            }\n          }\n        }\n        await instance.build.setBuildingVisible(buildId, false)\n        await instance.drawer.setObjectsVisibleAsync(updateObjs, 100)\n        await instance.drawer.updateObjectsAsync(updateObjs, 500)\n      }\n    }\n    /**\n     * @description 定位到位置\n     * @param instance\n     * @param pos\n     * @param dis\n     * @param isBefore 是否在模型前面\n     */\n    this._flyToPositionView = (instance, pos, dis = 300, isBefore = 1) => {\n      instance.camera.getCurrentPosition().then((res) => {\n        let posNew = JSON.parse(JSON.stringify(pos))\n        posNew.yaw = res.yaw\n        // if (isBefore) {\n        //   posNew.yaw = (posNew.yaw + 180) % 360\n        // }\n        let y = Math.sin((posNew.yaw / 180) * Math.PI) * dis\n        let x = Math.cos((posNew.yaw / 180) * Math.PI) * dis\n        posNew.x -= x\n        posNew.y -= y\n        posNew.z += dis\n        posNew.pitch = 45\n        instance.camera.flyToPosition(posNew)\n      })\n    }\n    /**\n     * @description 楼层判断\n     * @param f1 F002\n     * @param f2 F001\n     */\n    this.floorLessEq = (f1, f2) => {\n      let arr = [\"B\", \"W\", \"F\"]\n      let floorFlag1 = f1.substr(0, 1) // F\n      let floorFlag2 = f2.substr(0, 1) // F\n\n      let floorNum1 = Number(f1.substr(1)) // 1\n      let floorNum2 = Number(f2.substr(1)) // 2\n\n      let floorFlagTmp1 = floorFlag1 === \"M\" ? \"F\" : floorFlag1 // 将M临时替换成F\n      let floorFlagTmp2 = floorFlag2 === \"M\" ? \"F\" : floorFlag2\n\n      let floorFlagIdx1 = arr.indexOf(floorFlagTmp1)\n      let floorFlagIdx2 = arr.indexOf(floorFlagTmp2)\n\n      if (floorFlagIdx1 !== floorFlagIdx2) {\n        // 楼层标志不相同\n        return floorFlagIdx1 - floorFlagIdx2\n      } else {\n        // 楼层相同\n        // 同是地面, 地下\n        if (floorFlagTmp1 !== \"F\") {\n          // B,W\n          // 同是地下B, 地面\n          return -(floorNum1 - floorNum2)\n        } else {\n          // F\n          // 同是地上\n          if (floorNum1 !== floorNum2) {\n            // 地上楼层不相等\n            return floorNum1 - floorNum2\n          } else {\n            // 地上楼层相等\n            if (floorFlag1 === floorFlag2) {\n              // 完全相等\n              return 0\n            } else {\n              return floorFlag1 === \"F\" ? -1 : 1\n            }\n          }\n        }\n      }\n    }\n    this.getBuildDataLock = new utils.lock()\n    /**\n     * @description 获取地图内部, 建筑数据\n     * @function\n     * @param instance\n     */\n    this.getBuildData = async (instance) => {\n      await _this.getBuildDataLock.lock()\n      if (_this.buildData.list.length > 0) {\n        _this.getBuildDataLock.unlock()\n        return _this.buildData\n      } else {\n        let builds = await instance.build.getBuildingNamesSync()\n        _this.buildData.list = builds\n        for (let i = 0; i < builds.length; i++) {\n          let build = builds[i]\n          _this.buildData.obj[build.id] = build // 构造键值对\n\n          build.gid = build.id + \"_WK\" //设置gid\n          let buildMos = await instance.drawer.findObjectByPrefix(build.id, 200) // 查询相关模型\n          // for (const x of buildMos) {\n          //   let mo = await instance.drawer.findObjectById(x.gid, 10)\n          //   if (mo.gid === x.gid) x.location = mo.location\n          // }\n\n          build.xps = buildMos.filter((x) => instance.build.isBuildXP(x.gid)) // 其他模型\n          build.floors = [] // 下面构造\n          build.location = (\n            await instance.drawer.findObjectById(build.gid)\n          ).location // 保存建筑位置\n          // const res = instance.build.getFloorNamesSync(build.id)\n\n          let buildFloorMos = buildMos.filter((x) => {\n            return (\n              x.gid.indexOf(\"B\") < 0 &&\n              (instance.build.isBuildFloor(x.gid) ||\n                instance.build.isFloorXP(x.gid) ||\n                instance.build.isFloorRoom(x.gid))\n            )\n          })\n\n          buildFloorMos.sort((a, b) =>\n            _this.floorLessEq(\n              a.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\"),\n              a.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\")\n            )\n          ) // 排序\n\n          // 房间分组\n          let floorGroup = utils.groupBy(buildFloorMos, (e) => {\n            return e.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\")\n          })\n\n          if (Object.keys(floorGroup).length !== 0) {\n            let floorCount = 0 // 地上楼层计数\n            for (const floorSimpleKey of Object.keys(floorGroup)) {\n              let floorAndRoom = floorGroup[floorSimpleKey]\n\n              let floor = floorAndRoom.filter((x) =>\n                instance.build.isBuildFloor(x.gid)\n              )[0]\n              floor.rooms = floorAndRoom.filter(\n                (x) => !instance.build.isBuildFloor(x.gid)\n              )\n              floor.xps = floorAndRoom.filter((x) =>\n                instance.build.isFloorXP(x.gid)\n              )\n\n              let floorCopy = JSON.parse(JSON.stringify(floor)) // 复制楼层数据\n              floorCopy.buildId = instance.build.getBuildIdByFloorGid(\n                floorCopy.gid\n              )\n              floorCopy.buildGid = instance.build.getBuildGidByBuildId(\n                floorCopy.gid\n              )\n              floorCopy.id = instance.build.getFloorIdByFloorGid(floorCopy.gid) // V001_JZ0001_F001\n              floorCopy.floorname = instance.build.getFloorNameByFloorId(\n                floorCopy.id\n              )\n\n              floorCopy.locationOrigin = { ...floorCopy.location } // 保存原始位置\n              floorCopy.locationSplit = {\n                ...floorCopy.location,\n                z: floorCopy.location.z + floorCount * _this.floorIntervalHeight\n              } // 保存分层后的位置\n\n              // 房间\n              floorCopy.rooms.forEach((room) => {\n                room.locationOrigin = { ...room.location }\n                room.locationSplit = {\n                  ...room.location,\n                  z: room.location.z + floorCount * _this.floorIntervalHeight\n                }\n              })\n\n              floorCopy.xps.forEach((xp) => {\n                xp.locationOrigin = { ...xp.location }\n                xp.locationSplit = {\n                  ...xp.location,\n                  z: xp.location.z + floorCount * _this.floorIntervalHeight\n                }\n              })\n\n              build.floors.push(floorCopy)\n              floorCount++\n            }\n          } else {\n            console.log(`${build.id} 楼层数据为空`)\n          }\n        }\n        _this.getBuildDataLock.unlock()\n        return _this.buildData\n      }\n    }\n\n    /**\n     * 刷新buildData, 重新计算分离值\n     * @param instance\n     * @returns {Promise<void>}\n     */\n    this.refreshBuildData = (instance) => {\n      let _this = this\n      console.log(\"_this.buildData\", _this.buildData)\n      // 引用, 会同时修改\n      let floor\n      for (const build of _this.buildData.list) {\n        for (let i = 0; i < build.floors.length; i++) {\n          floor = build.floors[i]\n          floor.locationSplit.z =\n            floor.locationOrigin.z + i * _this.floorIntervalHeight\n        }\n      }\n    }\n\n    /**\n     * @description 获取有楼层的建筑信息\n     * @param instance\n     * @returns {Promise<unknown>}\n     */\n    this.getBuildDataHasFloor = async (instance) => {\n      let res = await this.getBuildData(instance)\n      let objNew = {}\n      for (const key of Object.keys(res.obj)) {\n        let item = res.obj[key]\n        if (item.floors.length > 0) {\n          objNew[key] = item\n        }\n      }\n      return {\n        list: res.list.filter((x) => x.floors.length > 0),\n        obj: objNew\n      }\n    }\n    /**\n     * @description 通过build id 获取buildInfo\n     */\n    this.getBuildInfoById = (buildId) => {\n      return _this.buildData.list.filter((x) => x.id === buildId)[0]\n    }\n    /**\n     * @description 通过build id 获取buildInfo\n     */\n    this.getFloorInfoById = (buildId, floorId) => {\n      let res\n      let buildInfo = _this.buildData.list.filter((x) => x.id === buildId)[0]\n      if (buildInfo) {\n        res = buildInfo.floors.filter((x) => x.id === floorId)[0]\n      }\n      return res\n    }\n    /**\n     * @description 获取楼层高度\n     * @param floorFlag\n     */\n    this.getFloorHeight = (floorFlag) => {\n      let flag = floorFlag.substr(0, 1)\n      let num = parseInt(floorFlag.substr(1))\n      switch (flag) {\n        case \"F\":\n          return _this.groundHeight + (num - 1) * _this.floorHeight\n        case \"W\":\n          return _this.groundHeight\n        case \"M\":\n          break\n        case \"B\":\n          return -num * _this.floorHeight\n      }\n    }\n    /**\n     * @description 建筑分离\n     * @param {String} buildId 建筑Id\n     * @param {MapCore} instance\n     * @param groundHeight 地面高度\n     * @param {Number} _floorIntervalHeight 分离高度\n     */\n    this.flyToBuildMo = {\n      last: null,\n      create(instance, buildId) {\n        this.remove(instance)\n        let buildInfo = _this.getBuildInfoById(buildId)\n        instance.drawer.create\n          .cone({\n            radius: 500, // 半径\n            height: 500, // 高\n            location: { ...buildInfo.location, pitch: 180, z: 5000 },\n            style: STYLES.SplineOrangeHighlight1\n          })\n          .then((res) => {\n            this.last = res\n          })\n      },\n      remove(instance) {\n        // 之前存在就删除\n        if (this.last) {\n          instance.drawer.remove.oneById(this.last.gid)\n        }\n      }\n    }\n    this.flyToBuild = (instance, buildId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      _this._flyToPositionView(instance, buildInfo.location, 10000, 1)\n      this.flyToBuildMo.create(instance, buildId)\n    }\n\n    /**\n     * @description 分层后显示楼层\n     * @param instance\n     * @param buildId\n     * @param floorId\n     * @param waitSplitSecond 等待时间\n     */\n    this.splitAndShowFloor = (\n      instance,\n      buildId,\n      floorId,\n      waitSplitSecond = 1.5\n    ) => {\n      if (_this.lastBuildId !== buildId) {\n        // 点击不同建筑\n        this.doSplitBuild(instance, buildId)\n        setTimeout(() => {\n          this.doShowFloor(instance, buildId, floorId)\n        }, waitSplitSecond * 1000)\n        _this.lastBuildId = buildId\n      } else {\n        // 点击相同建筑\n        this.doShowFloor(instance, buildId, floorId)\n      }\n    }\n\n    this.event = {\n      /**\n       * @description 添加建筑标题分层点击事件\n       * @param instance\n       */\n      onBuildTitleClick: new EventCollection(),\n      /**\n       * @description 添加建筑标题分层点击事件\n       * @param instance\n       */\n      onBuildClick: new EventCollection(),\n      /**\n       * @description 添加楼层分层点击事件\n       * @param instance\n       */\n      onFloorClick: new EventCollection(),\n      /**\n       * @description 点击楼层\n       * @function\n       * @param instance\n       * @param buildId\n       * @param floorId\n       * @param roomId\n       */\n      onRoomClick: new EventCollection(),\n      /**\n       * @description 建筑分离事件\n       */\n      onSplitBuild: new EventCollection(),\n      onSplitBuildEnd: new EventCollection(),\n      onResetBuild: new EventCollection(),\n      onResetBuildEnd: new EventCollection(),\n      /**\n       * @description 显示楼层事件\n       */\n      onSplitFloor: new EventCollection()\n    }\n  }\n}\n\n/**\n * 事件集合\n */\nclass EventCollection {\n  constructor() {\n    this.funcArr = []\n  }\n\n  add(desc, func) {\n    this.funcArr.push(new EventObj(desc, func))\n  }\n\n  /**\n   * 触发方法数组\n   */\n  triggerAll(...args) {\n    this.funcArr.forEach(x => {\n      x.func(...args) // 参数\n    })\n  }\n}\n\nclass EventObj {\n  /**\n   * 事件对象\n   * @param desc 描述\n   * @param func\n   */\n  constructor(desc, func) {\n    this.desc = desc\n    this.func = func\n  }\n}\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d) {\n    this.view3d = view3d\n    this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '../error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\n// TODO: prefix 不区分大小写\n\nconst MAP_STATUS_NORMAL = 0b0001 // 普通状态\nconst MAP_STATUS_DRAG = 0b0010 // 拖动的状态\n\nconst ZOOM_IN_KEY = 'zoomIn'\nconst ZOOM_OUT_KEY = 'zoomOut'\nconst MOUSE_MOVE_KEY = 'mousemove'\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [ZOOM_IN_KEY, ZOOM_OUT_KEY, MOUSE_MOVE_KEY]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compareFunc: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    this.prefix = '*'\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    this._emitMouseUp = false\n\n    this._addMouseMoveEvent()\n    this._addMouseUpEvent()\n    this._addMouseDownEvent()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 监控鼠标拖动的事件回调\n    this._onDragHandler = new Set()\n\n    // 开始拖动时的回调\n    this._onDragStartHandler = new Set()\n\n    // 停止拖动时的回调\n    this._onDragEndHandler = new Set()\n\n    // 事件系统实例化的时候，直接注册事件。不同在 onClick 里每次都重复注册\n    // this.reBindMouseClickCallback()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 150\n  }\n\n  _flushDragCallback = (callbackSet, e) => {\n    if (callbackSet.size > 0) {\n      callbackSet.forEach((callback) => {\n        callback(e)\n      })\n    }\n  }\n\n  _handleMouseMove(e) {\n    const self = this\n\n    // 从鼠标按下，到触发第一次拖动，调度一下开始拖动的回调\n    if (mapStatus === MAP_STATUS_NORMAL) {\n      this._flushDragCallback(this._onDragStartHandler, e)\n    }\n\n    mapStatus = MAP_STATUS_DRAG\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 拖动过程中，调度拖拽事件\n    this._flushDragCallback(this._onDragHandler, e)\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    mapMoveTimer = setTimeout(() => {\n      if (!self._emitMouseUp) {\n        self._handleMouseUp()\n      }\n    }, 100)\n  }\n\n  _handleMouseDown() {\n  }\n\n  _handleMouseUp() {\n    // 从拖拽的状态释放鼠标，调度一次拖拽结束时间\n    if (mapStatus === MAP_STATUS_DRAG) {\n      this._flushDragCallback(this._onDragEndHandler)\n    }\n\n    mapStatus = MAP_STATUS_NORMAL\n  }\n\n  _registerMouseEvent(key, callback) {\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n    $mapViewContainer.addEventListener(key, callback)\n  }\n\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n    if (existCallbackMapKey) {\n      const existCallbackMap =\n        this.prefixAndCallbackMap.get(existCallbackMapKey)\n      if (existCallbackMap) {\n        // 删除缓存的函数前,前保存一下\n        const cachedCallback = this.getCallbacks(key)[0].callback\n\n        // 再去删除缓存的函数\n        this._removeCacheCallback(key, callback)\n\n        if (\n          (!this.prefixAndCallbackMap.get(ZOOM_IN_KEY) &&\n            !this.prefixAndCallbackMap.get(ZOOM_OUT_KEY)) ||\n          key === MOUSE_MOVE_KEY\n        ) {\n          const mapViewContainerId = this.mapViewer.core.config.id\n          const $mapViewContainer = document.getElementById(mapViewContainerId)\n          // 移除DOM元素上的回调\n          $mapViewContainer.removeEventListener(key, cachedCallback)\n        }\n      }\n    }\n  }\n\n  _registerMouseWheelCallback(key = 'mousewheel', callback = NOOP) {\n    // 不重复监听鼠标滚轮事件\n    if (this._hasRegisterMouseWheelHandler) {\n      return\n    }\n    this._registerMouseEvent(key, callback)\n\n    this._hasRegisterMouseWheelHandler = true\n  }\n\n  async _mouseWheelHandler(e) {\n    let wheelDelta = e.wheelDelta\n    let eventTypeKey = ''\n    // zoomIn\n    if (wheelDelta > 0) {\n      eventTypeKey = ZOOM_IN_KEY\n      // zoomOut\n    } else if (wheelDelta < 0) {\n      eventTypeKey = ZOOM_OUT_KEY\n    }\n\n    if (\n      eventTypeKey &&\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        const mouseWheelMap = this.prefixAndCallbackMap.get(eventTypeKey)\n        if (mouseWheelMap) {\n          const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n          const mouseWheelEventCallbackSet =\n            mouseWheelEventCallbackMap.get('click')\n          mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n            if (oneMouseWheelHandlerMap.get('config').compareFunc) {\n              oneMouseWheelHandlerMap.get('config').compareFunc(e, position)\n            }\n          })\n        }\n      })\n    }\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 150ms.\n   */\n  setDragTicker(time = 150) {\n    this._dragTicker = time\n  }\n\n  // 视角放大\n  zoomIn(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomInHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomInHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n\n      this._cacheCallback(ZOOM_IN_KEY, zoomInHandler, {\n        isOnce: false,\n        compareFunc: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomInHandler)\n    }\n  }\n\n  // 视角缩小\n  zoomOut(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomOutHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomOutHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n      this._cacheCallback(ZOOM_OUT_KEY, zoomOutHandler, {\n        isOnce: false,\n        compareFunc: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomOutHandler)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback) {\n    const mouseMoveHandler = throttle((e) => {\n      console.log(e)\n    }, 500)\n\n    this._cacheCallback(MOUSE_MOVE_KEY, mouseMoveHandler, {\n      isOnce: false,\n      compareFunc: callback,\n      internal: false\n    })\n\n    this._registerMouseEvent(MOUSE_MOVE_KEY, mouseMoveHandler)\n  }\n\n  // 拖动地图的时候\n  onDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.add(callback)\n    }\n  }\n\n  onDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.add(callback)\n    }\n  }\n\n  onDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.add(callback)\n    }\n  }\n\n  removeDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.delete(callback)\n    }\n  }\n\n  removeDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.delete(callback)\n    }\n  }\n\n  removeDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.delete(callback)\n    }\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  // 监听鼠标按住并拖动地图的事件\n  _addMouseMoveEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmousemove', this._handleMouseMove.bind(this))\n    }\n  }\n\n  _addMouseDownEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmousedown', this._handleMouseDown.bind(this))\n    }\n  }\n\n  // 鼠标抬起\n  _addMouseUpEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmouseup', this._handleMouseUp.bind(this))\n    }\n  }\n\n  _resetMouseCallback() {\n    this.prefix = '*'\n\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cacheCallback(prefix, callback, config) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix) {\n      return\n    }\n\n    const prefixArr = prefix.split(',').map((p) => p.trim())\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        // const callbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix) {\n      return\n    }\n\n    const oldPrefixArr = oldPrefix.split(',')\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('config').compareFunc === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n          }\n        }\n      }\n    }\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    this.mapViewer.core.setParameters({\n      prefix: '*'\n    })\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compareFunc,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compareFunc， 且属于用户自定义的比较函数\n                if (compareFunc !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compareFunc(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= 300) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n                if (now - self._lastClickTimestamp <= 300) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, 300)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n      }\n      // view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compareFunc {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  onClick(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  reBindMouseClickCallback() {\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  setMouseDoubleClickCallback(prefix = '*', callback, config) {\n    // const self = this\n    this.onClick(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeMouseDoubleClickCallback(prefix, callback) {\n    this.remove(prefix, callback)\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBindMouseClickCallback 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","﻿//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n//工具类\nimport * as utils from './utils'\n\nimport MapEvent from './event'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport { warn } from './error'\n\nconst { isFunction, NOOP } = utils\n\n/**\n * 默认参数\n */\nconst defaultOption = {\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n  manual: false, // 是否自动创建地图，允许延迟初始化地图\n  loading: true, //是否展示初始 loading 状态\n  northControl: false, // 地图指北针控件是否显示\n  enableKeyboard: true, // 是否启用键盘\n  enableMouse: true, // 是否启用鼠标\n  defaultLocate: true, // 是否允许默认定位\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n  internalMouseVisible: false // 内置的鼠标图标是否可见\n}\n\nclass MapViewer {\n  constructor(config) {\n    this._initFinished = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  create() {\n    if (this._initFinished) {\n      warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  _init() {\n    this.core.createMap(this.config).then(() => {\n      let view3d = this.core.view3d\n      if (view3d) {\n        this.event = new MapEvent(view3d, this)\n        this.build = new MapBuild(view3d, this)\n        this.camera = new MapCamera(view3d, this)\n        this.drawer = new MapDrawer(view3d, this)\n        this.model = new ModelManager(view3d, this)\n\n        this._initFinished = true\n\n        // 加载完成事件\n        if (this.config.complete && isFunction(this.config.complete)) {\n          this.config.complete(view3d)\n        }\n      }\n    })\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  MapViewer,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","getVersion","getBuildTime","Date","toLocaleString","environment","printVersion","msg","c1","c2","c3","c4","console","log","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_typeof","obj","Symbol","iterator","constructor","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","debounce","func","wait","immediate","timer","debounced","clearTimeout","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","from","test","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","EventsBus","events","Map","isOnce","_this","m","get","fnMap","set","off","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","lock","locked","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","InterceptorManager$1","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","code","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validators$1","validator","formatMessage","opt","desc","opts","warn","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","Axios$1","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios$2","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","HttpFactory","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","environments","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","logError","errorMsg","functionExist","funcName","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","$taskQueue","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","handleAddWindowResizeResolution","OverLayerRemoveAll","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","MapCamera","viewer","duration","resetHome","SetPosition","_this$viewer","_this$viewer$core","_this$viewer2","_this$viewer2$event","showLocation","durationTime","enableCurve","core","_showMask","event","silent","onFinish","_self$viewer","_self$viewer$core","_self$viewer2","_self$viewer2$event","_hideMask","reBindMouseClickCallback","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","LINE","SIM_ARRAW","SIM_DOT","SIM_DASHED","SIM_FLASH","SIM_CAN","MapActor$1","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","lineWidth","linevisible","lighting","iconstyle","fontbg","pwidth","pheight","offsetx","offsety","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","minx","miny","maxx","maxy","gradient","ModelConfig$1","MapDrawer","mapView","_event","find","MapRemove","update","ACTOR","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","item","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","clear","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","shouldUpdateEntity","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","onClick","_modelClickHandler","compareFunc","_","startsWith","setMouseDoubleClickCallback","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","EventController","door","intercom","ModelManager","MapBuildMgr","BTN_RESET_BUILD_GID","lastBuildId","lastFloorObjCopy","buildData","groundHeight","isAddFloorEvent","isSplitBuilded","isSplitBuild","isSplitFloor","settings","buildPolygon","waitSecond","showSecond","direction","stateInit","floorIntervalHeight","setFloorIntervalHeight","refreshBuildData","floorHeight","showFloorTypeEnum","LEFT_RIGHT","UP_DOWN","NORMAL","splitType","init","_ref","ins","getBuildData","addMouseCallback","addMouseCallbackLock","_ref2","_buildId","_buildId2","_buildId3","_floorId","build","isBuildFloor","isBuildWK","getBuildIdByWKGid","doSplitBuild","onBuildClick","triggerAll","isBuildTitle","onBuildTitleClick","getBuildIdByFloorGid","getFloorIdByFloorGid","doShowFloor","onFloorClick","isFloorRoom","getBuildIdByRoomGid","getFloorIdByRoomGid","onRoomClick","findSettingByGid","getBuildTopLocation","buildInfo","BtnCtl","btnSplitBuilds","isShowBtn","isShowBtnBuildHasFloor","createBtnResetBuild","clickEvent","removeBtnResetBuild","getBuildInfoById","lastFloor","floors","btnLocation","FloorApi","getBtnLocationByBuildId","locationSplit","resetBuildFunc","oneById","createBtnResetFloor","rootResolve","floorInfo","getFloorInfoById","removeBtnResetFloor","resetFloorFunc","hasFloorRectWidth","setHasFloorRectWidth","w","createBtnBuildHasFloor","bDataList","hasFloorsBuildInfos","_ret","getBuildDataHasFloor","showConfigArr","showConfig","getShowConfig","getHasFloorGid","buildGid","ctBtnBuildHasFloorByBId","bId","_this5","fRes","bData","getRectByPoint","some","rmBtnBuildHasFloorAll","rmBtnBuildHasFloorByBId","rfBtnBuildHasFloorByBId","getBtnBuildHasFloor","getBtnBuildHasFloorByBuildGid","setVisibleBtnBuildHasFloorByBuildGid","mo","updateObjectVisibleAsync","setVisibleBtnBuildHasFloorAll","_context7","getBuildGidByBuildId","resetAllBuildingWrap","onResetBuild","isMoved","onSplitBuild","_splitBuildAnimation","onSplitBuildEnd","_x5","success","onSplitFloor","_doShowFloorByMoveBySetting","_doShowFloorByUpDown","_doShowFloorOld","resetAllBuildings","_doShowFloorByMoveByCamera","getCurrentPosition","cameraPos","floorPos","resetLastFloor","copyTmp","copyTmpForLocation","floorPosNew","updateObjectsAsync","_ref6","showFloorSetting","_resetLastFloor","updateObjs","_context10","_callee8","isForce","_args9","_context9","f","rooms","r","_x9","_x10","_callee7","_context8","_callee9","_x6","_x7","_x8","_ref8","isFoundFloor","_context11","moveHeight","locationOrigin","_callee10","_x11","_x12","_x13","_ref9","floorName","_context12","getFloorNameByFloorId","setFloorVisible","floorname","floorLessEq","_callee11","_x14","_x15","_x16","_ref10","_callee12","j","room","_context13","setBuildingVisible","setObjectsVisibleAsync","_x17","_x18","_flyToPositionView","pos","dis","posNew","sin","PI","cos","f1","f2","floorFlag1","floorFlag2","floorNum1","floorNum2","floorFlagTmp1","floorFlagTmp2","floorFlagIdx1","floorFlagIdx2","getBuildDataLock","_ref11","builds","buildMos","buildFloorMos","floorGroup","_context14","getBuildingNamesSync","xps","isBuildXP","isFloorXP","floorCount","_Object$keys","floorSimpleKey","floorAndRoom","floorCopy","xp","_callee13","_x19","_ref12","objNew","_i2","_Object$keys2","_context15","_callee14","_x20","getFloorHeight","floorFlag","flag","parseInt","flyToBuildMo","last","_this6","SplineOrangeHighlight1","flyToBuild","splitAndShowFloor","waitSplitSecond","EventCollection","onResetBuildEnd","funcArr","EventObj","MapBuild","mgr","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorNameSmallByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","ResetAllBuildings","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","ZOOM_IN_KEY","ZOOM_OUT_KEY","MOUSE_MOVE_KEY","mapStatus","mapMoveTimer","mouseEventGroup","isDouble","internal","MapEvent","callbackSet","prefixAndCallbackMap","_lastClickTimestamp","_emitMouseUp","_addMouseMoveEvent","_addMouseUpEvent","_addMouseDownEvent","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_onDragHandler","_onDragStartHandler","_onDragEndHandler","_dragTicker","_flushDragCallback","_handleMouseUp","mapViewContainerId","$mapViewContainer","existCallbackMapKey","mouseKey","existCallbackMap","cachedCallback","getCallbacks","_removeCacheCallback","_registerMouseEvent","_mouseWheelHandler2","wheelDelta","eventTypeKey","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","click","oneCallbackMap","fromEntries","debounceTime","zoomInHandler","_mouseWheelHandler","_cacheCallback","_registerMouseWheelCallback","zoomOutHandler","mouseMoveHandler","UnRegisterEvent","RegisterEvent","_handleMouseMove","_handleMouseDown","k","prefixArr","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","includes","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMouseCallback","SetMousePositionCallback","_config","_addMouseClickCallback","_removeMouseEvent","_resetMouseCallback","defaultOption","manual","loading","MapViewer","_initFinished","_init","scheduler","ver","createMap","website","author","env","CATEGORY"],"mappings":"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"}
