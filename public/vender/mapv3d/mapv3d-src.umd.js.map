<<<<<<< HEAD
{"version":3,"file":"mapv3d-src.umd.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/utils/EventBus.js","../../src/utils/lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/error.js","../../src/utils/index.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.js","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/index.js","../../src/build/index.js","../../src/event/index.js","../../src/index.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否禁用第一次执行\n    trailing: true // 是否禁用最后一次回调\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function lock() {\n  this.locked = null\n}\n\nlock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nlock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\nRequest Config:\n{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/shared.md).\n  adapter: function (config) {\n},\n\n// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n// This will set an `Authorization` header, overwriting any existing\n// `Authorization` custom headers you have set using `headers`.\n// Please note that only HTTP Basic auth is configurable through this parameter.\n// For Bearer tokens and such, use `Authorization` custom headers instead.\nauth: {\n  username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` indicates the type of data that the server will respond with\n// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n//   browser only: 'blob'\nresponseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` allows handling of progress events for downloads\n// browser only\nonDownloadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\nmaxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n  return status >= 200 && status < 300; // default\n},\n\n// `maxRedirects` defines the maximum number of redirects to follow in node.js.\n// If set to 0, no redirects will be followed.\nmaxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n  protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n      password: 'rapunz3l'\n  }\n},\n\n// `cancelToken` specifies a cancel token that can be used to cancel the request\n// (see Cancellation section below for details)\ncancelToken: new CancelToken(function (cancel) {\n}),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n  // silent JSON parsing mode\n  // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n  // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n  silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n}\n}\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\nInstance methods:\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\naxios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\nCancellation\n\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from './utils'\nconst { isString, isPlainObject } = utils\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport lock from './lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport fetchConfig from './fetchConfig'\nimport { logError } from '@/error'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n  value === null ||\n  value === '' ||\n  value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n\nwindow.$taskQueue = taskQueue\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '@/error'\nimport { doSchedule, curry, schedule, waitSchedule } from '@/scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      // todo: log file not include error.\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (res.code === 200) {\n            self._view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            // TODO: 地图链接失败时，弹窗提示信息\n            return\n          }\n\n          if (config.autoResize) {\n            // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n            handleAddWindowResizeResolution(self, config.autoResizeTicker)\n          }\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 建筑状态初始化\n          if(config.resetBuildings) {\n            this._view3d.ResetAllBuildings()\n          }\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  showCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  hideCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    if (functionExist(this._view3d, 'SetParameters')) {\n      this.setParameters({\n        showmouse: cursorVisible\n      })\n    }\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns, ticker = 300) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, ticker)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 1\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n    // 定位之前，显示遮罩\n    this.viewer?.core?.showCover()\n    // 先删除点选回调\n    this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      self.viewer?.core?.hideCover()\n      self.viewer?.event?.reBind()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n        view3d.FlyToPosition(position, showLocation, durationTime, enableCurve, res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        })\n\n        this.timer = setTimeout(() => {\n          onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        }, (durationTime + 0.5) * 1000)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 1,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj {Object}\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true // 对象是否需要高亮\n    }\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '@/error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBind()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: false,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n\n  /**\n   * 特殊定位点\n   * @param config\n   * @param reBindEvent\n   * @returns {Promise<any>|Promise<unknown>|*}\n   */\n  niagara(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.niagara(config),\n      reBindEvent\n    )\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nclass MapActor {\n  constructor() {\n    // 线相关的材质\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model',\n    options: [\n\n    ]\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image',\n    options: [\n\n    ]\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring',\n    options: [\n\n    ]\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon',\n    options: [\n\n    ]\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  },\n\n  /**\n   * 特殊定位点\n   */\n  niagara: {\n    type: 10111,\n    typeName: 'niagara',\n    options: [\n      \"P_Marker\",\n      \"P_Marker_1\",\n      \"P_Marker_2\",\n      \"P_Marker_3\",\n      \"P_Marker_4\",\n      \"P_Marker_5\",\n      \"P_Marker_6\",\n      \"P_Marker_7\",\n      \"P_Marker_8\",\n      \"P_Marker_9\",\n    ]\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '@/utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nclass ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      lineWidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      style: 'white', // 立柱的颜色样式  screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: true,\n\n      // 需要显示文字的，指定一下属性\n      // text: '测试文本', // 文本内容\n      // fontcolor: '#ffffff', // 文本颜色\n      // fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      // fontsize: 32.0, // 文本大小        screen不支持字体大小\n      // offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      // offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n\n      // 需要显示立柱的，指定一下两个属性\n      // pwidth: 1, // 立柱的宽度  screen不支持\n      // pheight: 50.0, // 立柱的高度      screen不支持\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  /**\n   * 特殊定位点\n   */\n  niagara(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      filename: '',\n      scale: 1,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActor from './actor'\n\nimport ModelConfig from './config'\nimport { functionExist } from '@/error'\nimport { schedule, waitSchedule } from '@/scheduler'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    // this.config = ModelConfig\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n    // this.ACTOR = MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {MapActor}\n   * @constructor\n   */\n  get ACTOR() {\n    return MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {ModelConfig}\n   */\n  get config() {\n    return ModelConfig\n  }\n\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBind()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险。'\n      )\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  overLayerRemoveAll() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      view3d.OverLayerRemoveAll()\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBind()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP,\n\n  // 鼠标移动相关的\n  onMouseMove: NOOP,\n  onMouseMoveOut: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr) => {\n      self.setModel(attr)\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      } else {\n        // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n        self.setModel(modelEntity)\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n    this.typeName = \"image\"\n    this.$$typeof = \"IMAGE\"\n    this.create()\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * 鼠标移入\n   */\n  onMouseIn() {\n\n  }\n\n  /**\n   * 鼠标移出\n   */\n  onMouseOut() {\n\n  }\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.onClick(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(Door.icon, this._iconClickHandler.bind(this), {\n      compare: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.onDoubleClick(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    // this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d) {\n    this.view3d = view3d\n    // this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '@/error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\n// TODO: prefix 不区分大小写\n\nconst MAP_STATUS_NORMAL = 0b0001 // 普通状态\nconst MAP_STATUS_DRAG = 0b0010 // 拖动的状态\n\n// 注册到 video 元素上的基础鼠标事件\nconst ZOOM_IN_KEY = 'zoomIn'\nconst ZOOM_OUT_KEY = 'zoomOut'\nconst MOUSE_MOVE_KEY = 'mousemove'\nconst MOUSE_DOWN_KEY = 'MOUSE_DOWN'\nconst MOUSE_UP_KEY = 'MOUSE_UP'\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [ZOOM_IN_KEY, ZOOM_OUT_KEY, MOUSE_MOVE_KEY]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compare: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    this.prefix = '*'\n    this.debugger = false // 是否显示点击的对象属性\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    this._emitMouseUp = false\n\n    this._addMouseMoveEvent()\n    this._addMouseUpEvent()\n    this._addMouseDownEvent()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 监控鼠标拖动的事件回调\n    this._onDragHandler = new Set()\n\n    // 开始拖动时的回调\n    this._onDragStartHandler = new Set()\n\n    // 停止拖动时的回调\n    this._onDragEndHandler = new Set()\n\n    // 事件系统实例化的时候，直接注册事件。不同在 onClick 里每次都重复注册\n    // this.reBind()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 150\n  }\n\n  _flushDragCallback = (callbackSet, e) => {\n    if (callbackSet.size > 0) {\n      callbackSet.forEach((callback) => {\n        callback(e)\n      })\n    }\n  }\n\n  _handleMouseMove(e) {\n    const self = this\n\n    // 从鼠标按下，到触发第一次拖动，调度一下开始拖动的回调\n    if (mapStatus === MAP_STATUS_NORMAL) {\n      this._flushDragCallback(this._onDragStartHandler, e)\n    }\n\n    mapStatus = MAP_STATUS_DRAG\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 拖动过程中，调度拖拽事件\n    this._flushDragCallback(this._onDragHandler, e)\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    mapMoveTimer = setTimeout(() => {\n      if (!self._emitMouseUp) {\n        self._handleMouseUp()\n      }\n    }, 100)\n  }\n\n  _handleMouseDown() {\n  }\n\n  _handleMouseUp() {\n    // 从拖拽的状态释放鼠标，调度一次拖拽结束时间\n    if (mapStatus === MAP_STATUS_DRAG) {\n      this._flushDragCallback(this._onDragEndHandler)\n    }\n\n    mapStatus = MAP_STATUS_NORMAL\n  }\n\n  _registerMouseEvent(key, callback) {\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n    $mapViewContainer.addEventListener(key, callback)\n  }\n\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n    if (existCallbackMapKey) {\n      const existCallbackMap =\n        this.prefixAndCallbackMap.get(existCallbackMapKey)\n      if (existCallbackMap) {\n        // 删除缓存的函数前,前保存一下\n        const cachedCallback = this.getCallbacks(key)[0].callback\n\n        // 再去删除缓存的函数\n        this._removeCacheCallback(key, callback)\n\n        if (\n          (!this.prefixAndCallbackMap.get(ZOOM_IN_KEY) &&\n            !this.prefixAndCallbackMap.get(ZOOM_OUT_KEY)) ||\n          key === MOUSE_MOVE_KEY\n        ) {\n          const mapViewContainerId = this.mapViewer.core.config.id\n          const $mapViewContainer = document.getElementById(mapViewContainerId)\n          // 移除DOM元素上的回调\n          $mapViewContainer.removeEventListener(key, cachedCallback)\n        }\n      }\n    }\n  }\n\n  _registerMouseWheelCallback(key = 'mousewheel', callback = NOOP) {\n    // 不重复监听鼠标滚轮事件\n    if (this._hasRegisterMouseWheelHandler) {\n      return\n    }\n    this._registerMouseEvent(key, callback)\n\n    this._hasRegisterMouseWheelHandler = true\n  }\n\n  _mouseWheelHandler(e) {\n    let wheelDelta = e.wheelDelta\n    let eventTypeKey = ''\n    // zoomIn\n    if (wheelDelta > 0) {\n      eventTypeKey = ZOOM_IN_KEY\n      // zoomOut\n    } else if (wheelDelta < 0) {\n      eventTypeKey = ZOOM_OUT_KEY\n    }\n\n    if (\n      eventTypeKey &&\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        const mouseWheelMap = this.prefixAndCallbackMap.get(eventTypeKey)\n        if (mouseWheelMap) {\n          const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n          const mouseWheelEventCallbackSet =\n            mouseWheelEventCallbackMap.get('click')\n          mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n            if (oneMouseWheelHandlerMap.get('config').compare) {\n              oneMouseWheelHandlerMap.get('config').compare(e, position)\n            }\n          })\n        }\n      })\n    }\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 150ms.\n   */\n  setDragTicker(time = 150) {\n    this._dragTicker = time\n  }\n\n  // 视角放大\n  zoomIn(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomInHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomInHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n\n      this._cacheCallback(ZOOM_IN_KEY, zoomInHandler, {\n        isOnce: false,\n        compare: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomInHandler)\n    }\n  }\n\n  // 视角缩小\n  zoomOut(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomOutHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomOutHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n      this._cacheCallback(ZOOM_OUT_KEY, zoomOutHandler, {\n        isOnce: false,\n        compare: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomOutHandler)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback) {\n    const mouseMoveHandler = throttle((e) => {\n      console.log(e)\n    }, 500)\n\n    this._cacheCallback(MOUSE_MOVE_KEY, mouseMoveHandler, {\n      isOnce: false,\n      compare: callback,\n      internal: false\n    })\n\n    this._registerMouseEvent(MOUSE_MOVE_KEY, mouseMoveHandler)\n  }\n\n  // 拖动地图的时候\n  onDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.add(callback)\n    }\n  }\n\n  onDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.add(callback)\n    }\n  }\n\n  onDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.add(callback)\n    }\n  }\n\n  removeDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.delete(callback)\n    }\n  }\n\n  removeDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.delete(callback)\n    }\n  }\n\n  removeDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.delete(callback)\n    }\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  // 监听鼠标按住并拖动地图的事件\n  _addMouseMoveEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      const debouncedMouesMove = throttle(this._handleMouseMove.bind(this), 100)\n\n      // 不能注册 onmousemove， 否则很容易引起地图云服务器指令系统因为接收太多鼠标移动的指令而卡住\n      // view3d.RegisterEvent('onmousemove', debouncedMouesMove)\n    }\n  }\n\n  _addMouseDownEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      // view3d.RegisterEvent('onmousedown', this._handleMouseDown.bind(this))\n    }\n  }\n\n  // 鼠标抬起\n  _addMouseUpEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      // view3d.RegisterEvent('onmouseup', this._handleMouseUp.bind(this))\n    }\n  }\n\n  _resetMouseCallback() {\n    this.prefix = '*'\n\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cacheCallback(prefix, callback, config) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix) {\n      return\n    }\n\n    const prefixArr = prefix.split(',').map((p) => p.trim())\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        // const callbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix) {\n      return\n    }\n\n    const oldPrefixArr = oldPrefix.split(',')\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('config').compare === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n          }\n        }\n      }\n    }\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    this.mapViewer.core.setParameters({\n      prefix: '*'\n    })\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n          if (self.debugger) {\n            console.log(res)\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compare,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compare， 且属于用户自定义的比较函数\n                if (compare !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compare(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= 300) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n                if (now - self._lastClickTimestamp <= 300) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, 300)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n      }\n      // view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compare {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  onClick(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * 重新绑定事件\n   */\n  reBind() {\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(prefix = '*', callback, config) {\n    // const self = this\n    this.onClick(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeDouble(prefix, callback) {\n    this.remove(prefix, callback)\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBind 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","﻿//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n//工具类\nimport * as utils from './utils'\n\nimport MapEvent from './event'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport * as mapError from './error'\n\nconst { isFunction, NOOP } = utils\n\n/**\n * 默认参数\n */\nconst defaultOption = {\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n  manual: false, // 是否自动创建地图，允许延迟初始化地图\n  loading: true, //是否展示初始 loading 状态\n  northControl: false, // 地图指北针控件是否显示\n  enableKeyboard: true, // 是否启用键盘\n  enableMouse: true, // 是否启用鼠标\n  defaultLocate: true, // 是否允许默认定位\n\n  // 是否在窗口 resize 后，默认设置地图的分辨率\n  autoResize: true,\n\n  // resize 的防抖间隔，用来避免 resize 后，retResolution 过于频繁。\n  autoResizeTicker: 300,\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  //  是否默认重置建筑的状态(比如分层)\n  resetBuildings:  true,\n\n  // 内置的鼠标图标是否可见\n  internalMouseVisible: false,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n}\n\nclass MapViewer {\n  constructor(config) {\n    this._initFinished = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  create() {\n    if (this._initFinished) {\n      mapError.warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  _init() {\n    this.core.createMap(this.config).then(() => {\n      let view3d = this.core.view3d\n      if (view3d) {\n        this.event = new MapEvent(view3d, this)\n        this.build = new MapBuild(view3d, this)\n        this.camera = new MapCamera(view3d, this)\n        this.drawer = new MapDrawer(view3d, this)\n        this.model = new ModelManager(view3d, this)\n\n        this._initFinished = true\n\n        // 加载完成事件\n        if (this.config.complete && isFunction(this.config.complete)) {\n          this.config.complete(view3d)\n        }\n      }\n    })\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  mapError as error,\n  MapViewer,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","getVersion","getBuildTime","Date","toLocaleString","environment","printVersion","msg","c1","c2","c3","c4","console","log","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_typeof","obj","Symbol","iterator","constructor","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","debounce","func","wait","immediate","timer","debounced","clearTimeout","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","from","test","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","EventsBus","events","Map","isOnce","_this","m","get","fnMap","set","off","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","lock","locked","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","InterceptorManager$1","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","code","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validators$1","validator","formatMessage","opt","desc","opts","warn","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","Axios$1","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios$2","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","HttpFactory","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","environments","InvalidParameter","View3dUnInitialized","logError","errorMsg","functionExist","funcName","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","$taskQueue","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","autoResize","handleAddWindowResizeResolution","autoResizeTicker","OverLayerRemoveAll","resetBuildings","ResetAllBuildings","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","ticker","MapCamera","viewer","duration","resetHome","SetPosition","_this$viewer","_this$viewer$core","_this$viewer2","_this$viewer2$event","showLocation","durationTime","enableCurve","core","showCover","event","silent","onFinish","_self$viewer","_self$viewer$core","_self$viewer2","_self$viewer2$event","hideCover","reBind","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","niagara","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","LINE","SIM_ARRAW","SIM_DOT","SIM_DASHED","SIM_FLASH","SIM_CAN","MapActor$1","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","lineWidth","linevisible","lighting","iconstyle","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","pheight","minx","miny","maxx","maxy","gradient","ModelConfig$1","MapDrawer","mapView","_event","find","MapRemove","update","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","item","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","onMouseMove","onMouseMoveOut","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","clear","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","shouldUpdateEntity","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","onClick","_modelClickHandler","compare","_","startsWith","onDoubleClick","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","ModelManager","MapBuild","isBuildFloor","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorIdByFloorGid","getFloorNameSmallByFloorId","getFloorNameByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","floorHeight","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","floorName","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","ZOOM_IN_KEY","ZOOM_OUT_KEY","MOUSE_MOVE_KEY","mapStatus","mapMoveTimer","mouseEventGroup","isDouble","internal","MapEvent","callbackSet","prefixAndCallbackMap","_lastClickTimestamp","_emitMouseUp","_addMouseMoveEvent","_addMouseUpEvent","_addMouseDownEvent","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_onDragHandler","_onDragStartHandler","_onDragEndHandler","_dragTicker","_flushDragCallback","_handleMouseUp","mapViewContainerId","$mapViewContainer","existCallbackMapKey","mouseKey","existCallbackMap","cachedCallback","getCallbacks","_removeCacheCallback","_registerMouseEvent","wheelDelta","eventTypeKey","getCurrentPosition","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","click","oneCallbackMap","fromEntries","debounceTime","zoomInHandler","_mouseWheelHandler","_cacheCallback","_registerMouseWheelCallback","zoomOutHandler","mouseMoveHandler","UnRegisterEvent","_handleMouseMove","k","prefixArr","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","includes","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMouseCallback","SetMousePositionCallback","_config","_addMouseClickCallback","_removeMouseEvent","_resetMouseCallback","defaultOption","manual","loading","MapViewer","_initFinished","_init","build","scheduler","ver","mapError","createMap","website","author","env","CATEGORY"],"mappings":"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"}
=======
{"version":3,"file":"mapv3d-src.umd.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/utils/EventBus.js","../../src/utils/lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/error.js","../../src/utils/index.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.js","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/index.js","../../src/build/index.js","../../src/event/index.js","../../src/index.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否禁用第一次执行\n    trailing: true // 是否禁用最后一次回调\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function lock() {\n  this.locked = null\n}\n\nlock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nlock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\nRequest Config:\n{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/shared.md).\n  adapter: function (config) {\n},\n\n// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n// This will set an `Authorization` header, overwriting any existing\n// `Authorization` custom headers you have set using `headers`.\n// Please note that only HTTP Basic auth is configurable through this parameter.\n// For Bearer tokens and such, use `Authorization` custom headers instead.\nauth: {\n  username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` indicates the type of data that the server will respond with\n// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n//   browser only: 'blob'\nresponseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` allows handling of progress events for downloads\n// browser only\nonDownloadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\nmaxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n  return status >= 200 && status < 300; // default\n},\n\n// `maxRedirects` defines the maximum number of redirects to follow in node.js.\n// If set to 0, no redirects will be followed.\nmaxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n  protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n      password: 'rapunz3l'\n  }\n},\n\n// `cancelToken` specifies a cancel token that can be used to cancel the request\n// (see Cancellation section below for details)\ncancelToken: new CancelToken(function (cancel) {\n}),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n  // silent JSON parsing mode\n  // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n  // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n  silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n}\n}\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\nInstance methods:\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\naxios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\nCancellation\n\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from './utils'\nconst { isString, isPlainObject } = utils\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport lock from './lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport fetchConfig from './fetchConfig'\nimport { logError } from '../error'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n  value === null ||\n  value === '' ||\n  value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n\nwindow.$taskQueue = taskQueue\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '../error'\nimport { doSchedule, curry, schedule, waitSchedule } from '../scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      // todo: log file not include error.\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (res.code === 200) {\n            self._view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            // TODO: 地图链接失败时，弹窗提示信息\n            return\n          }\n\n          if (config.autoResize) {\n            // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n            handleAddWindowResizeResolution(self, config.autoResizeTicker)\n          }\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 建筑状态初始化\n          if(config.resetBuildings) {\n            this._view3d.ResetAllBuildings()\n          }\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  showCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  hideCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    if (functionExist(this._view3d, 'SetParameters')) {\n      this.setParameters({\n        showmouse: cursorVisible\n      })\n    }\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns, ticker = 300) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, ticker)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 1\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n    // 定位之前，显示遮罩\n    this.viewer?.core?.showCover()\n    // 先删除点选回调\n    this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      self.viewer?.core?.hideCover()\n      self.viewer?.event?.reBind()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n        view3d.FlyToPosition(position, showLocation, durationTime, enableCurve, res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        })\n\n        this.timer = setTimeout(() => {\n          onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        }, (durationTime + 0.5) * 1000)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 1,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj {Object}\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true // 对象是否需要高亮\n    }\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '@/error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBind()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: false,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n\n  /**\n   * 特殊定位点\n   * @param config\n   * @param reBindEvent\n   * @returns {Promise<any>|Promise<unknown>|*}\n   */\n  niagara(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.niagara(config),\n      reBindEvent\n    )\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nclass MapActor {\n  constructor() {\n    // 线相关的材质\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model',\n    options: [\n\n    ]\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image',\n    options: [\n\n    ]\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring',\n    options: [\n\n    ]\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon',\n    options: [\n\n    ]\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  },\n\n  /**\n   * 特殊定位点\n   */\n  niagara: {\n    type: 10111,\n    typeName: 'niagara',\n    options: [\n      \"P_Marker\",\n      \"P_Marker_1\",\n      \"P_Marker_2\",\n      \"P_Marker_3\",\n      \"P_Marker_4\",\n      \"P_Marker_5\",\n      \"P_Marker_6\",\n      \"P_Marker_7\",\n      \"P_Marker_8\",\n      \"P_Marker_9\",\n    ]\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '@/utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nclass ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      lineWidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      style: 'white', // 立柱的颜色样式  screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: true,\n\n      // 需要显示文字的，指定一下属性\n      // text: '测试文本', // 文本内容\n      // fontcolor: '#ffffff', // 文本颜色\n      // fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      // fontsize: 32.0, // 文本大小        screen不支持字体大小\n      // offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      // offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n\n      // 需要显示立柱的，指定一下两个属性\n      // pwidth: 1, // 立柱的宽度  screen不支持\n      // pheight: 50.0, // 立柱的高度      screen不支持\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  /**\n   * 特殊定位点\n   */\n  niagara(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      filename: '',\n      scale: 1,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActor from './actor'\n\nimport ModelConfig from './config'\nimport { functionExist } from '@/error'\nimport { schedule, waitSchedule } from '@/scheduler'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    // this.config = ModelConfig\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n    // this.ACTOR = MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {MapActor}\n   * @constructor\n   */\n  get ACTOR() {\n    return MapActor\n  }\n\n  /**\n   * @type class\n   * @returns {ModelConfig}\n   */\n  get config() {\n    return ModelConfig\n  }\n\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBind()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险。'\n      )\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  overLayerRemoveAll() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      view3d.OverLayerRemoveAll()\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBind()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP,\n\n  // 鼠标移动相关的\n  onMouseMove: NOOP,\n  onMouseMoveOut: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr) => {\n      self.setModel(attr)\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      } else {\n        // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n        self.setModel(modelEntity)\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n    this.typeName = \"image\"\n    this.$$typeof = \"IMAGE\"\n    this.create()\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * 鼠标移入\n   */\n  onMouseIn() {\n\n  }\n\n  /**\n   * 鼠标移出\n   */\n  onMouseOut() {\n\n  }\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.onClick(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(Door.icon, this._iconClickHandler.bind(this), {\n      compare: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.onDoubleClick(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    // this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d) {\n    this.view3d = view3d\n    // this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '@/error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\n// TODO: prefix 不区分大小写\n\nconst MAP_STATUS_NORMAL = 0b0001 // 普通状态\nconst MAP_STATUS_DRAG = 0b0010 // 拖动的状态\n\n// 注册到 video 元素上的基础鼠标事件\nconst ZOOM_IN_KEY = 'zoomIn'\nconst ZOOM_OUT_KEY = 'zoomOut'\nconst MOUSE_MOVE_KEY = 'mousemove'\nconst MOUSE_DOWN_KEY = 'MOUSE_DOWN'\nconst MOUSE_UP_KEY = 'MOUSE_UP'\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [ZOOM_IN_KEY, ZOOM_OUT_KEY, MOUSE_MOVE_KEY]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compare: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    this.prefix = '*'\n    this.debugger = false // 是否显示点击的对象属性\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    this._emitMouseUp = false\n\n    this._addMouseMoveEvent()\n    this._addMouseUpEvent()\n    this._addMouseDownEvent()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 监控鼠标拖动的事件回调\n    this._onDragHandler = new Set()\n\n    // 开始拖动时的回调\n    this._onDragStartHandler = new Set()\n\n    // 停止拖动时的回调\n    this._onDragEndHandler = new Set()\n\n    // 事件系统实例化的时候，直接注册事件。不同在 onClick 里每次都重复注册\n    // this.reBind()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 150\n  }\n\n  _flushDragCallback = (callbackSet, e) => {\n    if (callbackSet.size > 0) {\n      callbackSet.forEach((callback) => {\n        callback(e)\n      })\n    }\n  }\n\n  _handleMouseMove(e) {\n    const self = this\n\n    // 从鼠标按下，到触发第一次拖动，调度一下开始拖动的回调\n    if (mapStatus === MAP_STATUS_NORMAL) {\n      this._flushDragCallback(this._onDragStartHandler, e)\n    }\n\n    mapStatus = MAP_STATUS_DRAG\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 拖动过程中，调度拖拽事件\n    this._flushDragCallback(this._onDragHandler, e)\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    mapMoveTimer = setTimeout(() => {\n      if (!self._emitMouseUp) {\n        self._handleMouseUp()\n      }\n    }, 100)\n  }\n\n  _handleMouseDown() {\n  }\n\n  _handleMouseUp() {\n    // 从拖拽的状态释放鼠标，调度一次拖拽结束时间\n    if (mapStatus === MAP_STATUS_DRAG) {\n      this._flushDragCallback(this._onDragEndHandler)\n    }\n\n    mapStatus = MAP_STATUS_NORMAL\n  }\n\n  _registerMouseEvent(key, callback) {\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n    $mapViewContainer.addEventListener(key, callback)\n  }\n\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n    if (existCallbackMapKey) {\n      const existCallbackMap =\n        this.prefixAndCallbackMap.get(existCallbackMapKey)\n      if (existCallbackMap) {\n        // 删除缓存的函数前,前保存一下\n        const cachedCallback = this.getCallbacks(key)[0].callback\n\n        // 再去删除缓存的函数\n        this._removeCacheCallback(key, callback)\n\n        if (\n          (!this.prefixAndCallbackMap.get(ZOOM_IN_KEY) &&\n            !this.prefixAndCallbackMap.get(ZOOM_OUT_KEY)) ||\n          key === MOUSE_MOVE_KEY\n        ) {\n          const mapViewContainerId = this.mapViewer.core.config.id\n          const $mapViewContainer = document.getElementById(mapViewContainerId)\n          // 移除DOM元素上的回调\n          $mapViewContainer.removeEventListener(key, cachedCallback)\n        }\n      }\n    }\n  }\n\n  _registerMouseWheelCallback(key = 'mousewheel', callback = NOOP) {\n    // 不重复监听鼠标滚轮事件\n    if (this._hasRegisterMouseWheelHandler) {\n      return\n    }\n    this._registerMouseEvent(key, callback)\n\n    this._hasRegisterMouseWheelHandler = true\n  }\n\n  _mouseWheelHandler(e) {\n    let wheelDelta = e.wheelDelta\n    let eventTypeKey = ''\n    // zoomIn\n    if (wheelDelta > 0) {\n      eventTypeKey = ZOOM_IN_KEY\n      // zoomOut\n    } else if (wheelDelta < 0) {\n      eventTypeKey = ZOOM_OUT_KEY\n    }\n\n    if (\n      eventTypeKey &&\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        const mouseWheelMap = this.prefixAndCallbackMap.get(eventTypeKey)\n        if (mouseWheelMap) {\n          const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n          const mouseWheelEventCallbackSet =\n            mouseWheelEventCallbackMap.get('click')\n          mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n            if (oneMouseWheelHandlerMap.get('config').compare) {\n              oneMouseWheelHandlerMap.get('config').compare(e, position)\n            }\n          })\n        }\n      })\n    }\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 150ms.\n   */\n  setDragTicker(time = 150) {\n    this._dragTicker = time\n  }\n\n  // 视角放大\n  zoomIn(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomInHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomInHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n\n      this._cacheCallback(ZOOM_IN_KEY, zoomInHandler, {\n        isOnce: false,\n        compare: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomInHandler)\n    }\n  }\n\n  // 视角缩小\n  zoomOut(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomOutHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomOutHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n      this._cacheCallback(ZOOM_OUT_KEY, zoomOutHandler, {\n        isOnce: false,\n        compare: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomOutHandler)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback) {\n    const mouseMoveHandler = throttle((e) => {\n      console.log(e)\n    }, 500)\n\n    this._cacheCallback(MOUSE_MOVE_KEY, mouseMoveHandler, {\n      isOnce: false,\n      compare: callback,\n      internal: false\n    })\n\n    this._registerMouseEvent(MOUSE_MOVE_KEY, mouseMoveHandler)\n  }\n\n  // 拖动地图的时候\n  onDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.add(callback)\n    }\n  }\n\n  onDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.add(callback)\n    }\n  }\n\n  onDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.add(callback)\n    }\n  }\n\n  removeDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.delete(callback)\n    }\n  }\n\n  removeDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.delete(callback)\n    }\n  }\n\n  removeDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.delete(callback)\n    }\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  // 监听鼠标按住并拖动地图的事件\n  _addMouseMoveEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      const debouncedMouesMove = throttle(this._handleMouseMove.bind(this), 100)\n\n      // 不能注册 onmousemove， 否则很容易引起地图云服务器指令系统因为接收太多鼠标移动的指令而卡住\n      // view3d.RegisterEvent('onmousemove', debouncedMouesMove)\n    }\n  }\n\n  _addMouseDownEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      // view3d.RegisterEvent('onmousedown', this._handleMouseDown.bind(this))\n    }\n  }\n\n  // 鼠标抬起\n  _addMouseUpEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      // view3d.RegisterEvent('onmouseup', this._handleMouseUp.bind(this))\n    }\n  }\n\n  _resetMouseCallback() {\n    this.prefix = '*'\n\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cacheCallback(prefix, callback, config) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix) {\n      return\n    }\n\n    const prefixArr = prefix.split(',').map((p) => p.trim())\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        // const callbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix) {\n      return\n    }\n\n    const oldPrefixArr = oldPrefix.split(',')\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('config').compare === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n          }\n        }\n      }\n    }\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    this.mapViewer.core.setParameters({\n      prefix: '*'\n    })\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n          if (self.debugger) {\n            console.log(res)\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compare,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compare， 且属于用户自定义的比较函数\n                if (compare !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compare(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= 300) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n                if (now - self._lastClickTimestamp <= 300) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, 300)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n      }\n      // view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compare {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  onClick(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * 重新绑定事件\n   */\n  reBind() {\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(prefix = '*', callback, config) {\n    // const self = this\n    this.onClick(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeDouble(prefix, callback) {\n    this.remove(prefix, callback)\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBind 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","﻿//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n//工具类\nimport * as utils from './utils'\n\nimport MapEvent from './event'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport * as mapError from './error'\n\nconst { isFunction, NOOP } = utils\n\n/**\n * 默认参数\n */\nconst defaultOption = {\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n  manual: false, // 是否自动创建地图，允许延迟初始化地图\n  loading: true, //是否展示初始 loading 状态\n  northControl: false, // 地图指北针控件是否显示\n  enableKeyboard: true, // 是否启用键盘\n  enableMouse: true, // 是否启用鼠标\n  defaultLocate: true, // 是否允许默认定位\n\n  // 是否在窗口 resize 后，默认设置地图的分辨率\n  autoResize: true,\n\n  // resize 的防抖间隔，用来避免 resize 后，retResolution 过于频繁。\n  autoResizeTicker: 300,\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  //  是否默认重置建筑的状态(比如分层)\n  resetBuildings:  true,\n\n  // 内置的鼠标图标是否可见\n  internalMouseVisible: false,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n}\n\nclass MapViewer {\n  constructor(config) {\n    this._initFinished = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  create() {\n    if (this._initFinished) {\n      mapError.warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  _init() {\n    this.core.createMap(this.config).then(() => {\n      let view3d = this.core.view3d\n      if (view3d) {\n        this.event = new MapEvent(view3d, this)\n        this.build = new MapBuild(view3d, this)\n        this.camera = new MapCamera(view3d, this)\n        this.drawer = new MapDrawer(view3d, this)\n        this.model = new ModelManager(view3d, this)\n\n        this._initFinished = true\n\n        // 加载完成事件\n        if (this.config.complete && isFunction(this.config.complete)) {\n          this.config.complete(view3d)\n        }\n      }\n    })\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  mapError as error,\n  MapViewer,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","getVersion","getBuildTime","Date","toLocaleString","environment","printVersion","msg","c1","c2","c3","c4","console","log","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_typeof","obj","Symbol","iterator","constructor","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","debounce","func","wait","immediate","timer","debounced","clearTimeout","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","from","test","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","EventsBus","events","Map","isOnce","_this","m","get","fnMap","set","off","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","lock","locked","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","InterceptorManager$1","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","code","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validators$1","validator","formatMessage","opt","desc","opts","warn","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","Axios$1","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios$2","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","HttpFactory","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","environments","InvalidParameter","View3dUnInitialized","logError","errorMsg","functionExist","funcName","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","$taskQueue","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","autoResize","handleAddWindowResizeResolution","autoResizeTicker","OverLayerRemoveAll","resetBuildings","ResetAllBuildings","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","ticker","MapCamera","viewer","duration","resetHome","SetPosition","_this$viewer","_this$viewer$core","_this$viewer2","_this$viewer2$event","showLocation","durationTime","enableCurve","core","showCover","event","silent","onFinish","_self$viewer","_self$viewer$core","_self$viewer2","_self$viewer2$event","hideCover","reBind","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","niagara","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","LINE","SIM_ARRAW","SIM_DOT","SIM_DASHED","SIM_FLASH","SIM_CAN","MapActor$1","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","lineWidth","linevisible","lighting","iconstyle","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","pheight","minx","miny","maxx","maxy","gradient","ModelConfig$1","MapDrawer","mapView","_event","find","MapRemove","update","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","item","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","onMouseMove","onMouseMoveOut","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","clear","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","shouldUpdateEntity","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","onClick","_modelClickHandler","compare","_","startsWith","onDoubleClick","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","ModelManager","MapBuild","isBuildFloor","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorIdByFloorGid","getFloorNameSmallByFloorId","getFloorNameByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","floorHeight","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","floorName","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","ZOOM_IN_KEY","ZOOM_OUT_KEY","MOUSE_MOVE_KEY","mapStatus","mapMoveTimer","mouseEventGroup","isDouble","internal","MapEvent","callbackSet","prefixAndCallbackMap","_lastClickTimestamp","_emitMouseUp","_addMouseMoveEvent","_addMouseUpEvent","_addMouseDownEvent","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_onDragHandler","_onDragStartHandler","_onDragEndHandler","_dragTicker","_flushDragCallback","_handleMouseUp","mapViewContainerId","$mapViewContainer","existCallbackMapKey","mouseKey","existCallbackMap","cachedCallback","getCallbacks","_removeCacheCallback","_registerMouseEvent","wheelDelta","eventTypeKey","getCurrentPosition","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","click","oneCallbackMap","fromEntries","debounceTime","zoomInHandler","_mouseWheelHandler","_cacheCallback","_registerMouseWheelCallback","zoomOutHandler","mouseMoveHandler","UnRegisterEvent","_handleMouseMove","k","prefixArr","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","includes","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMouseCallback","SetMousePositionCallback","_config","_addMouseClickCallback","_removeMouseEvent","_resetMouseCallback","defaultOption","manual","loading","MapViewer","_initFinished","_init","build","scheduler","ver","mapError","createMap","website","author","env","CATEGORY"],"mappings":"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"}
>>>>>>> cc04770de46141d43f763beb6813d08c222386d6
