{"version":3,"file":"mapv3d-src.umd.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/utils/EventBus.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/Lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../src/error.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/utils/index.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.ts","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/axis.ts","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/index.js","../../src/build/index.js","../../src/build/build.js","../../src/event/index.js","../../src/adminApi/index.ts","../../src/index.ts"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n        func.apply(context, args)\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否在第一次执行\n    trailing: true // 是否在最后一次执行\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function Lock() {\n  this.locked = null\n}\n\nLock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nLock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default Lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","// import { utils } from '@ty/shared'\nimport { isPlainObject, isString } from './utils'\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\n Request Config:\n {\n // `url` is the server URL that will be used for the request\n url: '/user',\n\n // `method` is the request method to be used when making the request\n method: 'get', // default\n\n // `baseURL` will be prepended to `url` unless `url` is absolute.\n // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n // to methods of that instance.\n baseURL: 'https://some-domain.com/api/',\n\n // `transformRequest` allows changes to the request data before it is sent to the server\n // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n // FormData or Stream\n // You may modify the headers object.\n transformRequest: [function (data, headers) {\n // Do whatever you want to transform the data\n\n return data;\n }],\n\n // `transformResponse` allows changes to the response data to be made before\n // it is passed to then/catch\n transformResponse: [function (data) {\n // Do whatever you want to transform the data\n\n return data;\n }],\n\n // `headers` are custom headers to be sent\n headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n // `params` are the URL parameters to be sent with the request\n // Must be a plain object or a URLSearchParams object\n params: {\n ID: 12345\n },\n\n // `paramsSerializer` is an optional function in charge of serializing `params`\n // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n paramsSerializer: function (params) {\n return Qs.stringify(params, {arrayFormat: 'brackets'})\n },\n\n // `data` is the data to be sent as the request body\n // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n // When no `transformRequest` is set, must be of one of the following types:\n // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n // - Browser only: FormData, File, Blob\n // - Node only: Stream, Buffer\n data: {\n firstName: 'Fred'\n },\n\n // syntax alternative to send data into the body\n // method post\n // only the value is sent, not the key\n data: 'Country=Brasil&City=Belo Horizonte',\n\n // `timeout` specifies the number of milliseconds before the request times out.\n // If the request takes longer than `timeout`, the request will be aborted.\n timeout: 1000, // default is `0` (no timeout)\n\n // `withCredentials` indicates whether or not cross-site Access-Control requests\n // should be made using credentials\n withCredentials: false, // default\n\n // `adapter` allows custom handling of requests which makes testing easier.\n // Return a promise and supply a valid response (see lib/adapters/shared.md).\n adapter: function (config) {\n },\n\n // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n // This will set an `Authorization` header, overwriting any existing\n // `Authorization` custom headers you have set using `headers`.\n // Please note that only HTTP Basic auth is configurable through this parameter.\n // For Bearer tokens and such, use `Authorization` custom headers instead.\n auth: {\n username: 'janedoe',\n password: 's00pers3cret'\n },\n\n // `responseType` indicates the type of data that the server will respond with\n // options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n //   browser only: 'blob'\n responseType: 'json', // default\n\n // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n // Note: Ignored for `responseType` of 'stream' or client-side requests\n responseEncoding: 'utf8', // default\n\n // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n xsrfCookieName: 'XSRF-TOKEN', // default\n\n // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n // `onUploadProgress` allows handling of progress events for uploads\n // browser only\n onUploadProgress: function (progressEvent) {\n // Do whatever you want with the native progress event\n },\n\n // `onDownloadProgress` allows handling of progress events for downloads\n // browser only\n onDownloadProgress: function (progressEvent) {\n // Do whatever you want with the native progress event\n },\n\n // `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\n maxContentLength: 2000,\n\n // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n maxBodyLength: 2000,\n\n // `validateStatus` defines whether to resolve or reject the promise for a given\n // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n // or `undefined`), the promise will be resolved; otherwise, the promise will be\n // rejected.\n validateStatus: function (status) {\n return status >= 200 && status < 300; // default\n },\n\n // `maxRedirects` defines the maximum number of redirects to follow in node.js.\n // If set to 0, no redirects will be followed.\n maxRedirects: 5, // default\n\n // `socketPath` defines a UNIX Socket to be used in node.js.\n // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n // Only either `socketPath` or `proxy` can be specified.\n // If both are specified, `socketPath` is used.\n socketPath: null, // default\n\n // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n // and https requests, respectively, in node.js. This allows options to be added like\n // `keepAlive` that are not enabled by default.\n httpAgent: new http.Agent({ keepAlive: true }),\n httpsAgent: new https.Agent({ keepAlive: true }),\n\n // `proxy` defines the hostname, port, and protocol of the proxy server.\n // You can also define your proxy using the conventional `http_proxy` and\n // `https_proxy` environment variables. If you are using environment variables\n // for your proxy configuration, you can also define a `no_proxy` environment\n // variable as a comma-separated list of domains that should not be proxied.\n // Use `false` to disable proxies, ignoring environment variables.\n // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n // supplies credentials.\n // This will set an `Proxy-Authorization` header, overwriting any existing\n // `Proxy-Authorization` custom headers you have set using `headers`.\n // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n proxy: {\n protocol: 'https',\n host: '127.0.0.1',\n port: 9000,\n auth: {\n username: 'mikeymike',\n password: 'rapunz3l'\n }\n },\n\n // `cancelToken` specifies a cancel token that can be used to cancel the request\n // (see Cancellation section below for details)\n cancelToken: new CancelToken(function (cancel) {\n }),\n\n // `decompress` indicates whether or not the response body should be decompressed\n // automatically. If set to `true` will also remove the 'content-encoding' header\n // from the responses objects of all decompressed responses\n // - Node only (XHR cannot turn off decompression)\n decompress: true, // default\n\n // transitional options for backward compatibility that may be removed in the newer versions\n transitional: {\n // silent JSON parsing mode\n // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n silentJSONParsing: true, // default value for the current Axios version\n\n // try to parse the response string as JSON even if `responseType` is not 'json'\n forcedJSONParsing: true,\n\n // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n clarifyTimeoutError: false,\n }\n }\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\n Instance methods:\n\n axios#request(config)\n axios#get(url[, config])\n axios#delete(url[, config])\n axios#head(url[, config])\n axios#options(url[, config])\n axios#post(url[, data[, config]])\n axios#put(url[, data[, config]])\n axios#patch(url[, data[, config]])\n axios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\n Cancellation\n\n const CancelToken = axios.CancelToken;\n const source = CancelToken.source();\n\n axios.get('/user/12345', {\n cancelToken: source.token\n }).catch(function (thrown) {\n if (axios.isCancel(thrown)) {\n console.log('Request canceled', thrown.message);\n } else {\n // handle error\n }\n });\n\n axios.post('/user/12345', {\n name: 'new name'\n }, {\n cancelToken: source.token\n })\n\n // cancel the request (the message parameter is optional)\n source.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport Lock from './Lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport { logError } from '../error'\n\nimport fetchConfig from './fetchConfig'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  Lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      // 如果第二个参数是函数\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      // 如果有fn立刻执行\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '../error'\nimport { doSchedule, curry, schedule, waitSchedule } from '../scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  _view3d\n  config\n\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (Number(res.code) === 200) {\n            self._view3d = view3d\n            self.view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            return\n          }\n\n          if (config.autoResize) {\n            // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n            handleAddWindowResizeResolution(self, config.autoResizeTicker)\n          }\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 建筑状态初始化\n          if (config.resetBuildings) {\n            this._view3d.ResetAllBuildings()\n          }\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  showCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  hideCover() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    this.setParameters({\n      showmouse: cursorVisible\n    })\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 设置点选物体高亮 - 默认描边的效果\n   */\n  enableHighLight() {\n    const view3d = this._view3d\n    view3d.SetParameters({\n      mouse_selected: true\n    })\n  }\n\n  /**\n   * 取消点选物体高亮效果\n   */\n  disableHighLight() {\n    const view3d = this._view3d\n    view3d.SetParameters({\n      mouse_selected: false\n    })\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns, ticker = 300) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, ticker)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 1\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n\n    // 定位之前，显示遮罩\n    this.viewer?.core?.showCover()\n    // 先删除点选回调\n    this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      self.viewer?.core?.clear()\n      self.viewer.core.view3d.Stop()\n      self.viewer?.core?.hideCover()\n      self.viewer?.event?.reBind()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n\n        const internalFlyToPositionCallback = res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        }\n\n        let args = [\n          position,\n          showLocation,\n          durationTime,\n          enableCurve,\n          internalFlyToPositionCallback\n        ]\n\n        view3d.FlyToPosition(...args)\n\n        // @Time: 2022-08-30\n        // 如果坐标位置是用一个，默认 FlyToPosition 回调不会执行，所以这里通过定时器来处理。\n        this.timer = setTimeout(() => {\n          onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        }, (durationTime + 0.5) * 1000)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 1,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj {Object}\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true // 对象是否需要高亮\n    }\n    options = { ...defaultOptions, ...options }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '../error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBind()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: false,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n\n  /**\n   * 特殊定位点\n   * @param config\n   * @param reBindEvent\n   * @returns {Promise<any>|Promise<unknown>|*}\n   */\n  niagara(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.niagara(config),\n      reBindEvent\n    )\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nexport class MapActor {\n  // 线相关的材质\n  LINE: object\n\n  constructor() {\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model',\n    options: [\n\n    ]\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image',\n    options: [\n\n    ]\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring',\n    options: [\n\n    ]\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon',\n    options: [\n\n    ]\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  },\n\n  /**\n   * 特殊定位点\n   */\n  niagara: {\n    type: 10111,\n    typeName: 'niagara',\n    options: [\n      \"P_Marker\",\n      \"P_Marker_1\",\n      \"P_Marker_2\",\n      \"P_Marker_3\",\n      \"P_Marker_4\",\n      \"P_Marker_5\",\n      \"P_Marker_6\",\n      \"P_Marker_7\",\n      \"P_Marker_8\",\n      \"P_Marker_9\",\n    ]\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '../utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nexport class ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      linewidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      style: 'white', // 立柱的颜色样式  screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: true,\n\n      // 需要显示文字的，指定一下属性\n      // text: '测试文本', // 文本内容\n      // fontcolor: '#ffffff', // 文本颜色\n      // fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      // fontsize: 32.0, // 文本大小        screen不支持字体大小\n      // offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      // offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n\n      // 需要显示立柱的，指定一下两个属性\n      // pwidth: 1, // 立柱的宽度  screen不支持\n      // pheight: 50.0, // 立柱的高度      screen不支持\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  /**\n   * 特殊定位点\n   */\n  niagara(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      filename: '',\n      scale: 1,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","import { MapViewer } from '../index'\n\nexport default class MapAxisDraw {\n  groundHeight: number = 21\n  basePointUeInUe: any\n  xPlusPointUeInUe: any\n  yPlusPointUeInUe: any\n\n  /**\n   * 构造函数\n   */\n  constructor() {}\n\n  /**\n   * 加载坐标系\n   * @param viewer\n   * @param groundHeight 地面高度\n   */\n  async loadUe4Axios(\n    viewer: MapViewer,\n    groundHeight: number = this.groundHeight\n  ) {\n    this.basePointUeInUe = {\n      x: 0,\n      y: 0,\n      z: groundHeight\n    }\n    this.xPlusPointUeInUe = {\n      x: 120000,\n      y: 0,\n      z: groundHeight\n    }\n    this.yPlusPointUeInUe = {\n      x: 0,\n      y: 120000,\n      z: groundHeight\n    }\n\n    if (viewer.drawer) {\n      await viewer.drawer.overLayerCreateObjects([\n        {\n          type: 'image', // 10102  或  image\n          style: 'default',\n          scale: 0.5, // 默认大小是64X64\n          location: this.basePointUeInUe\n        },\n        // 轴\n        {\n          type: 'linestring',\n          style: 'red',\n          // color: '#FF0000',\n          linewidth: 1000.0,\n          points: [this.basePointUeInUe, this.xPlusPointUeInUe]\n        },\n        {\n          type: 'linestring',\n          style: 'green',\n          // color: '#FF0000',\n          linewidth: 1000.0,\n          points: [this.basePointUeInUe, this.yPlusPointUeInUe]\n        },\n        {\n          type: 'linestring',\n          style: 'green',\n          // color: '#FF0000',\n          linewidth: 1000.0,\n          points: [\n            this.basePointUeInUe,\n            { ...this.yPlusPointUeInUe, y: -this.yPlusPointUeInUe.y }\n          ]\n        },\n        // 标注\n        {\n          type: 'label',\n          text: 'X',\n          fontsize: 20000.0,\n          lighting: false, // 是否支持光照\n          billborad: true, // 是否支持广告板模式\n          location: this.xPlusPointUeInUe\n        },\n        {\n          type: 'label',\n          text: 'Y',\n          fontsize: 20000.0,\n          lighting: false, // 是否支持光照\n          billborad: true, // 是否支持广告板模式\n          location: this.yPlusPointUeInUe\n        }\n      ])\n    }\n  }\n}\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActorInstance from './actor'\n\nimport ModelConfigInstance from './config'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nimport MapAxisDraw from './axis'\n// import { MapModelLabel } from './model'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    this.config = ModelConfigInstance\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n\n    this.ACTOR = MapActorInstance\n    this.axisDraw = new MapAxisDraw()\n  }\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBind()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险'\n      )\n    }\n    let maxByteLength = 500\n    let lengthCurr = 0\n    for (const item of objectArray) {\n      lengthCurr = JSON.stringify(item.attr || '').replace(\n        /[^\\u0000-\\u00ff]/g,\n        'aa'\n      ).length\n      if (lengthCurr > maxByteLength) {\n        console.warn(\n          `OverLayerCreateObjects 自定义属性太大, 可能无法回调. ${JSON.stringify(\n            item.attr\n          ).slice(0, 100)}`\n        )\n        break\n      }\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBind()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  async overLayerRemoveAll(...args) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      await waitSchedule(20, view3d, view3d.OverLayerRemoveAll, ...args)\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBind()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n\n  /*\n   ** 路径播放\n   */\n  playRouteModel(gid, cb) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlayRouteModel')) {\n      return schedule(\n        view3d,\n        (gid, cb) => {\n          setTimeout(() => {\n            view3d.PlayRouteModel(gid, cb || (() => {\n            }))\n          }, 20)\n        },\n        gid,\n        cb\n      )\n    }\n  }\n\n  /*\n   ** 暂停播放\n   */\n  pauseRouteModel(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRouteModel')) {\n      return schedule(\n        view3d,\n        (gid, cb) => {\n          setTimeout(() => {\n            view3d.PauseRouteModel(gid)\n            cb && cb()\n          }, 20)\n        },\n        gid,\n        cb\n      )\n    }\n  }\n\n  /*\n   ** 继续播放\n   */\n  resumeRouteModel() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResumeRouteModel')) {\n      return schedule(\n        view3d,\n        (gid, cb) => {\n          setTimeout(() => {\n            view3d.ResumeRouteModel(gid, cb || (() => {\n            }))\n          }, 20)\n        },\n        gid,\n        cb\n      )\n    }\n  }\n\n  /*\n   ** 停止播放\n   */\n  stopRouteModel(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRouteModel')) {\n      return schedule(\n        view3d,\n        (gid, cb) => {\n          setTimeout(() => {\n            view3d.StopRouteModel(gid)\n            cb && cb()\n          }, 20)\n        },\n        gid,\n        cb\n      )\n    }\n  }\n\n  /*\n   ** 重新播放\n   */\n  rePlayRouteModel() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RePlayRouteModel')) {\n      return schedule(\n        view3d,\n        (gid, cb) => {\n          setTimeout(() => {\n            view3d.RePlayRouteModel(gid, cb || (() => {\n            }))\n            cb && cb()\n          }, 20)\n        },\n        gid,\n        cb\n      )\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP,\n\n  // 鼠标移动相关的\n  onMouseMove: NOOP,\n  onMouseMoveOut: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr) => {\n      self.setModel(attr)\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      } else {\n        // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n        self.setModel(modelEntity)\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n    this.typeName = \"image\"\n    this.$$typeof = \"IMAGE\"\n    this.create()\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * 鼠标移入\n   */\n  onMouseIn() {\n\n  }\n\n  /**\n   * 鼠标移出\n   */\n  onMouseOut() {\n\n  }\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.onClick(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(Door.icon, this._iconClickHandler.bind(this), {\n      compare: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.onDoubleClick(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.onClick(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.onDoubleClick(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.onClick(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.onDoubleClick(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compare: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    // this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from \"../utils\"\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    // this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/11 15:08\n * @FILE: build.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport {\n  schedule,\n  waitSchedule\n} from '../scheduler'\n\nimport { functionExist } from '../error'\n\n\n/**\n * 楼栋管理基类\n */\nclass MapBuildingBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  init(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n}\n\nclass MapBuildingUtils {\n  constructor(buildInstance) {\n    this.build = buildInstance\n  }\n\n  /**\n   * 判断所传的 楼栋 ID 是否符合格式：V001_JZ0001 之类的\n   * @param id\n   * @return {Boolean}\n   */\n  isBuildingId(id) {\n    const reg = /^V\\d+_JZ\\d+$/\n    return reg.test(id)\n  }\n\n  /**\n   * 是否建筑外壳，格式：V001_JZ0001_WK\n   * @param id\n   */\n  isBuildingWK(id) {\n    const reg = /^V\\d+_JZ\\d+_WK$/\n    return reg.test(id)\n  }\n\n  /**\n   * 是否楼层名称，格式：F001\n   * @param floorName\n   * @returns {boolean}\n   */\n  isFloorName(floorName) {\n    const reg = /^[B|F]\\d+$/\n\n    return reg.test(floorName)\n  }\n\n  // V001_JZ0001#F001 或者 V001_JZ0001_WK_F001\n  /**\n   * 是否完整的楼层ID\n   * @param floorId\n   * @returns {boolean}\n   */\n  isFloorId(floorId) {\n    const reg = /^V\\d+_JZ\\d+#[F|B]\\d+$/\n    const wkFloorReg = /^V\\d+_JZ\\d+_WK_[F|B]\\d+$/\n    return reg.test(floorId) || wkFloorReg.test(floorId)\n  }\n\n  /**\n   * 是否房间的 ID\n   * @param roomId\n   * @returns {boolean}\n   */\n  isRoomId(roomId) {\n    const reg = /^V\\d+_JZ\\d+_WK_F\\d+_U\\d+_H\\d+$/\n    return reg.test(roomId)\n  }\n\n  getBuildingIdFromGid(gid) {\n    if (this.isBuildingId(gid)) {\n      return gid\n    }\n\n    if (!this.isBuildingWK(gid)) {\n      return ''\n    }\n\n    const buildingIdArr = gid.split('_')\n    if (buildingIdArr.length === 3) {\n      buildingIdArr.pop()\n    }\n\n    return buildingIdArr.join('_')\n  }\n\n  /**\n   * F001 => 1\n   * F002 => 2\n   * B001 => -1\n   * B002 => 02\n   * @param floorName\n   * @returns {number|undefined}\n   */\n  getFloorNumberFromFloorName(floorName) {\n    if (!this.isValidFloorName(floorName)) {\n      return\n    }\n\n    const floorSignString = floorName[0]\n    let floorSign = 1\n    if (floorSignString === 'B') {\n      floorSign = -1\n    }\n\n    return Number(floorName.slice(1)) * floorSign\n  }\n\n  /**\n   * V001_JZ0001#F001 => F001\n   * @param floorId\n   * @returns {*}\n   */\n  getFloorNameFromFloorId(floorId) {\n    if (!this.isFloorId(floorId)) {\n      return\n    }\n\n    return floorId.split('#')[1]\n  }\n\n  isValidBuildingId(id) {\n    if (!this.isBuildingId(id)) {\n      console.error(`建筑 id: ${id}, 不符合格式：V001_JZ0001`)\n      return false\n    }\n\n    return true\n  }\n\n  isValidBuildingWkId(id) {\n    if (!this.isBuildingWK(id)) {\n      console.error(`建筑外壳 id: ${id}, 不符合格式：V001_JZ0001_WK`)\n      return false\n    }\n    return true\n  }\n\n  isValidFloorName(floorName) {\n    if (!this.isFloorName(floorName)) {\n      console.error(`楼层名称: ${floorName}, 不符合格式：B001 | F001.`)\n      return false\n    }\n\n    return true\n  }\n\n\n  createFloorGid(buildId, floorName) {\n    let floorGid = ''\n\n    if (this.isValidBuildingId(buildId)) {\n      floorGid = buildId + '_WK_' + floorName\n    } else if (this.isValidBuildingWkId(buildId)) {\n      floorGid = buildId + '_' + floorName\n    }\n\n    return floorGid\n  }\n}\n\nclass MapBuildingEvent {\n  constructor(buildInstance) {\n    this.build = buildInstance\n  }\n}\n\n/**\n * 底层楼栋接口\n */\nclass MapBuildingApi extends MapBuildingBase {\n  constructor(buildInstance) {\n    super()\n    this.build = buildInstance\n  }\n\n  init(mapViewer) {\n    super.init(mapViewer)\n    this.core = this.mapViewer.core\n    this.view3d = this.core.view3d\n  }\n\n  /**\n   * 获取建筑物数量\n   * @returns {Promise<{num: Number}>}\n   */\n  getBuildingNum() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingNum)) {\n      return schedule(this.view3d, this.view3d.GetBuildingNum)\n    }\n  }\n\n  /**\n   * 获取建筑物名称列表\n   * @returns {Promise<Array<{id: String, name: String, visible: Boolean}>>}\n   */\n  getBuildingNames() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingNames)) {\n      return schedule(this.view3d, this.view3d.GetBuildingNames)\n    }\n  }\n\n  /**\n   * 获取建筑物名称列表 - 有楼层\n   * 与getBuildingNames返回值相同，与期望的返回楼层信息不符合，不用这个接口\n   * @deprecated\n   * @returns {Promise<Array<{id: String, name: String, visible: Boolean}>>}\n   */\n  getSplitBuildingNames() {\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetSplitBuildingNames)) {\n      return schedule(this.view3d, this.view3d.GetSplitBuildingNames)\n    }\n  }\n\n  /**\n   * 获取建筑物是否显示\n   * @param id\n   * @return {Promise<{name: String, visible: Boolean}> | undefined}\n   */\n  getBuildingVisible(id) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetBuildingVisible)) {\n      return schedule(this.view3d, this.view3d.GetBuildingVisible, id)\n    }\n  }\n\n  /**\n   * 设置建筑物的显示/隐藏\n   * @desc 会将所有楼层，外壳同时显示/隐藏。且保留楼层分层的状态，保持外壳的显示隐藏状态\n   * @param id\n   * @param visible\n   * @param wait\n   * @returns {*}\n   */\n  setBuildingVisible(id, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetBuildingVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetBuildingVisible, id, visible)\n    }\n  }\n\n  /**\n   * 设置建筑物外壳的显示和隐藏\n   * @BUG 有 bug，第一次显示的状态下，调隐藏外壳，无效。第一次掉显示外壳反而隐藏了外壳，后续的调用彻底无效不管显示还是隐藏\n   * @param id\n   * @param visible\n   * @param wait\n   * @returns {*}\n   */\n  setBuildingWkVisible(id, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetBuildingWkVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetBuildingWkVisible, id, visible)\n    }\n  }\n\n  /**\n   * 楼层分离\n   */\n  splitBuilding(id, height, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SplitBuilding)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SplitBuilding, id, height)\n    }\n  }\n\n  /**\n   * 楼层复原 - 单个建筑\n   */\n  splitBuildingReset(id, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SplitBuildingReset)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SplitBuildingReset, id)\n    }\n  }\n\n  /**\n   * 楼层动态分离\n   */\n  splitDynamicBuilding(id, height, duration, callback) {\n    if (!this.build.utils.isValidBuildingId(id)) {\n      return\n    }\n\n    if (!this.core || !this.view3d) {\n      return\n    }\n\n    const self = this\n    this.core.showCover()\n    // @bug: 实际的高度 = 设置的高度 * 2\n    this.view3d.SplitDynamicBuilding(id, height, duration)\n    setTimeout(() => {\n      self.core.hideCover()\n      callback && callback()\n    }, (duration + 0.3) * 1000)\n  }\n\n  /**\n   * 楼层动态侧平移\n   * @param buildId\n   * @param floorName\n   * @param height\n   * @param duration\n   * @param callback\n   * @TODO: 传参优化\n   */\n  splitDynamicFloor(buildId, floorName, height, duration, callback) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.core || !this.view3d) {\n      return\n    }\n\n    this.core.showCover()\n    // TODO: 如果改用 updateObjects 来动态移动楼体，需要知道要终点的坐标(上下移动+z，左右移动，需要整体计算终点的x,y)\n    this.view3d.SplitDynamicFloor(buildId, floorName, height, duration)\n    setTimeout(() => {\n      this.core.hideCover()\n      callback && callback()\n    }, (duration + 0.3) * 1000)\n  }\n\n  /**\n   * 重置所有建筑的状态\n   * @param wait {Number}\n   * @returns {Promise<any>}\n   */\n  resetAllBuildings(wait = 20) {\n    if (this.view3d && functionExist(this.view3d, this.view3d.ResetAllBuildings)) {\n      return waitSchedule(wait, this.view3d, this.view3d.ResetAllBuildings)\n    }\n  }\n\n  // 楼层相关\n  /**\n   * 获取楼层个数\n   * @param buildId\n   * @returns {*}\n   */\n  getFloorNum(buildId) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetFloorNum, buildId)\n    }\n  }\n\n  /**\n   * 获取楼层名称列表\n   * @param buildId\n   * @returns {*}\n   */\n  getFloorNames(buildId) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetFloorNames, buildId)\n    }\n  }\n\n  /**\n   * 获取楼层是否显示\n   * @param buildId\n   * @param floorName\n   * @returns {*}\n   */\n  getFloorVisible(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorVisible)) {\n      return schedule(this.view3d, this.view3d.GetFloorVisible, buildId, floorName)\n    }\n  }\n\n  setFloorVisible(buildId, floorName, visible, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetFloorVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetFloorVisible, buildId, floorName, visible)\n    }\n  }\n\n  getUpFloorNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetUpFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetUpFloorNum, buildId, floorName)\n    }\n  }\n\n\n  getDownFloorNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetDownFloorNum)) {\n      return schedule(this.view3d, this.view3d.GetDownFloorNum, buildId, floorName)\n    }\n  }\n\n  getUpFloorNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetUpFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetUpFloorNames, buildId, floorName)\n    }\n  }\n\n  getDownFloorNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetDownFloorNames)) {\n      return schedule(this.view3d, this.view3d.GetDownFloorNames, buildId, floorName)\n    }\n  }\n\n  // 地面的显示和隐藏\n  setGroundVisible(visible = true, wait = 10) {\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetGroundVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetGroundVisible, visible)\n    }\n  }\n\n  /** ===== 房间相关的 =========== */\n\n  /*\n   * 获取房间数量\n   * @param buildId\n   * @param floorName\n   * @returns {*}\n   */\n  getFloorRoomNum(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomNum)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomNum, buildId, floorName)\n    }\n  }\n\n  /**\n   * 获取房间名称列表\n   * @param buildId {String}\n   * @param floorName {String}\n   * @returns {*}\n   */\n  getFloorRoomNames(buildId, floorName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomNames)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildId, floorName)\n    }\n  }\n\n  /**\n   * 获取房间是否显示\n   * @param buildId\n   * @param floorName\n   * @param roomName\n   * @returns {*}\n   */\n  getFloorRoomVisible(buildId, floorName, roomName) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.GetFloorRoomVisible)) {\n      return schedule(this.view3d, this.view3d.GetFloorRoomVisible, buildId, floorName, roomName)\n    }\n  }\n\n  /**\n   * 设置房间的可见性\n   * @param buildId {String}\n   * @param floorName {String}\n   * @param roomName {String}\n   * @param visible {Boolean}\n   * @param opacity {Number}\n   * @param wait {Number}\n   */\n  setFloorRoomVisible(buildId, floorName, roomName, visible = true, opacity = 1, wait = 20) {\n    if (!this.build.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.build.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    if (this.view3d && functionExist(this.view3d, this.view3d.SetFloorRoomVisible)) {\n      return waitSchedule(wait, this.view3d, this.view3d.SetFloorRoomVisible, buildId, floorName, roomName, visible, opacity)\n    }\n  }\n}\n\n/**\n * 楼栋相关操作\n */\nclass MapBuild extends MapBuildingBase {\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 地面默认是显示的\n    this.groundVisible = true\n\n    // 功能函数类实例\n    this.utils = new MapBuildingUtils(this)\n\n    // 底层接口实例\n    this.api = new MapBuildingApi(this)\n\n    this.buildingInfo = null\n\n    // TODO: 增加每栋楼分层的状态 - 是否在分离中，是否分离结束\n    this.init(mapViewer)\n  }\n\n  init(mapViewer) {\n    super.init(mapViewer)\n\n    this.api.init(mapViewer)\n\n    // 初始楼栋楼层信息\n    this.initBuildingInfo()\n  }\n\n\n  // 获取一遍所有的楼层实体信息，会包含：楼层边界点位：bmax,bmin\n  // 因为这是不紧急的任务，所以，不应该阻塞页面\n  initBuildingInfo() {\n    if (this.buildingInfo) {\n      return this.buildingInfo\n    }\n\n    this.buildingInfo = {}\n\n    const self = this\n    this.api.getBuildingNames().then(buildings => {\n      if (Array.isArray(buildings)) {\n        buildings.forEach(build => {\n          // 获取楼栋详情信息\n          self.setBuildingInfo(build)\n\n          // 获取楼栋内楼层的信息\n          self.setFloorInfo(build.id)\n        })\n      }\n    })\n  }\n\n  /**\n   * 获取单个建筑的实体信息\n   */\n  getBuildingInfo(buildId) {\n    if (!this.buildingInfo) {\n      return null\n    }\n\n    if (buildId !== undefined) {\n      return this.buildingInfo[buildId]\n    }\n\n    return this.buildingInfo\n  }\n\n  /**\n   * 设置单个楼栋的信息\n   */\n  setBuildingInfo(build) {\n    if (!this.buildingInfo) {\n      this.buildingInfo = {}\n    }\n\n    const self = this\n\n    this.buildingInfo[build.id] = {\n      ...build,\n      // 默认都不是处于分层的状态\n      split: false,\n      floor: []\n    }\n\n    // 获取对应的楼栋的详情\n    if (this.mapViewer) {\n      this.mapViewer.drawer.findObjectById(build.id).then(res => {\n        self.buildingInfo[build.id] = {\n          ...build,\n          details: res\n        }\n      })\n    }\n  }\n\n  // 获取某栋楼内的所有楼层信息 - 名称列表\n  getFloorInfo(buildId) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n\n    if (!this.buildingInfo) {\n      return\n    }\n\n    return this.buildingInfo[buildId]\n  }\n\n  setFloorInfo(buildId) {\n    const self = this\n\n    // 如果没有获取过，获取一次\n    this.api.getFloorNames(buildId).then(floors => {\n      if (Array.isArray(floors)) {\n        self.buildingInfo[buildId].floorNum = floors.length\n        self.buildingInfo[buildId].floor = floors\n\n        floors.forEach((floor, i) => {\n          self.setFloorDetail(buildId, floor.floorname, i)\n        })\n      }\n    })\n  }\n\n  /**\n   * 获取楼层详情信息\n   * @param buildId\n   * @param floorName\n   */\n  getFloorDetail(buildId, floorName) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n\n    // TODO: 验证 floorName\n    let floorInfo = null\n\n    const buildInfo = this.getBuildingInfo(buildId)\n    if (buildInfo && buildInfo.floor) {\n      for (let i = 0; i < buildInfo.floor.length; i++) {\n        const floor = buildInfo.floor\n        if (floor.floorname === floorName) {\n          floorInfo = floor\n          break\n        }\n      }\n    }\n\n    if (!floorInfo) {\n      console.warn(`无法找到给定的楼层信息。楼栋 id: ${buildId}, 楼层id: ${floorName} . `)\n      return null\n    }\n    return floorInfo\n  }\n\n  /**\n   * 设置楼层详情信息\n   * @param buildId\n   * @param floorName\n   * @param index\n   */\n  setFloorDetail(buildId, floorName, index) {\n    if (!this.utils.isBuildingId(buildId)) {\n      return\n    }\n    const floorGid = this.utils.createFloorGid(buildId, floorName)\n    if (floorGid) {\n      this.api.setFloorVisible(buildId, floorName, true).then(() => {\n        this.mapViewer.drawer.findObjectById(floorGid).then(res => {\n          const buildInfo = this.getBuildingInfo(buildId)\n          if (buildInfo && Array.isArray(buildInfo.floor)) {\n            const floorInfo = buildInfo.floor[index]\n            if (floorInfo) {\n              floorInfo.details = res\n            }\n          }\n        })\n      })\n    }\n  }\n\n  /**\n   * 楼层显示和隐藏 - 无动态效果\n   *\n   * @param options.buildId {String}\n   * @param options.floorName {String}\n   * @param options.visible {Boolean}\n   */\n  setFloorVisible(options) {\n    const {\n      buildId,\n      floorName,\n      visible = false,\n      multiple = false // 是否同时显示多个楼层\n    } = options\n\n    if (!this.utils.isValidBuildingId(buildId)) {\n      return\n    }\n\n    if (typeof floorName === 'string' && !this.utils.isValidFloorName(floorName)) {\n      return\n    }\n\n    const floorSign = floorName[0]\n\n    if (floorSign === 'B') {\n      // 隐藏地面\n      if (this.groundVisible) {\n        this.groundVisible = !this.groundVisible\n        this.api.setGroundVisible(this.groundVisible)\n      }\n    } else {\n      // 显示地面\n      if (!this.groundVisible) {\n        this.groundVisible = !this.groundVisible\n        this.api.setGroundVisible(this.groundVisible)\n      }\n    }\n\n    const buildInfo = this.getBuildingInfo(buildId)\n\n\n    if (!multiple) {\n      const floorNumber = this.utils.getFloorNumberFromFloorName(floorName)\n\n      // 正常的分层显示\n      if (buildInfo && Array.isArray(buildInfo.floor)) {\n\n        for (let floor of buildInfo.floor) {\n          let floorVisible = false\n\n          const currentFloorName = floor.floorname\n\n          const currentFloorNumber = this.utils.getFloorNumberFromFloorName(currentFloorName)\n\n          floorVisible = currentFloorNumber <= floorNumber\n\n          this.api.setFloorVisible(buildId, currentFloorName, floorVisible)\n        }\n      }\n    } else {\n      // 多楼层可见的显示\n      if (Array.isArray(floorName)) {\n        for (let floor of buildInfo.floor) {\n          const currentFloorName = floor.floorname\n          let floorVisible = floorName.indexOf(currentFloorName) !== -1\n          this.api.setFloorVisible(buildId, currentFloorName, floorVisible)\n        }\n      }\n    }\n  }\n}\n\nexport default MapBuild\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '../error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\nconst MAP_STATUS_NORMAL = 'MAP_STATUS_NORMAL' // 普通状态\nconst MAP_STATUS_DRAG = 'MAP_STATUS_DRAG' // 拖动的状态\n\nconst MOUSE_STATUS_DOWN = 'MOUSE_STATUS_DOWN'\nconst MOUSE_STATUS_MOVE = 'MOUSE_STATUS_MOVE'\nconst MOUSE_STATUS_DRAG = 'MOUSE_STATUS_DRAG'\nconst MOUSE_STATUS_UP = 'MOUSE_STATUS_UP'\n\n// 注册到 video 父元素上的基础鼠标事件\nconst MOUSE_MOVE_KEY = 'mousemove' // 鼠标移动\nconst MOUSE_DOWN_KEY = 'mousedown' // 鼠标按下\nconst MOUSE_UP_KEY = 'mouseup' // 鼠标抬起\nconst MOUSE_WHEEL = 'mousewheel' // 滚轮缩放\nconst MOUSE_DRAG = 'mousedrag' // 拖拽的Key， 仅用来做事件缓存是的可以，实际绑定到 DOM 的还是 mousemove 事件\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mouseStatus = MOUSE_STATUS_MOVE // 正常的鼠标状态是移动\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [\n  MOUSE_MOVE_KEY,\n  MOUSE_DOWN_KEY,\n  MOUSE_UP_KEY,\n  MOUSE_WHEEL,\n  MOUSE_DRAG\n]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compare: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    // 通过显示的保存指定的前缀\n    this.prefix = new Set()\n\n    this.debug = false // 是否显示点击的对象属性\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 100\n\n    // 单击和双击的间隔值 ms, 如果同一个 prefix，既有单击，又有双击事件，第一次单击会被延迟\n    // 同时等待 _doubleClickTicker 的时间，如果再次触发单击，则触发双击的回调，如果没有再次触发单击，则触发单击回调\n    this._doubleClickTicker = 180\n\n    // 因为每次缩放，都去请求一次当前相机的位置，所以，如果上一次请求的接口没有返回，就不去获取\n    this.getCurrentPositionComplete = false\n\n    // 保存DOM事件key的状态，来避免重复绑定事件\n    this.mouseEventStatusMap = new Map(\n      mouseEventGroup.map(key => [key, false])\n    )\n\n    // 默认注册内部的鼠标拖拽事件，来避免拖拽是误触点击事件\n    this._internalHandlerMouseMoveEvent()\n  }\n\n  // 内部监听鼠标按下，抬起的事件\n  _internalHandlerMouseMoveEvent() {\n    // 这里的回调不需要执行逻辑，只需要让内部的处理函数做好鼠标和地图状态的管理即可\n    const internalMouseUpHandler = () => {\n    }\n\n    const internalMouseDownHandler = () => {\n    }\n\n    const internalMouseDragHandler = () => {\n    }\n\n    this.onMouseUp(internalMouseUpHandler, {\n      throttle: false\n    })\n\n    // 鼠标按下的事件不能节流 ！！！\n    // 否则会影响拖动事件的判断\n    this.onMouseDown(internalMouseDownHandler, {\n      throttle: false\n    })\n\n    // 拖拽的事件，可以节流，避免回调触发过于频繁\n    this.onDrag(internalMouseDragHandler, {\n      ticker: 50,\n      throttle: true\n    })\n  }\n\n  // 执行所有的 DOM 回调\n  _flushMouseEvent(key, ...args) {\n    const mouseWheelMap = this.prefixAndCallbackMap.get(key)\n    if (mouseWheelMap) {\n      const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n      const mouseWheelEventCallbackSet =\n        mouseWheelEventCallbackMap.get('click')\n      mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n        if (oneMouseWheelHandlerMap.get('callback')) {\n          oneMouseWheelHandlerMap.get('callback')(...args)\n        }\n      })\n    }\n  }\n\n  // 注册鼠标事件到地图容器上\n  _registerMouseEvent(key, callback, option) {\n    // 不需要重复注册事件到 DOM 元素上\n    if (this.mouseEventStatusMap.get(key)) {\n      return\n    }\n\n    this.mouseEventStatusMap.set(key, true)\n\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n\n    if ($mapViewContainer) {\n      $mapViewContainer.addEventListener(option.domEvent, callback, false)\n    }\n  }\n\n  // 移除，注册在地图容器元素之上的 DOM 事件\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n\n    if (existCallbackMapKey) {\n      // 再去删除缓存的函数\n      this._removeCacheCallback(key, callback)\n    }\n  }\n\n  // 缓存所有注册的鼠标事件（DOM 事件）\n  _cacheMouseEvent(\n    key = '',\n    callback = () => null,\n    handler = () => null,\n    config = {}\n  ) {\n    // 默认的配置\n    const defaultOption = {\n      // 节流和防抖只能二选一\n      throttle: true,\n      debounce: false,\n      ticker: 100,\n\n      // 实际绑定到 DOM 事件类型\n      domEvent: key\n    }\n\n    const option = Object.assign({}, defaultOption, config)\n\n    if (isFunction(callback)) {\n      let mouseHandler = handler\n\n      // 通过配置，选择防抖 、节流\n      if (option.throttle) {\n        mouseHandler = throttle(\n          mouseHandler,\n          option.ticker\n        )\n      }\n\n      if (option.debounce) {\n        mouseHandler = debounce(\n          mouseHandler,\n          option.ticker,\n          true\n        )\n      }\n\n      this._cacheCallback(key, callback)\n\n      this._registerMouseEvent(key, mouseHandler, option)\n    }\n  }\n\n  /**\n   * 实际鼠标缩放的处理函数\n   * @private\n   */\n  _mouseWheelHandler(e) {\n    // 避免获取相机位置的接口没有返回，而重复获取，导致出现视角回调获取位置的顺序出错\n    if (this.getCurrentPositionComplete) {\n      return\n    }\n\n    if (\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n\n      this.getCurrentPositionComplete = true\n\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        this.getCurrentPositionComplete = false\n        this._flushMouseEvent(MOUSE_WHEEL, e, position)\n      })\n    }\n  }\n\n  /**\n   * 实际鼠标移动的处理函数\n   * @param e\n   * @private\n   */\n  _mouseMoveHandle(e) {\n    let eventKey = MOUSE_MOVE_KEY\n\n    // 如果鼠标移动过程中，处于鼠标按下的状态，则是在拖动地图\n    if (mouseStatus === MOUSE_STATUS_DOWN || mouseStatus === MOUSE_STATUS_DRAG) {\n      mouseStatus = MOUSE_STATUS_DRAG\n      mapStatus = MAP_STATUS_DRAG\n      eventKey = MOUSE_DRAG\n\n      // 否则是正常的鼠标移动\n    } else {\n      mouseStatus = MOUSE_STATUS_MOVE\n      mapStatus = MAP_STATUS_NORMAL\n    }\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    // mapMoveTimer = setTimeout(() => {\n    //   // 如果是拖动过程中，没有触发鼠标抬起\n    //   if (mouseStatus === MOUSE_STATUS_DRAG) {\n    //     // this._mouseUpHandler(e)\n    //   }\n    // }, 100)\n\n    // 同时这里要跟拖拽区分开，因为拖拽也会出发移动，这里要判断,只处理移动事件\n    this._flushMouseEvent(eventKey, e)\n  }\n\n  _mouseDownHandler(e) {\n    mapStatus = MAP_STATUS_NORMAL\n    mouseStatus = MOUSE_STATUS_DOWN\n    this._flushMouseEvent(MOUSE_DOWN_KEY, e)\n  }\n\n  _mouseUpHandler(e) {\n    mapStatus = MAP_STATUS_NORMAL\n\n    mouseStatus = MOUSE_STATUS_UP\n\n    this._flushMouseEvent(MOUSE_UP_KEY, e)\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 100ms.\n   */\n  setDragTicker(time = 100) {\n    this._dragTicker = time\n  }\n\n  /**\n   * 设置单击和双击的间隔时间，单位： ms.\n   * @param time\n   */\n  setDoubleClickTicker(time = 150) {\n    this._doubleClickTicker = time\n  }\n\n  // 注册鼠标缩放事件\n  onZoom(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_WHEEL, callback, this._mouseWheelHandler.bind(this), config)\n  }\n\n  /**\n   * 移除鼠标缩放事件\n   */\n  offZoom(callback) {\n    if (isFunction(callback)) {\n      this.remove(MOUSE_WHEEL, callback)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_MOVE_KEY, callback, this._mouseMoveHandle.bind(this), config)\n  }\n\n  // 移除鼠标移动事件\n  offMouseMove(callback) {\n    this.remove(MOUSE_MOVE_KEY, callback)\n  }\n\n  // 注册鼠标按下\n  onMouseDown(callback, config) {\n    this._cacheMouseEvent(MOUSE_DOWN_KEY, callback, this._mouseDownHandler.bind(this), config)\n  }\n\n  // 移除鼠标按下\n  offMouseDown(callback) {\n    this.remove(MOUSE_DOWN_KEY, callback)\n  }\n\n  // 注册鼠标抬起\n  onMouseUp(callback, config) {\n    this._cacheMouseEvent(MOUSE_UP_KEY, callback, this._mouseUpHandler.bind(this), config)\n  }\n\n  // 移除鼠标抬起\n  offMouseUp(callback) {\n    this.remove(MOUSE_UP_KEY, callback)\n  }\n\n  // 注册地图拖拽事件\n  onDrag(callback, config = {}) {\n    this._cacheMouseEvent(MOUSE_DRAG, callback, this._mouseMoveHandle.bind(this), {\n      ...config,\n      domEvent: MOUSE_MOVE_KEY\n    })\n  }\n\n  // 移除拖拽事件\n  offDrag(callback) {\n    this.remove(MOUSE_DRAG, callback)\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  _resetMouseCallback() {\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cachePrefix(prefix) {\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArray = [prefix]\n\n    for (let p of prefixArray) {\n      this.prefix.add(p)\n    }\n  }\n\n  _removePrefix(prefix = '') {\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArr = [prefix]\n\n    for (let p of prefixArr) {\n      this.prefix.delete(p)\n    }\n\n    // 移除完点选的前缀，需要重新绑定事件。才能真正移除\n    this.reBind()\n  }\n\n  _getPrefix() {\n    return Array.from(this.prefix).join(',')\n  }\n\n  _clearPrefix() {\n    this.prefix = new Set()\n  }\n\n  _cacheCallback(prefix = '', callback, config = defaultConfig) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix || typeof prefix !== 'string') {\n      return\n    }\n\n    let prefixArr = [prefix]\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix || typeof oldPrefix !== 'string') {\n      return\n    }\n\n    let oldPrefixArr = oldPrefix.split(',')\n\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('callback') === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n            this._removePrefix(k)\n          }\n        }\n      }\n    }\n  }\n\n  _setMouseClickPrefix() {\n    const view3d = this._view3d\n    const prefix = this._getPrefix()\n\n    // 如果 prefix 为 '',不应该再去设置点选的参数了\n    if (!prefix) {\n      this.mapViewer.core.setParameters(null)\n      view3d.SetMouseCallback(null)\n      return false\n    }\n\n    this.mapViewer.core.setParameters({\n      // prefix: '*'\n      prefix\n    })\n\n    return true\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    const shouldSetParameters = this._setMouseClickPrefix()\n    if (!shouldSetParameters) {\n      return\n    }\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        if (self._lastClickCallbackTimer) {\n          clearTimeout(self._lastClickCallbackTimer)\n        }\n\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n\n          if (self.debug) {\n            console.log(res)\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compare,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compare， 且属于用户自定义的比较函数\n                if (compare !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compare(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= self._doubleClickTicker) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n\n                if (now - self._lastClickTimestamp <= self._doubleClickTicker) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, self._doubleClickTicker)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n        // }, 300)\n      }\n      view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compare {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  onClick(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    // 缓存 prefix\n    this._cachePrefix(prefix)\n\n    // 缓存回调\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * 重新绑定事件\n   */\n  reBind() {\n    this._addMouseClickCallback()\n    // this._setMouseClickPrefix()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(prefix = '*', callback, config) {\n    // const self = this\n    this.onClick(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      this._clearPrefix()\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBind 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","// 后台所有api\nimport http from '../utils/request'\n\n/**\n 000 用户测试   Test Controller\n\n GET   /test/user/{userId}   获取用户详细\n\n DELETE   /test/user/{userId}   删除用户信息\n\n GET   /test/user/list   获取用户列表\n\n POST   /test/user/save   新增用户\n\n PUT   /test/user/update   更新用户\n\n 001 通用请求服务   Common Controller\n\n GET   /common/download   下载文件\n\n GET   /common/download/resource   资源下载\n\n GET   /common/license/info   获取授权信息\n\n POST   /common/license/upload   上传更新授权文件\n\n POST   /common/upload   上传文件\n\n\n\n 102 最短路径服务\n\n GET   /shortestpath/build/floors   查询工程内所属建筑物和楼层信息列表\n\n POST   /shortestpath/find/entrances   获取大楼1层的入口坐标点\n\n POST   /shortestpath/find/floors   查询工程内当前点所有楼层\n\n POST   /shortestpath/find1   最短路径1，返回Link线段\n\n POST   /shortestpath/find2   最短路径2,返回坐标点\n\n POST   /shortestpath/find3   最短路径2,返回Geojson\n\n POST   /shortestpath/find4   最短路径4,返回UE4坐标点\n\n GET   /shortestpath/geometry/arc/search   查询工程内楼层的空间信息\n\n GET   /shortestpath/geometry/node/search   查询工程内楼层的空间信息\n\n 103 两点间全路径服务\n\n POST   /pathfinder/find1   全路径查询1，返回Link线段\n\n POST   /pathfinder/find3   全路径查询3,返回Geojson\n\n 201 视频空间分析服务\n\n POST   /camera/spatial/geojson   获取可视区域的面图层\n\n POST   /camera/spatial/geojsonpoint   获取可视区域的面图层\n\n POST   /camera/spatial/searchByLine   线对象查询区域\n\n POST   /camera/spatial/searchByPoint   点选空间查询区域\n\n POST   /camera/spatial/searchByPolygon   面对象查询区域\n\n\n\n 301 地图数据管理服务\n\n POST   /project3d/add   新增地图工程\n\n DELETE   /project3d/delete/{id}   删除地图工程\n\n POST   /project3d/disconnected   工程连接断开, 重启服务\n\n PUT   /project3d/edit   修改地图工程\n\n GET   /project3d/getInfo   查询工程\n\n GET   /project3d/list   工程列表\n\n POST   /project3d/merge   合并文件\n\n POST   /project3d/playercount   当前服务连接用户数\n\n GET   /project3d/search   查询工程\n\n POST   /project3d/start   启动工程\n\n POST   /project3d/stop   停止工程\n\n POST   /project3d/upload   上传文件\n\n 302 图像资源数据管理服务\n\n DELETE   /project3d/images/delete/{fileName}   删除图像\n\n POST   /project3d/images/rename   重命名图片\n\n GET   /project3d/images/search   查询图像资源\n\n GET   /project3d/images/show/{fileName}   获取图片\n\n POST   /project3d/images/upload   批量上传图片\n\n 401 地图服务数据管理   Layer Data Controller\n\n POST   /tserver/data/add   新增地图图层\n\n DELETE   /tserver/data/delete/{id}   删除地图图层\n\n PUT   /tserver/data/edit   修改地图图层\n\n GET   /tserver/data/list   图层列表\n\n POST   /tserver/data/merge   合并文件\n\n GET   /tserver/data/search   查询图层\n\n POST   /tserver/data/upload   上传文件\n\n 402 地图数据服务发布   Layer Controller\n\n GET   /tserver/{ttype}/{id}/{fileName}   3dtiles图层数据获取\n\n GET   /tserver/{ttype}/{id}/{path}/{fileName}   3dtiles图层数据获取\n\n GET   /tserver/{ttype}/{id}/{path1}/{path2}/{fileName}   3dtiles图层数据获取\n\n GET   /tserver/{ttype}/{id}/{path1}/{path2}/{path3}/{fileName}   3dtiles图层数据获取\n\n GET   /tserver/{ttype}/{id}/{path1}/{path2}/{path3}/{path4}/{fileName}   3dtiles图层数据获取\n\n GET   /tserver/image/{id}/{z}/{x}/{y}   image图层数据图像获取\n\n GET   /tserver/image/{id}/layer.json   image图层信息\n\n GET   /tserver/terrain/{id}/{z}/{x}/{y}.terrain   terrain图层数据图像获取\n\n GET   /tserver/terrain/{id}/layer.json   terrain图层信息\n */\n\nexport class MapAdminApi {\n  // 最短路径数据管理服务\n\n  /**\n   * 路径数据工程删除\n   * @param prefix\n   * @param auth\n   * @param projId 路网id\n   */\n  async shortestpathDataDelProjId(\n    prefix: string,\n    auth: string,\n    projId: string\n  ) {\n    let url = `shortestpath/data/del/{projId}`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'DELETE',\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n\n  /**\n   * 路径数据工程修改\n   * @param prefix\n   * @param auth\n   * @param params\n   */\n  async shortestpathDataEdit(prefix, auth, params) {\n    let url = `shortestpath/data/edit`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'PUT',\n      data: params,\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n\n  /**\n   * 数据入库\n   * @param prefix\n   * @param auth\n   * @param file\n   * @param project\n   * @param projectName\n   */\n  async shortestpathDataImport(\n    prefix: string,\n    auth: string,\n    file: FormData,\n    project: string,\n    projectName: string\n  ) {\n    let url = `shortestpath/data/import`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}?project=${project}&projectName=${projectName}`,\n      method: 'post',\n      data: file,\n      headers: {\n        authorization: auth,\n        ContentType: 'multipart/form-data'\n      }\n    })\n    return res\n  }\n\n  /**\n   * 路径数据工程查询\n   * @param prefix\n   * @param auth\n   * @param params\n   */\n  async shortestpathDataSearch(prefix, auth, params) {\n    let url = `shortestpath/data/search`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'get',\n      data: params,\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n\n  // 202 视频沿线追踪、围堵算法服务\n\n  // POST   /camera/tracking/cornered   围堵算法\n  async cameraTrackingCornered(prefix, auth, params) {\n    let url = `camera/tracking/cornered`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'post',\n      data: params,\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n\n  // GET   /camera/tracking/line   沿线追踪算法\n  async cameraTrackingLine(prefix, auth, params) {\n    let url = `camera/tracking/line`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'GET',\n      data: params,\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n\n  // POST   /camera/tracking/linecornered   沿线追踪围堵算法\n  async cameraTrackingLineCornered(prefix, auth, params) {\n    let url = `camera/tracking/linecornered`\n    let httpObj = http()\n    let res = await httpObj.http({\n      url: `${prefix}/${url}`,\n      method: 'post',\n      data: params,\n      headers: {\n        authorization: auth\n      }\n    })\n    return res\n  }\n}\n","﻿//工具类\nimport * as utils from './utils'\n\n//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n// 新的建筑实例\nimport Build from './build/build'\n\nimport MapEvent from './event'\n\n// 模型类\nimport { DBModelClass } from './modelClass/DBModelClass'\nimport { MapModelClass } from './modelClass/MapModelClass'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport * as mapError from './error'\n\nimport { MapAdminApi } from './adminApi/index'\n\nconst { isFunction, NOOP } = utils\n\n\nexport type DefaultMapConfig = {\n  debug?: boolean\n\n  // 地图容器 ID\n  id: string\n\n  // 地图平台地址 URL\n  url: string\n\n  // 工程 ID\n  projectId: string\n\n\n  token?: string\n\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: string\n\n  // 是否自动创建地图，允许延迟初始化地图\n  manual: boolean\n\n  //是否展示初始 loading 状态\n  loading: boolean\n\n  // 地图指北针控件是否显示\n  northControl: false\n\n  // 是否启用键盘\n  enableKeyboard: true\n\n  // 是否启用鼠标\n  enableMouse: true\n\n  // 是否允许默认定位\n  defaultLocate: true\n\n  // 是否在窗口 resize 后，默认设置地图的分辨率\n  autoResize: true\n\n  // resize 的防抖间隔，用来避免 resize 后，retResolution 过于频繁。\n  autoResizeTicker: 300\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1\n\n  //  是否默认重置建筑的状态(比如分层)\n  resetBuildings:  boolean\n\n  // 内置的鼠标图标是否可见\n  internalMouseVisible: boolean\n\n  // 地图创建完成回调\n  complete: (mapViewer: MapViewer, view3d?: any) => null\n\n  // 地图创建失败回调\n  error: () => null\n}\n\n/**\n * 默认参数\n */\nconst defaultOption: DefaultMapConfig = {\n  debug: false,\n\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n\n  // 是否自动创建地图，允许延迟初始化地图\n  manual: false,\n\n  //是否展示初始 loading 状态\n  loading: true,\n\n  // 地图指北针控件是否显示\n  northControl: false,\n\n  // 是否启用键盘\n  enableKeyboard: true,\n\n  // 是否启用鼠标\n  enableMouse: true,\n\n  // 是否允许默认定位\n  defaultLocate: true,\n\n  // 是否在窗口 resize 后，默认设置地图的分辨率\n  autoResize: true,\n\n  // resize 的防抖间隔，用来避免 resize 后，retResolution 过于频繁。\n  autoResizeTicker: 300,\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  //  是否默认重置建筑的状态(比如分层)\n  resetBuildings:  true,\n\n  // 内置的鼠标图标是否可见\n  internalMouseVisible: false,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n}\n\nclass MapViewer {\n  private connected: boolean\n  public core: MapCore\n  public config: DefaultMapConfig\n  public event: MapEvent | null\n  public build: MapBuild | null\n  public mapBuild: Build | null\n  public camera: MapCamera | null\n  public drawer: MapDrawer | null\n  public model: any\n  public scheduler: any\n\n  constructor(config: DefaultMapConfig) {\n    this.connected = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.mapBuild = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  public create() {\n    if (this.connected) {\n      mapError.warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  private _init() {\n    if (this.core) {\n      this.core.createMap(this.config).then(() => {\n        let view3d = this.core.view3d\n        if (view3d) {\n          this.event = new MapEvent(view3d, this)\n          this.build = new MapBuild(view3d, this)\n          this.mapBuild = new Build(this)\n          this.camera = new MapCamera(view3d, this)\n          this.drawer = new MapDrawer(view3d, this)\n          this.model = new ModelManager(view3d, this)\n\n          this.connected = true\n\n          // 加载完成事件\n          if (this.config.complete && isFunction(this.config.complete)) {\n            this.config.complete(this, view3d)\n          }\n        }\n      })\n    }\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport type {\n  MapModelClass,\n  DBModelClass\n}\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  mapError as error,\n  MapViewer,\n  MapAdminApi,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","debounce","func","wait","immediate","timer","result","debounced","context","args","arguments","clearTimeout","apply","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","Date","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","call","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","_arr","_n","_d","_s","_e","next","done","push","value","length","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","toString","slice","name","from","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","EventsBus","events","Map","fn","isOnce","_this","m","get","fnMap","set","off","console","error","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","Promise","then","_asyncToGenerator","self","undefined","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","Lock","locked","lock","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","InvalidParameter","code","msg","View3dUnInitialized","logError","errorMsg","isString","isPlainObject","log","warn","functionExist","funcName","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isNumber","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","InterceptorManager$1","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validators$1","validator","formatMessage","opt","desc","opts","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","Axios$1","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios$2","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","HttpFactory","environments","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","getVersion","getBuildTime","toLocaleString","environment","printVersion","c1","c2","c3","c4","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","autoResize","handleAddWindowResizeResolution","autoResizeTicker","OverLayerRemoveAll","resetBuildings","ResetAllBuildings","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","mouse_selected","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","ticker","MapCamera","viewer","duration","resetHome","SetPosition","_this$viewer","_this$viewer$core","_this$viewer2","_this$viewer2$event","showLocation","durationTime","enableCurve","core","showCover","event","silent","onFinish","_self$viewer","_self$viewer$core","_self$viewer2","_self$viewer2$core","_self$viewer3","_self$viewer3$event","clear","hideCover","reBind","internalFlyToPositionCallback","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","niagara","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","MapActorInstance","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","linevisible","lighting","iconstyle","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","pheight","minx","miny","maxx","maxy","gradient","ModelConfigInstance","MapAxisDraw","groundHeight","MapDrawer","mapView","_event","find","MapRemove","update","ACTOR","axisDraw","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","maxByteLength","lengthCurr","item","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","_overLayerRemoveAll","_args","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","PlayRouteModel","PauseRouteModel","ResumeRouteModel","StopRouteModel","RePlayRouteModel","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","onMouseMove","onMouseMoveOut","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","shouldUpdateEntity","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","onClick","_modelClickHandler","compare","_","startsWith","onDoubleClick","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","ModelManager","MapBuild","isBuildFloor","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorIdByFloorGid","getFloorNameSmallByFloorId","getFloorNameByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","floorHeight","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","floorName","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MapBuildingBase","MapBuildingUtils","buildInstance","build","wkFloorReg","roomId","isBuildingId","isBuildingWK","buildingIdArr","isValidFloorName","floorSignString","floorSign","isFloorId","isFloorName","isValidBuildingId","isValidBuildingWkId","MapBuildingApi","_super","GetSplitBuildingNames","GetDownFloorNames","groundVisible","api","buildingInfo","init","initBuildingInfo","getBuildingNames","buildings","setBuildingInfo","setFloorInfo","details","getFloorNames","floors","floorNum","setFloorDetail","floorname","floorInfo","buildInfo","getBuildingInfo","createFloorGid","setFloorVisible","multiple","_options$multiple","setGroundVisible","currentFloorName","floorNumber","getFloorNumberFromFloorName","currentFloorNumber","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","MOUSE_STATUS_DOWN","MOUSE_STATUS_MOVE","MOUSE_STATUS_DRAG","MOUSE_STATUS_UP","MOUSE_MOVE_KEY","MOUSE_DOWN_KEY","MOUSE_UP_KEY","MOUSE_WHEEL","MOUSE_DRAG","mapStatus","mouseStatus","mouseEventGroup","isDouble","internal","MapEvent","debug","prefixAndCallbackMap","_lastClickTimestamp","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_dragTicker","_doubleClickTicker","getCurrentPositionComplete","mouseEventStatusMap","_internalHandlerMouseMoveEvent","internalMouseUpHandler","internalMouseDownHandler","internalMouseDragHandler","onMouseUp","onMouseDown","onDrag","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","mapViewContainerId","$mapViewContainer","domEvent","existCallbackMapKey","mouseKey","_removeCacheCallback","handler","defaultOption","mouseHandler","_cacheCallback","_registerMouseEvent","getCurrentPosition","_flushMouseEvent","eventKey","click","oneCallbackMap","fromEntries","_cacheMouseEvent","_mouseWheelHandler","_mouseMoveHandle","_mouseDownHandler","_mouseUpHandler","UnRegisterEvent","k","prefixArray","_prefixArray","prefixArr","_i2","_prefixArr","_i3","_prefixArr2","existCallbackMap","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","cachedCallback","includes","_removePrefix","_getPrefix","SetMouseCallback","shouldSetParameters","_setMouseClickPrefix","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMousePositionCallback","_config","_cachePrefix","_addMouseClickCallback","_removeMouseEvent","_clearPrefix","_resetMouseCallback","MapAdminApi","projId","file","project","projectName","MapViewer","scheduler","ver.printVersion","mapError.warn","Build","website","author","ver.getVersion","ver.getBuildTime","env","ver.environment","CATEGORY"],"mappings":"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"}