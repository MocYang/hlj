{"version":3,"file":"mapv3d-src.mjs","sources":["../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/version.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../../node_modules/@babel/runtime/regenerator/index.js","../../src/utils/debounce.js","../../src/utils/throttle.js","../../src/utils/FullScreen.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/utils/EventBus.js","../../src/utils/lock.js","../../src/utils/captureUtil.js","../../src/utils/osUtil.js","../../src/utils/treeUtil.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/axios/lib/helpers/bind.js","../../../../node_modules/axios/lib/utils.js","../../../../node_modules/axios/lib/helpers/buildURL.js","../../../../node_modules/axios/lib/core/InterceptorManager.js","../../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../../node_modules/axios/lib/core/enhanceError.js","../../../../node_modules/axios/lib/defaults/transitional.js","../../../../node_modules/axios/lib/core/createError.js","../../../../node_modules/axios/lib/core/settle.js","../../../../node_modules/axios/lib/helpers/cookies.js","../../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../../node_modules/axios/lib/helpers/combineURLs.js","../../../../node_modules/axios/lib/core/buildFullPath.js","../../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../../node_modules/axios/lib/cancel/Cancel.js","../../../../node_modules/axios/lib/adapters/xhr.js","../../../../node_modules/axios/lib/defaults/index.js","../../../../node_modules/axios/lib/core/transformData.js","../../../../node_modules/axios/lib/cancel/isCancel.js","../../../../node_modules/axios/lib/core/dispatchRequest.js","../../../../node_modules/axios/lib/core/mergeConfig.js","../../../../node_modules/axios/lib/env/data.js","../../../../node_modules/axios/lib/helpers/validator.js","../../../../node_modules/axios/lib/core/Axios.js","../../../../node_modules/axios/lib/cancel/CancelToken.js","../../../../node_modules/axios/lib/helpers/spread.js","../../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../../node_modules/axios/lib/axios.js","../../../../node_modules/axios/index.js","../../src/utils/request.js","../../src/utils/fetchConfig.js","../../src/utils/index.js","../../src/error.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/scheduler.js","../../src/core/index.js","../../src/camera/index.js","../../src/drawer/create.js","../../src/drawer/find.js","../../src/drawer/update.js","../../src/drawer/remove.js","../../src/drawer/actor.js","../../src/model/category/config.js","../../src/drawer/config.js","../../src/drawer/index.js","../../src/model/selector.js","../../src/model/options.js","../../src/model/category/base.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../src/model/category/devices/camera/index.js","../../src/model/category/devices/camera/CameraBox.js","../../src/model/category/devices/camera/CameraSpeedDome.js","../../src/model/category/devices/camera/CameraDome.js","../../src/model/category/devices/camera/CameraFace.js","../../src/model/category/devices/camera/CameraBayonet.js","../../src/model/category/devices/door/index.js","../../src/model/category/devices/door/DoorHKFaceAccessTerminal.js","../../src/model/category/devices/intercom/index.js","../../src/model/category/devices/intercom/IntercomHkIndoor.js","../../src/model/category/devices/intercom/IntercomHkOutdoor.js","../../src/model/category/image/index.js","../../src/model/category/getClass.js","../../src/model/category/index.js","../../src/model/controller.js","../../src/model/adapter.js","../../src/model/event/base.js","../../src/model/category/devices/camera/event.js","../../src/model/category/devices/door/event.js","../../src/model/category/devices/intercom/event.js","../../src/model/event/index.js","../../src/model/index.js","../../src/build/buildMgr.js","../../src/build/index.js","../../src/event/index.js","../../src/index.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","//当前版本  2020年1月1日 - 至今\n// import pkg from '../package.json'\nexport const getVersion = () => {\n  return `V0.1.29`\n}\n\n//发布时间\n// export const update = \"2022-4-26 08:16:43\";\nexport const getBuildTime = () => {\n  return new Date().toLocaleString()\n}\n\n//开发模式\nexport const environment = \"DEV\";\n\n//打印信息\nexport const printVersion = function () {\n    var msg = `%c 🌒%c MapV3D %c 图洋三维地图平台 %c\n\n版 本 号：${getVersion()}\n编译日期：${getBuildTime()}\n版权声明：\n1. MapV3D版权完全属于 \"杭州图洋信息科技有限公司\"。\n2. MapV3D中mapv3d-src.*.js程序包，任何个人和机构在遵守下列条件的前提下授权永久使用：\n    1）不进行任何形式的破解和裁剪，程序包完整引用\n    2）保留此版权信息在控制台输出\n我们保留对此版权信息的最终解释权。\n`;\n\n    var c1 = 'font-size: 17px;line-height: 1.5;font-weight: 1000;font-family: \"微软雅黑\";color: rgb(240, 133, 25);',\n        c2 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);',\n        c3 = 'font-size: 15px;line-height: 1.5;font-family: \"微软雅黑\";font-style: italic;color: rgb(240, 133, 25);padding-bottom: 5px;',\n        c4 = 'font-size: 12px;line-height: 1.5;font-family: \"微软雅黑\";color: rgb(0, 138, 255);'\n\n    console.log(msg, c1, c2, c3, c4);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n *\n */\nfunction debounce(func, wait = 16, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否禁用第一次执行\n    trailing: true // 是否禁用最后一次回调\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous) // 等待时间 - (当前事件 - 上一时间)\n\n    if (remaining <= 0 || remaining > wait) {\n      // 超过等待时间 || 大于等待时间\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","//全屏\n// 打开浏览器全屏模式\n/**\n * screenChange <Function> 为窗口变化的 的回调函数  参数为当前是否为全屏状态\n */\nexport const init = (screenChange) => {\n  // 取值17是为了处理页面内容出现滚动条的情况\n  let isFull =\n    window.screen.height - window.document.documentElement.clientHeight <= 17\n\n  // 阻止F11键默认事件，用HTML5全屏API代替\n  window.addEventListener('keydown', function (e) {\n    e = e || window.event\n    if (e.keyCode === 122 && !isFull) {\n      e.preventDefault()\n      enterFullScreen()\n    }\n  })\n  //监听窗口变化\n  window.onresize = function () {\n    isFull =\n      window.screen.height - window.document.documentElement.clientHeight <= 17\n    screenChange(isFull)\n  }\n}\n\n//进入全屏\nexport const enterFullScreen = () => {\n  let el = document.documentElement\n  let rfs =\n    el.requestFullScreen ||\n    el.webkitRequestFullScreen ||\n    el.mozRequestFullScreen ||\n    el.msRequestFullscreen\n  if (rfs) {\n    // typeof rfs != \"undefined\" && rfs\n    rfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n\n// 退出全屏\nexport const exitFullScreen = () => {\n  let el = document\n  let cfs =\n    el.cancelFullScreen ||\n    el.mozCancelFullScreen ||\n    el.msExitFullscreen ||\n    el.webkitExitFullscreen ||\n    el.exitFullscreen\n  if (cfs) {\n    // typeof cfs != \"undefined\" && cfs\n    cfs.call(el)\n  } else if (typeof window.ActiveXObject !== 'undefined') {\n    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏\n    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line\n    if (wscript != null) {\n      wscript.SendKeys('{F11}')\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2021/7/20 9:18\n * @File: EventBus.js\n * @Description 1\n */\n\nclass EventsBus {\n  constructor() {\n    this.events = new Map()\n  }\n\n  _add(key, fn, isOnce) {\n    const m = this.events.get(key)\n\n    const fnMap = m ? m : this.events.set(key, new Map()).get(key)\n\n    fnMap.set(key, (...arg) => {\n      fn(...arg)\n      isOnce && this.off(key, fn)\n    })\n  }\n\n  /**\n   * 注册一个事件\n   * @param key 事件对应的key，应该唯一\n   * @param fn 事件触发时的回调\n   * @param args 需要传给回调的参数\n   */\n  on(key, fn) {\n    if (!fn) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    this._add(key, fn, false)\n  }\n\n  off(key, fn) {\n    const fnMap = this.events.get(key)\n    if (fnMap) {\n      fnMap.delete(fn)\n    }\n  }\n\n  /**\n   * 触发对应的事件回调\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const fnMap = this.events.get(key)\n    if (!fnMap) {\n      console.error('No callback for key: ', key)\n      return\n    }\n    for (let [, cb] of fnMap.entries()) {\n      cb(...args)\n    }\n  }\n\n  once(key, fn) {\n    this._add(key, fn, true)\n  }\n}\n\nexport default new EventsBus()\n","function lock() {\n  this.locked = null\n}\n\nlock.prototype.lock = async function () {\n  if (this.locked === null) this.locked = []\n  else await new Promise((resolve) => this.locked.push(resolve))\n}\n\nlock.prototype.unlock = function () {\n  if (this.locked.length) this.locked.shift()()\n  else this.locked = null\n}\n\nexport default lock\n","/**\n * @module shared-utils-captureUtil\n * @param videoDom\n * @returns {string}\n */\n\nexport default {\n  /**\n   * @description video 截图\n   * @function\n   * @param videoDom\n   * @returns {string}\n   */\n  captureVideo: (videoDom) => {\n    var canvas = document.createElement('canvas')\n    canvas.width = videoDom.videoWidth\n    canvas.height = videoDom.videoHeight\n    canvas\n      .getContext('2d')\n      .drawImage(videoDom, 0, 0, canvas.width, canvas.height)\n    return canvas.toDataURL()\n  }\n}\n","let os = (function () {\n  var ua = navigator.userAgent,\n    isWindowsPhone = /(?:Windows Phone)/.test(ua),\n    isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,\n    isAndroid = /(?:Android)/.test(ua),\n    isFireFox = /(?:Firefox)/.test(ua),\n    isChrome = /(?:Chrome|CriOS)/.test(ua),\n    isTablet =\n      /(?:iPad|PlayBook)/.test(ua) ||\n      (isAndroid && !/(?:Mobile)/.test(ua)) ||\n      (isFireFox && /(?:Tablet)/.test(ua)),\n    isPhone = /(?:iPhone)/.test(ua) && !isTablet,\n    isPc = !isPhone && !isAndroid && !isSymbian\n  return {\n    isTablet: isTablet,\n    isPhone: isPhone,\n    isAndroid: isAndroid,\n    isPc: isPc\n  }\n})()\n\nexport default os\n","let treeUtil = {\n  treeDfs(tree, func) {\n    tree.forEach((node) => {\n      func(node)\n      node.children && treeUtil.treeDfs(node.children, func)\n    })\n  },\n  /**\n   * @description 树转列表\n   */\n  treeToList: (arr) => {\n    let res = [] // 用于存储递归结果（扁平数据）\n    // 递归函数\n    let fn = (source) => {\n      source.forEach((el) => {\n        res.push(el)\n        el.children && el.children.length > 0 ? fn(el.children) : '' // 子级递归\n      })\n    }\n    fn(arr)\n    return res\n  },\n\n  /**\n   * @description 列表转树\n   */\n  list2Tree: (arr) => {\n    // 双循环\n    arr.forEach((e) => {\n      // 父循环\n      arr.forEach((y) => {\n        // 子循环\n        if (y.pid === e.id) {\n          // 子取parentId和父id做对比\n          if (!e.children) {\n            e.children = []\n          }\n          e.children.push(y) // 把子添加父\n        }\n      })\n    })\n    arr = arr.filter((ele) => ele.pid === null) // 过滤\n    return arr\n  }\n}\n\nexport default treeUtil\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar transitionalDefaults = require('../defaults/transitional');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar enhanceError = require('../core/enhanceError');\nvar transitionalDefaults = require('./transitional');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.26.1\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\n/*\nRequest Config:\n{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/shared.md).\n  adapter: function (config) {\n},\n\n// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n// This will set an `Authorization` header, overwriting any existing\n// `Authorization` custom headers you have set using `headers`.\n// Please note that only HTTP Basic auth is configurable through this parameter.\n// For Bearer tokens and such, use `Authorization` custom headers instead.\nauth: {\n  username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` indicates the type of data that the server will respond with\n// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n//   browser only: 'blob'\nresponseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` allows handling of progress events for downloads\n// browser only\nonDownloadProgress: function (progressEvent) {\n  // Do whatever you want with the native progress event\n},\n\n// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\nmaxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n  return status >= 200 && status < 300; // default\n},\n\n// `maxRedirects` defines the maximum number of redirects to follow in node.js.\n// If set to 0, no redirects will be followed.\nmaxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n  protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n      password: 'rapunz3l'\n  }\n},\n\n// `cancelToken` specifies a cancel token that can be used to cancel the request\n// (see Cancellation section below for details)\ncancelToken: new CancelToken(function (cancel) {\n}),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n  // silent JSON parsing mode\n  // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n  // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n  silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n}\n}\n **/\n\nconst axiosInstance = axios.create({\n  baseURL: '',\n  timeout: 10000 // 设置 10 秒的超时时间\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\n/*\nInstance methods:\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\naxios#getUri([config])\n */\n\n// Add a request interceptor\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    return config\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error)\n  }\n)\n\n// Add a response interceptor\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error)\n  }\n)\n\n/*\nCancellation\n\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n */\nexport const CancelToken = axios.CancelToken\n\nexport function createCancelToken() {\n  return CancelToken.source()\n}\n\nexport function httpFactory() {\n  return function httpClient() {\n    const source = createCancelToken()\n    return {\n      http: async (args) => {\n        return axiosInstance.request({\n          ...args,\n          cancelToken: source.token\n        })\n      },\n      cancel: (reason) => {\n        source.cancel(reason)\n      }\n    }\n  }\n}\n\nexport default httpFactory()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/10 17:57\n * @File: fetchConfig.js\n * @Description 1\n */\nimport HttpFactory from './request'\n\n/**\n * 获取本地配置文件\n */\nasync function fetchConfig() {\n  const { http } = HttpFactory()\n  let res = await http({\n    url: './config.json'\n  })\n  let projectAddress = window.location.host\n  console.log('%c config.json配置:', 'color: red;font-size:13px', res)\n  console.log('%c 本机IP:', 'color: blue;font-size:13px', projectAddress)\n  return (\n    {\n      environments: res.environments,\n      ...res[res.environments || 'PRD']\n    } || {}\n  )\n}\n\nexport default fetchConfig\n\n\n","import debounce from './debounce'\nimport throttle from './throttle'\nimport { enterFullScreen, exitFullScreen } from './FullScreen'\nimport EventBus from './EventBus'\nimport lock from './lock'\nimport captureUtil from './captureUtil'\nimport osUtilInner from './osUtil'\nimport treeUtil from './treeUtil'\n\nimport fetchConfig from './fetchConfig'\n\n/**\n * 工具包\n * @module shared-utils\n */\n\nexport {\n  lock,\n  debounce,\n  throttle,\n  enterFullScreen,\n  exitFullScreen,\n  captureUtil,\n  EventBus,\n  treeUtil,\n  fetchConfig\n}\n\nexport const NOOP = () => null\n\nexport const FALSE_FUNC = () => false\n\nexport const EMPTY_OBJ = Object.create(null)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isBoolean = (val) => val === true || val === false\n\n/**\n * @function\n * 判断是否为空，为空返回 true 不为空返回false\n * @param {object} value 值\n * @returns boolean\n */\nexport function isEmpty(value) {\n  return (\n    value === undefined ||\n    value === null ||\n    value === '' ||\n    value === 'undefined'\n  )\n}\n\n/**\n * @function\n * 判断是否为空 为空返回 false 不为空返回true\n * @param {object} value 值\n * @returns 返回当前值是否为不空\n */\nexport function isNotEmpty(value) {\n  return value === undefined ||\n  value === null ||\n  value === '' ||\n  value === 'undefined'\n    ? false\n    : true\n}\n\n/**\n * 判断是否为数组\n * @param {Array} arr 数组\n */\nexport function isArray(arr) {\n  if (typeof Array.isArray === 'export function') {\n    return Array.isArray(arr)\n  } else {\n    return Object.prototype.toString.call(arr) === '[object Array]'\n  }\n}\n\n/**\n * 判断是否为字符串\n * @param {String} str 字符串\n */\nexport function isString(str) {\n  return typeof str === 'string' && str.constructor === String\n}\n\n/**\n * 判断是否为数字\n * @param {Number} obj 数字\n */\nexport function isNumber(num) {\n  return typeof obj === 'number' && obj.constructor === Number\n}\n\n/**\n * 判断是否为日期\n * @param {Object} obj 日期\n */\nexport function isDate(obj) {\n  return typeof obj === 'object' && obj.constructor === Date\n}\n\n/**\n * 判断是否为函数\n * @param {Function} obj 方法\n */\nexport function isFunction(obj) {\n  return typeof obj === 'export function' || typeof obj === 'function'\n}\n\n/**\n * 判断是否对象\n * @param {Object} obj 对象\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj == 'object'\n}\n\n/**\n * 克隆对象\n * @param {Object} obj 要复制的对象\n * @param {Array} removeKeys 移除属性\n * @returns 新对象\n */\nexport function clone(obj, removeKeys) {\n  if (null === obj || 'object' != typeof obj) return obj\n\n  if (removeKeys == null) removeKeys = ['_parent', '_class'] //排除一些不拷贝的属性\n\n  // Handle Date\n  if (isDate(obj)) {\n    var copy = new Date()\n    copy.setTime(obj.getTime())\n    return copy\n  }\n\n  // Handle Array\n  if (isArray(obj)) {\n    var copy = []\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      copy[i] = clone(obj[i], removeKeys)\n    }\n    return copy\n  }\n\n  // Handle Object\n  if (typeof obj === 'object') {\n    var copy = {}\n    for (var attr in obj) {\n      if (typeof attr === 'export function') continue\n      if (removeKeys.indexOf(attr) != -1) continue\n\n      if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr], removeKeys)\n    }\n    return copy\n  }\n  return obj\n}\n\n/**\n * 获取文件绝对路径\n * @param {string} keyVal 文件名称\n * @returns 文件路径\n */\nexport function getPath(keyVal) {\n  var js = document.scripts || document.getElementsByTagName('script')\n  var jsPath\n  for (var i = js.length; i > 0; i--) {\n    if (js[i - 1].src.indexOf(keyVal) > -1) {\n      jsPath = js[i - 1].src.substring(0, js[i - 1].src.lastIndexOf('/') + 1)\n    }\n  }\n  return jsPath\n}\n\nexport function toLowerCase(key) {\n  if (!key) {\n    return key\n  }\n  return isString(key) && key.toLowerCase()\n}\n\nexport function objectKeyToLowerCase(object) {\n  return Object.keys(object).reduce((obj, key) => {\n    obj[toLowerCase(key)] = object[key]\n    return obj\n  }, {})\n}\n\n// 驼峰名称 -》 下划线分隔\nexport function objectKeyToUnderline(object) {\n  function upperToUnderlineLower(match) {\n    return '_' + match.toLowerCase()\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/[A-Z]/, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\nexport function objectKeyUnderlineToUppercase(object) {\n  function upperToUnderlineLower(match) {\n    match = match.slice(1)\n    match = match[0].toUpperCase() + match.slice(1)\n    return match\n  }\n\n  return Object.keys(object).reduce((obj, key) => {\n    obj[key.replace(/_\\w/g, upperToUnderlineLower)] = object[key]\n    return obj\n  }, {})\n}\n\n/**\n * 分组函数\n * @param list\n * @param fn\n * @returns {{}}\n */\nexport const groupBy = (list, fn) => {\n  const groups = {}\n  list.forEach(function (o) {\n    let key = fn(o)\n    if (typeof key !== 'string') {\n      key = JSON.stringify(key)\n    }\n    groups[key] = groups[key] || []\n    groups[key].push(o)\n  })\n  // return Object.keys(groups).map(function (group) {\n  //     return groups[group];\n  // });\n  return groups\n}\n\n/**\n * 数组乱序（原地）\n * 时间复杂度 O（n log n）\n * @param arr\n */\nexport const shuffledArray = (arr) => arr.sort(() => Math.random() - 0.5)\n\n// 生成六位的十六进制字符串\nexport function createHex(digit = 6) {\n  return Math.floor(Math.random() * 0xffffff).toString(16)\n}\n\n/**\n * @description 生成16位的十六进制值\n * @function\n * @returns {string}\n */\nexport function createUUID() {\n  return `${createHex()}${createHex()}${createHex().slice(2)}`\n}\n\nexport function createUUID32() {\n  return `${createHex()}${createHex()}${createHex()}${createHex()}${createHex().slice(\n    2\n  )}`\n}\n\nexport function beautifyJSON(json, options) {\n  let reg = null,\n    formatted = '',\n    pad = 0,\n    PADDING = '    '\n  options = options || {}\n  options.newlineAfterColonIfBeforeBraceOrBracket =\n    options.newlineAfterColonIfBeforeBraceOrBracket === true\n  options.spaceAfterColon = options.spaceAfterColon === false\n  if (typeof json !== 'string') {\n    json = JSON.stringify(json)\n  } else {\n    json = JSON.parse(json)\n    json = JSON.stringify(json)\n  }\n  reg = /([{}])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /([\\[\\]])/g\n  json = json.replace(reg, '\\r\\n$1\\r\\n')\n  reg = /(\\,)/g\n  json = json.replace(reg, '$1\\r\\n')\n  reg = /(\\r\\n\\r\\n)/g\n  json = json.replace(reg, '\\r\\n')\n  reg = /\\r\\n\\,/g\n  json = json.replace(reg, ',')\n  if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n    reg = /\\:\\r\\n\\{/g\n    json = json.replace(reg, ':{')\n    reg = /\\:\\r\\n\\[/g\n    json = json.replace(reg, ':[')\n  }\n  if (options.spaceAfterColon) {\n    reg = /\\:/g\n    json = json.replace(reg, ':')\n  }\n  json.split('\\r\\n').forEach(function (node, index) {\n    let i = 0,\n      indent = 0,\n      padding = ''\n    if (node.match(/\\{$/) || node.match(/\\[$/)) {\n      indent = 1\n    } else if (node.match(/\\}/) || node.match(/\\]/)) {\n      if (pad !== 0) {\n        pad -= 1\n      }\n    } else {\n      indent = 0\n    }\n    for (i = 0; i < pad; i++) {\n      padding += PADDING\n    }\n    if (node !== '') {\n      formatted += padding + node + '\\r\\n'\n    }\n    pad += indent\n  })\n  return formatted.replace(/\\r\\n$/, '')\n}\n\nlet BASE_WIDTH = 1920\nlet BASE_HEIGHT = 1080\n\nexport function setBaseLayout(width, height) {\n  BASE_WIDTH = width\n  BASE_HEIGHT = height\n}\n\nexport function formatPxToVw(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_WIDTH) * 100}vw`\n}\n\nexport function formatPxToVh(px = 0) {\n  if (typeof px !== 'number') {\n    return px\n  }\n  return `${(px / BASE_HEIGHT) * 100}vh`\n}\n\nexport function pxFromVw(currentPx, baseWidth = BASE_WIDTH) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentWidth = window.innerWidth\n  return Math.ceil((currentWidth / baseWidth) * currentPx)\n}\n\nexport function pxFromVh(currentPx, baseHeight = BASE_HEIGHT) {\n  if (typeof currentPx !== 'number') {\n    return currentPx\n  }\n  const currentHeight = window.innerHeight\n  return Math.ceil((currentHeight / baseHeight) * currentPx)\n}\n\nexport let osUtil = osUtilInner\n\n\n/**\n * 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n * @type 1\n */\nexport const STYLES = {\n  sim_arraw: 'sim_arraw',\n  sim_dot: 'sim_dot',\n  sim_dashed: 'sim_dashed',\n  sim_flash: 'sim_flash',\n  sim_scan: 'sim_scan',\n  red: 'red'\n}\n\n/**\n * 判断所给的对象是否在可视范围内。可视范围指的是，在当前地图 4 个角的范围。\n * @param mapViewer\n * @param object\n */\nexport function isInViewBox(mapViewer, object) {\n\n}\n","// import { utils } from '@ty/shared'\nimport * as utils from './utils'\nconst { isString, isPlainObject } = utils\n\n//无效参数\nexport const InvalidParameter = {\n  code: 400,\n  msg: 'invalid parameter'\n}\n//view3d为初始化\nexport const View3dUnInitialized = {\n  code: 401,\n  msg: 'view3d uninitialized '\n}\n\nexport function logError(errorMsg = 'error') {\n  if (isString(errorMsg)) {\n    console.error(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.log(errorMsg.msg)\n  }\n}\n\nexport function warn(errorMsg) {\n  if (isString(errorMsg)) {\n    console.warn(errorMsg)\n  }\n\n  if (isPlainObject(errorMsg)) {\n    console.warn(errorMsg.msg)\n  }\n}\n\nexport function functionExist(obj, funcName) {\n  if (!obj) {\n    return\n  }\n\n  if (!funcName in obj) {\n    logError(`${funcName} dose not exist.`)\n    return false\n  }\n\n  return true\n}\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/14 10:39\n * @File: scheduler.js\n * @Description 异步操作调度器, 管理API里所有异步接口的调用。\n */\n// import { utils } from '@ty/shared'\nimport * as utils from './utils'\n\nconst { NOOP, isArray, isFunction, isPlainObject, isPromise } = utils\n\nlet taskQueue = []\nlet workloopRuning = false\n\n/**\n * 等待指定时间之后，执行后面的代码, 或者执行指定的回调\n * @param time 默认100毫秒\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function sleep(time = 100, thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(thisArg)) {\n      fn = thisArg\n      thisArg = null\n    }\n\n    if (fn) {\n      fn.apply(thisArg, [...args])\n    }\n\n    setTimeout(() => {\n      let callback = NOOP\n      if (args.length === 1 && isFunction(args[0])) {\n        callback = args[0]\n      } else if (args.length > 1 && isFunction(args[args.length - 1])) {\n        callback = args[args.length - 1]\n      }\n      callback()\n      resolve()\n    }, time)\n  })\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg {Object} 要调用的异步函数的命名空间\n * @param fn {Function} 实际要调用的异步函数\n * @param args 传给异步函数的参数列表\n *\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise((resolve) => {\n    if (isFunction(fn)) {\n      let callback = (...arg) => {\n        resolve(...arg)\n      }\n      // 第一个参数就是回调函数的情况\n      if (isArray(args) && args.length === 1 && isFunction(args[0])) {\n        let innerCallback = args[0]\n        callback = (...arg) => {\n          innerCallback.apply(thisArg, [...arg])\n          resolve(...arg)\n        }\n        args = []\n        // 有参数的情况，且最后一个函数是回调\n      } else if (\n        isArray(args) &&\n        args.length > 1 &&\n        isFunction(args[args.length - 1])\n      ) {\n        let preCallback = args.pop()\n        callback = (...arg) => {\n          preCallback.apply(null, [...arg])\n          resolve(...arg)\n        }\n      }\n      fn.apply(thisArg, [...args, callback])\n    }\n  })\n}\n\n/**\n * @param thisArg\n * @param fn\n * @param args\n *\n */\nexport function curry(thisArg, fn, ...args) {\n  return async () => until(thisArg, fn, ...args)\n}\n\n/**\n *\n * @param time {Number}\n * @param thisArg {Object | null}\n * @param fn {Function}\n * @param args\n *\n */\nexport function wait(time, thisArg, fn, ...args) {\n  return async () => sleep(time, thisArg, fn, ...args)\n}\n\n/**\n * 实际的调度函数\n * @param asyncWork {Object}\n *\n */\nexport function doSchedule(asyncWork) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      performAsyncWork({\n        task: asyncWork.task,\n        complete: (...args) => {\n          resolve(...args)\n        }\n      })\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n\n/**\n * @param cb\n */\nexport function preSchedule(cb) {\n  return async (thisArg, fn, ...args) =>\n    doSchedule({\n      task: () => {\n        if (isFunction(cb)) {\n          cb && cb()\n        }\n        return curry(thisArg, fn, ...args)\n      }\n    })\n}\n\nexport function schedule(thisArg, fn, ...args) {\n  return doSchedule({\n    task: curry(thisArg, fn, ...args)\n  })\n}\n\nexport function waitSchedule(time = 10, thisArg, fn, ...args) {\n  return doSchedule({\n    task: wait(time, thisArg, fn, ...args)\n  })\n}\n\n/**\n * 执行一次异步的任务\n * @param workUnit {Object}\n */\nexport function performAsyncWork(workUnit) {\n  if (isPlainObject(workUnit)) {\n    push(taskQueue, workUnit)\n  }\n  !workloopRuning && workloop()\n}\n\nexport function peek(heap) {\n  return heap.length === 0 ? null : heap[0]\n}\n\nexport function push(heap, task) {\n  heap.push(task)\n}\n\nexport function pop(heap) {\n  if (heap.length === 0) {\n    return null\n  }\n\n  return heap.splice(0, 1)\n}\n\nasync function workloop() {\n  workloopRuning = true\n  let currentTask = peek(taskQueue)\n  while (currentTask !== null) {\n    const asyncCallback = currentTask.task()\n    let res\n    if (isFunction(asyncCallback)) {\n      res = await asyncCallback()\n    } else if (isPromise(asyncCallback)) {\n      res = await asyncCallback\n    }\n    const callback = currentTask.complete\n    if (isFunction(callback)) {\n      callback(res)\n    }\n    pop(taskQueue)\n    currentTask = peek(taskQueue)\n  }\n\n  workloopRuning = false\n}\n\nwindow.$taskQueue = taskQueue\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError } from '../error'\nimport { doSchedule, curry, schedule, waitSchedule } from '../scheduler'\n\nconst { isFunction, EMPTY_OBJ, debounce } = utils\n\nclass MapCore {\n  constructor() {\n    this._view3d = null\n    this.config = EMPTY_OBJ\n  }\n\n  /**\n   * 提供 view3d 的 getter\n   * @returns {null}\n   */\n  get view3d() {\n    return this._view3d\n  }\n\n  /**\n   * view3d setter 外部基本不应该使用，一般只在内部调用\n   * @param view3d\n   */\n  set view3d(view3d) {\n    this._view3d = view3d\n  }\n\n  async createMap(config) {\n    this.config = config\n    let view3d = {}\n    const self = this\n\n    // 加载CSS文件\n    // handleInsertCssFiles()\n\n    if (!window.MapVision || !window.MapVision.View3d) {\n      // todo: log file not include error.\n      if (config.error && isFunction(config.error)) {\n        config.error({\n          code: 1,\n          msg: `mapvision3d.min.js file was not include.`\n        })\n      }\n      return\n    }\n\n    return doSchedule({\n      task: () => {\n        let conf = {\n          id: config.id,\n          url: config.url,\n          projectId: config.projectId,\n          mapkey: config.mapkey,\n          token: config.token\n        }\n        view3d = new MapVision.View3d(conf)\n        return curry(view3d, view3d.Open, (res) => {\n          //连接成功\n          if (res.code === 200) {\n            self._view3d = view3d\n          } else {\n            logError({\n              msg: 'connection fail! check if MapVisionPServer is running!'\n            })\n            config.error(res)\n            return\n          }\n\n          // 给 window 窗口绑定 resize 事件, resize 后调整地图的分辨率,避免模型被拉伸\n          handleAddWindowResizeResolution(self)\n\n          // 清空地图\n          this._view3d.OverLayerRemoveAll()\n\n          // 隐藏地图指北\n          this.setNorthControl(config.northControl)\n\n\n          if (config.defaultSetResolution) {\n            // 设置分辨率\n            this.setResolution(config.id)\n          }\n\n          // 重新设置参数\n          this.setParameters()\n\n          // 设置鼠标操作\n          this.setMouseEnable(config.enableMouse)\n\n          // 设置键盘操作\n          this.setKeyBoardEnable(config.enableKeyboard)\n\n          //停止动画\n          this._view3d.Stop()\n          this._view3d.Clear()\n\n          // 内置的鼠标是否可见\n          this.setMouseCursorVisible(config.internalMouseVisible)\n\n          // 插入遮罩元素\n          this._insertMask()\n\n          if (config.defaultLocate) {\n            // 默认定位\n            view3d.ResetHome()\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * 销毁地图实例 并执行相关卸载的逻辑\n   */\n  destroy() {\n    removeWindowResizeResolution()\n    this.view3d = null\n  }\n\n  /**\n   *\n   * @private\n   */\n  _insertMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n      if ($mapContainerParent) {\n        const $mask = document.createElement('div')\n        $mask.id = mapContainerId + '_mask'\n        $mask.style.position = 'absolute'\n        $mask.style.left = '0'\n        $mask.style.top = '0'\n        $mask.style.width = '100%'\n        $mask.style.height = '100%'\n        $mask.style.zIndex = '1'\n        $mask.style.display = 'none'\n        $mask.style.backgroundColor = 'transparent'\n        $mask.style.opacity = '0'\n        $mapContainerParent.appendChild($mask)\n      }\n    }\n  }\n\n  _removeMask() {\n    const mapContainerId = this.config.id\n    const $mapContainer = document.getElementById(mapContainerId)\n    if ($mapContainer) {\n      const $mapContainerParent = $mapContainer.parentNode\n\n      if ($mapContainerParent) {\n        $mapContainerParent.removeChild($mapContainer)\n      }\n    }\n  }\n\n  /**\n   * @desc\n   * @private 显示地图遮罩 div\n   */\n  _showMask() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'block')\n  }\n\n  /**\n   * @desc 隐藏地图遮罩 div\n   * @private\n   */\n  _hideMask() {\n    const mapContainerId = this.config.id\n    const $mask = document.getElementById(mapContainerId + '_mask')\n    $mask && ($mask.style.display = 'none')\n  }\n\n  /**\n   * 设置地图分辨率\n   * @param domId {String} 地图容器id\n   */\n  setResolution(domId = 'mapVision3d') {\n    const config = this.config\n    const view3d = this._view3d\n    let $mapContainer = document.getElementById(domId)\n    if ($mapContainer && functionExist(view3d, 'SetResolution')) {\n      let dpi = window.devicePixelRatio * (utils.osUtil.isPc ? 1 : 3)\n      view3d.SetResolution(\n        $mapContainer.clientWidth * dpi * config.resolutionScale,\n        $mapContainer.clientHeight * dpi * config.resolutionScale\n      )\n    }\n  }\n\n  /**\n   *\n   * @param mapName {String} 地图名称，必须在生产地图的时候给出，目前程序控制不了\n   */\n  openMap(mapName = 'default') {\n    if (functionExist(this._view3d, 'OpenMap')) {\n      this._view3d.OpenMap(mapName)\n    }\n  }\n\n  /**\n   * 设置鼠标的启用/禁用状态\n   * @param mouseEnable {Boolean} 鼠标是否启用\n   */\n  setMouseEnable(mouseEnable = true) {\n    this._view3d.enableMouse = mouseEnable\n  }\n\n  /**\n   * 设置键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  setKeyBoardEnable(keyboardEnable = true) {\n    this._view3d.enableKeyboard = keyboardEnable\n  }\n\n  /**\n   * 隐藏植被\n   */\n  setTreeVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'InstancedFoliageActor',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏光\n   */\n  setDirectionalLightVisible(visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'DirectionalLight',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空\n   */\n  setDynamicSkyVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'Ultra_Dynamic_Sky',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 隐藏天空球\n   */\n  setSkySphereVisible(visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.UpdateObjectVisible,\n        'BP_Sky_Sphere',\n        visible\n      )\n    }\n  }\n\n  /**\n   * 获取键盘启用/禁用状态\n   * @param keyboardEnable {Boolean} 键盘是否启用\n   */\n  getKeyBoardEnable() {\n    return this._view3d.enableKeyboard\n  }\n\n  /**\n   * 设置地图内置的鼠标是否可见\n   * @param cursorVisible\n   */\n  setMouseCursorVisible(cursorVisible = false) {\n    if (functionExist(this._view3d, 'SetParameters')) {\n      this.setParameters({\n        showmouse: cursorVisible\n      })\n    }\n  }\n\n  /**\n   * 获取场景中的太阳时间\n   * @return {Promise}\n   */\n  async getSceneSunInfo() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetScenceSunInfo')) {\n      return schedule(view3d, view3d.GetScenceSunInfo)\n    }\n  }\n\n  /**\n   * 设置场景中的太阳时间\n   * @param info\n   * @returns {Promise<*>}\n   */\n  setSceneSunInfo(info) {\n    // info 的格式如下：\n    /*\n     {\n     year: 2020,\n     month: 7,\n     day: 7,\n     hour: 18,\n     minute: 10\n     }\n\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetScenceSunInfo')) {\n      return waitSchedule(10, view3d, view3d.SetScenceSunInfo, info)\n    }\n  }\n\n  /**\n   * 设置指北针控件的可见性和位置\n   * @param visible {Boolean}\n   * @param x {Number}\n   * @param y {Number}\n   * @param scale {Number}\n   */\n  setNorthControl(visible = false, x = 0, y = 0, scale = 1.0) {\n    this._view3d.SetNorthControl(visible, x, y, scale)\n  }\n\n  /**\n   * 关闭地图\n   */\n  close() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Close')) {\n      view3d.Close()\n      this.destroy()\n    }\n  }\n\n  /**\n   * 给地图设置参数\n   * @param parameter\n   * 所有参数：\n   * {\n   *  prefix: 'MP,TEMP,JZ,V',// MP,TEMP,JZ,V\n   * \tspeedroute: 10, // 路径巡游的速率,每渲染帧的步长，单位，厘米/帧\n   * \tkeyboardrate: 1.0, // 键盘移动速率 范围：0.001——1.0\n   * \tshowmouse: true, // 是否显示地图内部的鼠标\n   * \tmouse_selected: true, // 鼠标点选效果高亮，是否起作用\n   * \tmax_distance: 1000000, // 1万米，最远缩放距离\n   * \tunit: 'cm' // 场景返回数据单位， 默认厘米   输入m返回为米   其他值为厘米\n   * }\n   */\n  setParameters(parameter = null) {\n    const view3d = this._view3d\n    view3d.SetParameters(parameter)\n  }\n\n  /**\n   * 地图状态重置\n   */\n  clear() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Clear')) {\n      view3d.Clear()\n    }\n  }\n\n  /**\n   * 停止动画等\n   */\n  stop() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'Stop')) {\n      view3d.Stop()\n    }\n  }\n\n  /**\n   * 返回 MapVisionPServer服务 是否关闭\n   *\n   */\n  isClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsClose')) {\n      return view3d.IsClose()\n    }\n  }\n\n  /**\n   * 设置地图状态\n   */\n  setMapStatus(code = null) {\n    /*\n     MapVision.MapStatusType =>\n     Pan: 0 // 漫游状态\n     Select: 1 // 选择对象状态\n     SelectObjectCallback: 3  // 选择对象状态 返回对象\n     SelectPositionCallback: 2  // 选择对象状态 返回对象\n     */\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetMapStatus')) {\n      view3d.SetMapStatus(code)\n    }\n  }\n}\n\nlet debouncedResizeHandler\n\nfunction handleAddWindowResizeResolution(mapCoreIns) {\n  //  绑定窗口大小事件\n  debouncedResizeHandler = debounce(() => {\n    mapCoreIns.setResolution(mapCoreIns.config.id)\n  }, 500)\n  window.addEventListener('resize', debouncedResizeHandler)\n}\n\nfunction removeWindowResizeResolution() {\n  if (debouncedResizeHandler) {\n    window.removeEventListener('resize', debouncedResizeHandler)\n  }\n}\n\nexport default MapCore\n","/**\n * 初始视角\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n\nconst { isPlainObject, isFunction, NOOP } = utils\n\nclass MapCamera {\n  constructor(view3d, viewer) {\n    this.view3d = view3d\n    this.viewer = viewer\n\n    // 视角移动时，默认的速度设置。 有关视角移动的方法中，如果没有指定duration参数，会统一使用默认的速度设置\n    // 默认 3 秒即可\n    this.duration = 3\n\n    // 每次定位过程中，都设置一个定时器，以免回调不过不执行，在定时器里执行回调\n    this.timer = null\n  }\n\n  init() {\n    this.resetHome()\n  }\n\n  /**\n   * 重置初始视角\n   */\n  resetHome() {\n    let view3d = this.view3d\n    if (functionExist(view3d, 'ResetHome')) {\n      view3d.ResetHome()\n    }\n  }\n\n  /**\n   * 设置相机视口位置\n   * @param position {Object}\n   */\n  setPosition(position) {\n    const view3d = this.view3d\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'SetPosition')) {\n        view3d.SetPosition(position)\n      }\n    }\n  }\n\n  /**\n   * 动态定位到指定点\n   * @param position {Object}\n   * @param durationTime {Number} 移动的时间\n   * @param showLocation {Boolean} 是否显示默认的位置图标\n   * @param enableCurve {Boolean} 是否启用抛物线移动效果， 默认 false. 目前视角的跳转可以正确适应 pitch, yaw, roll 的变化，且是平滑的抛物轨迹，这个参数直接传 false 即可\n   * @param callback {Function} 定位到终点的回调，这个回调会稍微提前一点触发。\n   */\n  flyToPosition(\n    position,\n    showLocation = false,\n    durationTime = this.duration,\n    enableCurve = false,\n    callback = NOOP\n  ) {\n    const view3d = this.view3d\n    // 定位之前，显示遮罩\n    this.viewer?.core?._showMask()\n    // 先删除点选回调\n    this.viewer?.event?.silent()\n    const self = this\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n    }\n\n    // 定位结束后，隐藏遮罩，重新绑定事件\n    const onFinish = (arg) => {\n      self.viewer?.core?._hideMask()\n      self.viewer?.event?.reBindMouseClickCallback()\n\n      if (isFunction(callback)) {\n        // 延迟一点点执行，因为定位的回调执行的时机会早于视角移动到最后\n        setTimeout(() => {\n          callback(arg)\n        }, 100)\n      }\n    }\n\n    if (!position) {\n      onFinish()\n      return\n    }\n\n    // 如果是单个坐标点，直接做定位\n    if (isPlainObject(position)) {\n      if (functionExist(view3d, 'FlyToPosition')) {\n        view3d.FlyToPosition(position, showLocation, durationTime, enableCurve, res => {\n          if (self.timer) {\n            clearTimeout(self.timer)\n            self.timer = null\n          }\n          onFinish(res)\n        })\n\n        this.timer = setTimeout(() => {\n          onFinish(null)\n          // timer 的执行比回调稍微晚一点\n        }, this.duration + 0.5)\n      }\n\n      // 如果传入一个点位数组，说明是一条自定义的轨迹线\n    } else if (Array.isArray(position)) {\n      let index = 0\n      let tempTimer = null\n      const execFly = () => {\n        const currentPosition = position[index]\n        // 允许每个点位控制自己定位的时间\n        let duration = currentPosition.duration || durationTime\n\n        const currentFlyEnd = (res) => {\n          if (tempTimer) {\n            clearTimeout(tempTimer)\n          }\n\n          index++\n          // 到最后一个点了，执行结束的回调\n          if (index === position.length) {\n            tempTimer = null\n            onFinish(res)\n          } else {\n            execFly()\n          }\n        }\n        view3d.FlyToPosition(currentPosition, showLocation, duration, enableCurve, currentFlyEnd)\n\n        // 使用定时器来保证中间点也能有回调\n        tempTimer = setTimeout(currentFlyEnd, (duration + 0.2) * 1000)\n      }\n\n      execFly()\n    }\n  }\n\n  /**\n   * 动态定位到指定点 - 传一个参数的形式\n   * @param options {Object}\n   * @param options.position {Object | Array} 目标位置，对象，或者数组，数组标识由多个点组成的轨迹\n   * @param options.duration {Number} 定位持续时间，0 - 10，单位： 秒\n   * @param options.enableCurve {Boolean} 是否启用抛物线效果\n   * @param options.showLocation {Boolean} 是否使用默认图标，显示终点位置\n   * @param options.onFinish {Function} 定位结束后的回调\n   */\n  flyToPositionByOptions(options = {}) {\n    const defaultOptions = {\n      // 目标位置\n      position: null,\n\n      // 定位持续时间\n      duration: 3,\n\n      // 是否启用抛物线效果\n      enableCurve: false,\n\n      // 是否在终点显示图标 - 一般不需要设置，不显示即可，如需要显示定位的位置，可以手动添加图标\n      showLocation: false,\n\n      // 定位结束后的回调\n      onFinish: NOOP\n    }\n\n    const flyOption = Object.assign({}, defaultOptions, options)\n    this.flyToPosition(\n      flyOption.position,\n      flyOption.showLocation,\n      flyOption.duration,\n      flyOption.enableCurve,\n      flyOption.onFinish\n    )\n  }\n\n  /**\n   * 视角跳转到指定对象\n   * @param obj\n   * @param duration {Number} 飞行时间，单位：秒 1—10  最大值10\n   * @param showLocation {Boolean}\n   */\n  flyToObject(obj, duration = this.duration, showLocation = false) {\n    const view3d = this.view3d\n    if (\n      isPlainObject(obj) &&\n      !!obj.gid &&\n      functionExist(view3d, 'FlyToObject')\n    ) {\n      view3d.FlyToObject(obj, showLocation, duration)\n    }\n  }\n\n  /**\n   * 根据对象的GID跳转到指定对象\n   * @param {Object} options\n   */\n  flyToObjectById(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      showLocation: false,\n      pitch: 90,\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: null,\n      duration: this.duration,\n      enableCurve: false,\n      onFinish: () => null\n    }\n    options = { ...defaultOptions, ...options }\n\n    if (!options.gid) {\n      console.warn('object gid is undefined or \\'\\'.')\n      return\n    }\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectById')) {\n      view3d.FlyToObjectById(\n        options.gid,\n        options.showLocation,\n        options.pitch,\n        options.distance,\n        options.duration\n      )\n    }\n  }\n\n  /**\n   * 地图指北\n   */\n  setNorth() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetNorth')) {\n      view3d.SetNorth()\n    }\n  }\n\n  /**\n   * 获取初始位置点\n   * @return {Promise<Object|null>}\n   */\n  getHomePosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetHomePosition')) {\n      return schedule(view3d, view3d.GetHomePosition)\n    }\n  }\n\n  /**\n   * 获取当前视口的位置\n   * @return{Promise<Object|null>}\n   */\n  getCurrentPosition() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetCurrentPosition')) {\n      return schedule(view3d, view3d.GetCurrentPosition)\n    }\n  }\n\n  /**\n   * 获取对象的屏幕坐标\n   *\n   */\n  getScreenPosition(object) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetScreenPosition')) {\n      return schedule(view3d, view3d.GetScrrenPosition, object)\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options 定位参数\n   */\n  flyToObjectByType(options = {}) {\n    const defaultOptions = {\n      // TODO：地图中，所有对象对应的类型待补充。\n      type: 10102, // 定位的类型\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByType')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByType,\n        ...options\n      )\n    }\n  }\n\n  /**\n   * 新增@2022-04-29\n   * @test todo\n   * @param options {Object}\n   */\n  flyToObjectByIds(options) {\n    const defaultOptions = {\n      ids: [], // 多个对象的 GID 集合\n      pitch: 90, // 俯视角\n      yaw: 0,    // 偏航角 0 - 360或 -180 - 180\n      distance: 100, // 相机距离目标的距离，单位 米\n      duration: this.duration,\n      heightRadio: 1.0, // 高度比例， 默认 1.0\n      enableCurve: false,\n      onFinish: NOOP\n    }\n\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'FlyToObjectByIds')) {\n      return waitSchedule(\n        10,\n        view3d,\n        view3d.FlyToObjectByIds,\n        ...options\n      )\n    }\n  }\n\n  async zoomIn() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomIn')) {\n      return waitSchedule(10, view3d, view3d.ZoomIn)\n    }\n  }\n\n  async zoomOut() {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'ZoomOut')) {\n      return waitSchedule(10, view3d, view3d.ZoomOut)\n    }\n  }\n\n  async setPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetPitchAngle')) {\n      return waitSchedule(100, view3d, view3d.SetPitchAngle, val)\n    }\n  }\n\n  async getPitchAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetPitchAngle')) {\n      return schedule(view3d, view3d.GetPitchAngle)\n    }\n  }\n\n  async setRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'SetRotateAngle')) {\n      return waitSchedule(100, view3d, view3d.SetRotateAngle, val)\n    }\n  }\n\n  async getRotateAngle(val) {\n    const view3d = this.view3d\n    if (functionExist(view3d, 'GetRotateAngle')) {\n      return schedule(view3d, view3d.GetRotateAngle)\n    }\n  }\n\n  /**\n   * 围绕对象旋转\n   * @todo: test\n   * @param options {Object}\n   */\n  rotate(options = {}) {\n    const defaultOptions = {\n      gid: '',\n      pitch: 90,\n      radio: 1.0,\n      distance: 10, // 可视距离\n      highlight: true, // 对象是否需要高亮\n    }\n    options = {...defaultOptions, ...options}\n    const view3d = this.view3d\n    if (functionExist(view3d, 'Rotate')) {\n      view3d.Rotate(\n        options.pitch,\n        options.radio,\n        options.distance,\n        options.gid,\n        options.highlight\n      )\n    }\n  }\n}\n\nexport default MapCamera\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:26\n * @File: create.js\n * @Description 与模型创建相关的操作类\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\n\nconst { isArray, isFunction, NOOP } = utils\nimport { warn } from '../error'\n\nclass MapCreate {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n    this.config = drawCtl.config\n    this.mapViewer = drawCtl._mapView\n  }\n\n  _draw(\n    config,\n    options = {\n      isOnce: false,\n      onDraw: NOOP,\n      onFinish: NOOP,\n      drawPoints: true,\n      pointsVisible: true\n    }\n  ) {\n    const mapViewer = this.mapViewer\n    const { onDraw, onFinish, drawPoints, pointsVisible, isOnce } = options\n\n    const self = this\n    let entity = null\n    let pointEntities = []\n\n    // 先移除鼠标点击事件\n    mapViewer.event.silent()\n\n    const drawCtl = this._drawCtl\n\n    const windowRightClickHandleRef = function windowRightClickHandleRef() {\n      drawCtl.overLayerStopEdit()\n\n      // 右键一次后解绑\n      window.removeEventListener('contextmenu', windowRightClickHandleRef)\n\n      if (drawPoints) {\n        // 删除点位对象\n        for (let pointEntity of pointEntities) {\n          drawCtl.overLayerRemoveObject(pointEntity)\n        }\n      }\n\n      // 重新绑定事件\n      mapViewer.event.reBindMouseClickCallback()\n\n      if (isFunction(onFinish)) {\n        onFinish(entity)\n      }\n    }\n\n    window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n    // TOFIX: config中指定的GID无效\n    drawCtl.overLayerStartEdit(config, (res) => {\n      entity = res\n      if (isArray(res.points) && drawPoints) {\n        // 这里只添加新增的点\n        for (let point of res.points.slice(pointEntities.length)) {\n          self\n            .point(\n              {\n                radius: 5,\n                color: config.color,\n                location: point\n              },\n              false\n            )\n            .then((pointEntity) => {\n              pointEntities.push(pointEntity)\n            })\n        }\n      }\n\n      if (isFunction(onDraw)) {\n        onDraw(res)\n      }\n\n      // 对于单个模型的绘制,可以控制是否值绘制一次\n      if (isOnce) {\n        windowRightClickHandleRef()\n      }\n    })\n  }\n\n  /**\n   * 创建文本\n   */\n  text(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    const obj = this.config.text(config)\n    return drawCtl.overLayerCreateObject(obj, reBindEvent)\n  }\n\n  /**\n   * 绘制文本\n   */\n  drawText(options) {\n    const config = this.config.text(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 添加一个模型\n   * @description 模型的配置属性有：\n   *              attr: {}, 附加的属性，不要附加太多属性，以免批量添加时失败\n   *              type: \"model\",\n   *              scale: 1.0 ,\n   *              filename: 'box', 材质名称\n   *              style: \"red\",\n   *              color: \"red\",\n   *              location: {\n   *                x: 0,\n   *                y: 0,\n   *                z: 0,\n   *                pitch: 0, 俯仰角\n   *                yaw: 0, 偏航角\n   *                roll: 0 翻滚角\n   *              }\n   * @param config\n   * @param config.fileName 模型的材质名称\n   * @param config.scale\n   * @param config.style\n   * @param config.location\n   * @param reBindEvent {Boolean} 是否在新建模型后，重新绑定事件\n   *\n   */\n  model(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.model(config), reBindEvent)\n  }\n\n  // 绘制状态下,绘制一个模型\n  drawModel(options) {\n    const modelConfig = this.config.model(options)\n    const modelOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(modelConfig, modelOptions)\n  }\n\n  /**\n   * 创建图片\n   * @param config\n   * @param reBindEvent 是否在新建对象后立即重新绑定事件\n   */\n  image(config, reBindEvent = false) {\n    const drawCtl = this._drawCtl\n    return drawCtl.overLayerCreateObject(this.config.image(config), reBindEvent)\n  }\n\n  /**\n   * 绘制图片\n   */\n  drawImage(options) {\n    const config = this.config.image(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建点\n   */\n  point(config, reBindEvent = false) {\n    return this.circle(this.config.point(config), reBindEvent)\n  }\n\n  /**\n   * 绘制点\n   * @param options\n   */\n  drawPoint(options) {\n    const config = this.config.point(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建线\n   */\n  line(config, reBindEvent = false) {\n    if (!config.points || config.points.length < 2) {\n      warn(`创建线，必须提供 points 参数，且至少包含两个及以上个点！`)\n    }\n    return this._drawCtl.overLayerCreateObject(\n      this.config.line(config),\n      reBindEvent\n    )\n  }\n\n\n  /**\n   * 绘制线\n   */\n  drawLine(options) {\n    const lineConfig = this.config.line(options)\n    const lineOptions = {\n      isOnce: true,\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || false,\n      pointsVisible: options.pointsVisible || false\n    }\n\n    this._draw(lineConfig, lineOptions)\n  }\n\n  /**\n   * @description 创建面\n   * @function\n   */\n  polygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制面\n   * @desc 因为 OverLayerStartEdit 指定 GID 无效，所以需要外部把 gid 指定在 attr 中\n   */\n  drawPolygon(options = {}) {\n    const polygonConfig = this.config.polygon(options)\n    const polygonOptions = {\n      onDraw: options.onDraw || NOOP,\n      onFinish: options.onFinish || NOOP,\n      drawPoints: options.drawPoints || true,\n      pointsVisible: options.pointsVisible || true\n    }\n\n    this._draw(polygonConfig, polygonOptions)\n  }\n\n  /**\n   * 创建圆\n   */\n  circle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.circle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建POI点\n   */\n  imageLabel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.imageLabel(config),\n      reBindEvent\n    )\n  }\n\n  drawImageLabel(options) {\n    const config = this.config.imageLabel(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 3D面\n   * @param config\n   * @param reBindEvent {Boolean}\n   *\n   */\n  polygon3d(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.polygon3d(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制 3d 面\n   * @param options\n   */\n  drawPolygon3d(options) {\n    const config = this.config.polygon3d(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建三角形\n   */\n  triangle(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.triangle(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制三角形\n   * @param options\n   */\n  drawTriangle(options) {\n    const config = this.config.triangle(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建矩形\n   * @param config {Object}\n   * @param reBindEvent{Boolean}\n   *\n   */\n  rect(config, reBindEvent) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.rect(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制矩形\n   * @param options\n   */\n  drawRect(options) {\n    const config = this.config.rect(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建规则多边形\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  regularPolygon(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.regularPolygon(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制规则多边形\n   * @param options\n   */\n  drawRegularPolygon(options) {\n    const config = this.config.regularPolygon(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建形状体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  shape(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.shape(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制形状体\n   * @param options\n   */\n  drawShape(options) {\n    const config = this.config.shape(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建 box\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  box(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.box(config),\n      reBindEvent\n    )\n  }\n\n  drawBox(options) {\n    const config = this.config.box(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建金字塔\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  pyramid(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.pyramid(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制金字塔\n   * @param options\n   */\n  drawPyramid(options) {\n    const config = this.config.pyramid(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆锥\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cone(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cone(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆锥\n   * @param options\n   */\n  drawCone(options) {\n    const config = this.config.cone(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建圆柱\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  cylinder(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.cylinder(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 绘制圆柱\n   * @param options\n   */\n  drawCylinder(options) {\n    const config = this.config.cylinder(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建球体\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  sphere(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(this.config.sphere, reBindEvent)\n  }\n\n  /**\n   * 绘制球体\n   * @param options\n   */\n  drawSphere(options) {\n    const config = this.config.sphere(options)\n    const drawOptions = {\n      isOnce: true,\n      onFinish: options.onFinish || NOOP\n    }\n    this._draw(config, drawOptions)\n  }\n\n  /**\n   * 创建骨骼模型\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  skeleton(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.skeleton,\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建网页广告版\n   * todo: 广告版的部分添加详细的使用说明，和遗留问题\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  billBoard(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.billBoard(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建视频\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  vlcMedia(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.vlcMedia(config),\n      reBindEvent\n    )\n  }\n\n  /**\n   * 创建模型动画\n   * @param config\n   * @param reBindEvent\n   *\n   */\n  routeModel(config, reBindEvent = false) {\n    return this._drawCtl.overLayerCreateObject(\n      this.config.routeModel(config),\n      reBindEvent\n    )\n  }\n\n  // 普通图层\n  layer(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layer(config))\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this._drawCtl.layerLoadAsync(this.config.layerDynamic(config))\n  }\n\n  // 路径巡游\n  route(config) {\n    return this._drawCtl.createRoute(this.config.route(config))\n  }\n}\n\nexport default MapCreate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:27\n * @File: find.js\n * @Description 与对象查找操作相关的\n */\n\nclass MapFind {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  one(gid) {\n    return this._drawCtl.findObjectById(gid)\n  }\n\n  /**\n   * 根据给定前缀查找对象\n   * @param prefix {string | undefined}\n   *\n   */\n  all(prefix = '*') {\n    return this._drawCtl.findObjectByPrefix(prefix)\n  }\n}\n\nexport default MapFind\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:29\n * @File: update.js\n * @Description 与更新操作相关的\n */\n\nclass MapUpdate {\n  constructor(view3d) {\n    this._view3d = view3d\n  }\n}\n\nexport default MapUpdate\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/20 10:28\n * @File: remove.js\n * @Description 与删除操作相关的\n */\n\nclass MapDelete {\n  constructor(view3d, drawCtl) {\n    this._view3d = view3d\n    this._drawCtl = drawCtl\n  }\n\n  all() {\n    this._drawCtl.overLayerRemoveAll()\n  }\n\n  one(object) {\n    // TODO： 验证删除操作是否影响点击事件\n    this._drawCtl.overLayerRemoveObject(object)\n  }\n\n  oneById(gid) {\n    return this._drawCtl.overLayerRemoveObjectById(gid)\n  }\n}\n\nexport default MapDelete\n","/**\n * 地图中的材质\n */\nclass MapActor {\n  constructor() {\n    // 线相关的材质\n    this.LINE = {\n      SIM_ARRAW: 'sim_arraw',\n      SIM_DOT: 'sim_dot',\n      SIM_DASHED: 'sim_dashed',\n      SIM_FLASH: 'sim_flash',\n      SIM_CAN: 'sim_scan'\n    }\n  }\n}\n\nexport default new MapActor()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:39\n * @File: config.js\n * @Description 类别 ID 的配置\n */\n\n// 摄像头\nexport const CATEGORY_CAMERA = '10001'\n\n// 枪机 (Box Camera)\nexport const CAMERA_TYPE_BOX = '10001_01'\n\n// 球机 (Speed Dome Camera)\nexport const CAMERA_TYPE_SPEED_DOME = '10001_02'\n\n// 半球 (Dome Camera)\nexport const CAMERA_TYPE_DOME = '10001_03'\n\n// 卡口、车辆\nexport const CATEGORY_BAYONET = '10001_05'\n\n// 门禁\nexport const CATEGORY_DOOR = '10002'\n\n// 门禁 - 海康人脸识别一体机\nexport const CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL = '10002_01'\n\n// 消防设施\nexport const CATEGORY_FIRE_EXTINGUISHING = '10003'\n\n// 对讲\nexport const CATEGORY_INTERCOM = '10004'\n\n// 海康对讲室内终端\nexport const CATEGORY_INTERCOM_HK_INDOOR = '10004_01'\n\n// 海康对讲室外终端\nexport const CATEGORY_INTERCOM_HK_OUTDOOR = '10004_02'\n\n// 广播\nexport const CATEGORY_BROADCAST = '10005'\n\n// 报警\nexport const CATEGORY_ALARM = '10006'\n\n// 立杆\nexport const CATEGORY_LIGAN = '10007'\n\n// 窗\nexport const CATEGORY_WINDOW = '10008'\n\n// 床垫\nexport const CATEGORY_BED = '10009'\n\n// 人脸\nexport const CATEGORY_FACE = '10010'\n\n// 海康400万智能变焦桶型网络摄像机 - 人脸抓拍\nexport const CATEGORY_FACE_HK_400 = '10010_01'\n\n// agv\nexport const CATEGORY_AGV = '10012'\n\n// 车辆 vehicle\nexport const CATEGORY_CAR = '10013'\n\n// 机器人\nexport const CATEGORY_ROBOT = '10014'\n\n\n// 以下为地图实体类别配置\nexport const TYPE = {\n  // 文本\n  text: {\n    type: 10002,\n    typeName: 'label'\n  },\n\n  // 模型\n  model: {\n    type: 10002,\n    typeName: 'model'\n  },\n\n  // 图片\n  image: {\n    type: 10102,\n    typeName: 'image'\n  },\n\n  // 点\n  point: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // 线\n  line: {\n    type: 10002,\n    typeName: 'linestring'\n  },\n\n  // 面\n  polygon: {\n    type: 10002,\n    typeName: 'polygon'\n  },\n\n  // 圆\n  circle: {\n    type: 10002,\n    typeName: 'circle'\n  },\n\n  // POI点\n  imageLabel: {\n    type: 10002,\n    typeName: 'imageLabel'\n  },\n\n  // 3D面\n  polygon3d: {\n    type: 10002,\n    typeName: 'polygon3d'\n  },\n\n  // 三角形\n  triangle: {\n    type: 10002,\n    typeName: 'triangle'\n  },\n\n  // 矩形\n  rect: {\n    type: 10002,\n    typeName: 'rect'\n  },\n\n  // 规则多边形\n  regularPolygon: {\n    type: 10002,\n    typeName: 'regularPolygon'\n  },\n\n  // 形状体\n  shape: {\n    type: 10002,\n    typeName: 'shape'\n  },\n\n  // box\n  box: {\n    type: 10002,\n    typeName: 'box'\n  },\n\n  // 金字塔\n  pyramid: {\n    type: 10002,\n    typeName: 'pyramid'\n  },\n\n  // 圆锥\n  cone: {\n    type: 10002,\n    typeName: 'cone'\n  },\n\n  // 圆柱\n  cylinder: {\n    type: 10002,\n    typeName: 'cylinder'\n  },\n\n  // 球体\n  sphere: {\n    type: 10002,\n    typeName: 'sphere'\n  },\n\n  // 骨骼模型\n  skeleton: {\n    type: 10002,\n    typeName: 'skeleton'\n  },\n\n  // 网页广告版\n  billBoard: {\n    type: 10002,\n    typeName: 'webbrowser'\n  },\n\n  // 视频\n  media: {\n    type: 10002,\n    typeName: 'media'\n  },\n\n  // 模型动画\n  dynamicModel: {\n    type: 10002,\n    typeName: 'dynamicModel'\n  },\n\n  // 路径模型动画\n  routeModel: {\n    type: 10002,\n    typeName: 'routeModel'\n  },\n\n  // 普通图层\n  layer: {\n    type: 10002,\n    typeName: 'MLT_LAYER_SHAPE'\n  },\n\n  // 动画图层\n  layerDynamic: {\n    type: 10002,\n    typeName: 'MLT_LAYER_POS_DYNAMIC'\n  },\n\n  // 路径巡游\n  route: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'route_patrol'\n  },\n\n  // 动画序列\n  videoSequence: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_sequence'\n  },\n\n  // 视频 - RTSP\n  video: {\n    type: 10002,\n    // 自定义的类型\n    typeName: 'video_rtsp'\n  },\n\n  // 视频投影\n  videoProjection: {\n    type: 10002,\n    typeName: 'media2'\n  },\n\n  // 区域高亮对象\n  region: {\n    type: 10002,\n    typeName: 'region'\n  },\n\n  // 热力图\n  heatmap: {\n    type: 10002,\n    typeName: 'heatmap_rect'\n  }\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/18 14:25\n * @File: config.js\n * @description 1\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport * as modelConfig from '../model/category/config'\nimport { createUUID } from '../utils'\n\nconst typeConfig = modelConfig.TYPE\n\nconst { objectKeyToLowerCase } = utils\n\nclass ModelConfig {\n  getTypeName(typeConfig) {\n    return typeConfig.typeName\n  }\n\n  mergeConfig(config) {\n    if (!config.id) {\n      config.id = createUUID()\n    }\n\n    // 对于不传 GID的情况，可以使用随机的 ID\n    if (!config.gid) {\n      config.gid = config.id\n    }\n\n    return {\n      ...config,\n      attr: {\n        ...config.attr,\n        // 显示的再把 gid 赋给 attr ,以避免因为指定 Gid 给地图无效，导致无法匹配上点击事件\n        gid: config.gid || config.id\n      }\n    }\n  }\n\n  // 文本\n  text(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.text),\n      text: '',\n      font: '黑体',\n      fontcolor: '#ffffff',\n      fontsize: 24,\n      halign: 'center', // left center right\n      valign: 'bottom', // bottom center top\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型\n  model(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.model),\n      filename: 'default',\n      scale: 1.0,\n      style: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 图片\n  image(config) {\n    // TODO：列出目前的基础图片库\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.image),\n      style: 'default', // 材质名称\n      scale: 1,\n      screen: true,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 点\n  point(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.point),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 线\n  line(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.line),\n      style: 'red',\n      linewidth: 10,\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 面\n  polygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon),\n      points: [],\n      // style: config.style || 'green',\n      color: '#00ff00',\n      // linestyle: 'white',\n      linecolor: '#00ff00',\n      lineWidth: 1,\n      linevisible: true,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆\n  circle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.circle),\n      radius: 10,\n      color: 'red',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // POI点\n  imageLabel(config) {\n    // 使用 POI 点，iconstyle，必须先在平台图像资源里进行导入。\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.imageLabel),\n      lighting: true, // 是否支持光照\n      iconstyle: 'default.png', // 资源图片里面是否有这个文件\n      text: '测试文本', // 文本内容\n      fontcolor: '#ffffff', // 文本颜色\n      fontbg: '', // 文本背景颜色    screen不支持背景颜色\n      fontsize: 32.0, // 文本大小        screen不支持字体大小\n      style: 'white', // 立柱的颜色样式  screen不支持\n      pwidth: 1, // 立柱的宽度  screen不支持\n      pheight: 50.0, // 立柱的高度      screen不支持\n      scale: 1, // 整个对象的缩放比例\n      screen: false,\n      offsetx: 0, // 文本内容偏移位置 x，screen=true单位像素，screen=false 单位为米或厘米，默认 0\n      offsety: 0, // 文本内容偏移位置 ，scyreen=true单位像素，screen=false 单位为米或厘米，默认 0\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 3D面\n  polygon3d(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.polygon3d),\n      style: 'green', // 基础样式\n      color: '#0000ff', // 基础样式颜色\n      linewidth: 5.0, // 边线宽度 单位米\n      linestyle: 'green', // 边线样式，优先级高于linecolor\n      linecolor: '#0000ff', // 边线颜色，linestyle=null才会起作用\n      linevisible: true, // 边线启用\n      roofvisible: false, // 顶部面是否启用\n      roofheight: 400.0, // 顶部面的高度  单位米\n      edgestyle: 'green', // 边缘立面样式，优先级高于edgecolor\n      edgecolor: '#0000ff', // 边缘立面颜色，edgestyle=null才会起作用\n      edgeheight: 400.0, // 边缘立面高度  单位米\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 三角形\n  triangle(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.triangle),\n      color: '#ffffff',\n      points: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 矩形\n  rect(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.rect),\n      length: 100,\n      width: 100,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 规则多边形\n  regularPolygon(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.regularPolygon),\n      radius: 100, // 半径\n      num: 5, // 边数\n      color: '#ffffff', // 填充色\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 形状体\n  shape(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.shape),\n      scale: 1.0, // 缩放比例\n      style: 'box', // 模型文件名称\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // box\n  box(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.box),\n      length: 100, // 长\n      width: 100, // 宽\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 金字塔\n  pyramid(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.pyramid),\n      radius: 100, // 半径\n      height: 100, // 高度\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆锥\n  cone(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cone),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 圆柱\n  cylinder(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.cylinder),\n      radius: 100, // 半径\n      height: 100, // 高\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 球体\n  sphere(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.sphere),\n      scale: 1.0,\n      radius: 100, // 半径\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 骨骼模型\n  skeleton(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.skeleton),\n      filename: 'person', // 材质名\n      scale: 1.0,\n      color: '#ffffff',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 网页广告版\n  billBoard(config) {\n    // TODO: check url\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.billBoard),\n      // style: 'white',\n      url: '',\n      width: 100,\n      height: 100,\n      screen: true, // 是否固定大小， false表示随视角缩放\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 视频\n  media(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.media),\n      url: '',\n      screen: true,\n      scale: 1.0,\n      width: 100,\n      height: 100,\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 模型动画\n  dynamicModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.dynamicModel),\n      scale: 1.0,\n      filename: '',\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径模型动画\n  routeModel(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.routeModel),\n      scale: 1,\n      speed: 20, // 播放速度， 20m/s\n      filename: 'default', // 材质名称\n      points: [], // 路径的点位\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 普通图层\n  layer(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layer),\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画图层\n  layerDynamic(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.layerDynamic),\n      speed: 10, // 速度： 经纬度坐标系：m/s，场景坐标系 cm/s.\n      shapes: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 路径巡游\n  route(config) {\n    // 相机的高度，高度降低后，配合 pitch:35,可实现第一人称视角\n    // 90度可表现为上帝视角\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.route),\n      visible: true, // 显示隐藏路径\n      style: 'sim_arraw', // 路径的样式  sim_arraw, sim_dot, sim_dashed, sim_flash, sim_scan, sim_dot\n      showloc: true, // 是否显示起始点图标loc\n      width: 100, // 路径的宽度，单位米\n      speed: 2000, // 路径的播放，默认2000 厘米/s\n      distance: 1000, // 可视距离  > 0.01 单位厘米\n      pitch: 35, // 俯仰角， 范围：0——90度 默认35\n      iselev: true, // 是否依赖地形高程值 ? todo: 待测试\n      geom: [],\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 动画序列\n  videoSequence(id = '') {\n    return {\n      type: this.getTypeName(typeConfig.videoSequence),\n      id\n    }\n  }\n\n  /**\n   * 视频 - RTSP\n   */\n  video(config) {\n    return {\n      type: this.getTypeName(typeConfig.video),\n      url: '',\n      width: 10,\n      height: 10,\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 视频投影\n  videoProjection(config) {\n    return this.mergeConfig({\n      type: this.getTypeName(typeConfig.videoProjection),\n      url: '',\n      width: 50, //  对象的宽度，单位米 或者 厘米\n      height: 45,\n      bwidth: 10, // 底边宽度，单位米\n      barch: 5, // 底边拱形高度，单位米\n      points: [],\n      location: null,\n      ...objectKeyToLowerCase(config)\n    })\n  }\n\n  // 区域高亮对象\n  region(config) {\n    return {\n      type: this.getTypeName(typeConfig.region),\n      style: 'default',\n      geom: null,\n      ...objectKeyToLowerCase(config)\n    }\n  }\n\n  // 热力图\n  heatmap(config) {\n    return {\n      type: this.getTypeName(typeConfig.heatmap),\n      pheight: 100, // 对象的高度， 单位： m\n      minx: 0, // 热力图范围，\n      miny: 0,\n      maxx: 0,\n      maxy: 0,\n      gradient: {}, // 热力图等级\n      points: [],\n      ...objectKeyToLowerCase(config)\n    }\n  }\n}\n\nexport default new ModelConfig()\n","/**\n * @module sdk-drawer\n * @description 绘图控制器，负责往地图中实际添加对象。\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport MapCreate from './create'\nimport MapFind from './find'\nimport MapUpdate from './update'\nimport MapRemove from './remove'\nimport MapActor from './actor'\n\nimport ModelConfig from './config'\nimport { functionExist } from '../error'\nimport { schedule, waitSchedule } from '../scheduler'\n// import { MapModelLabel } from './model'\n\nconst { EMPTY_OBJ, NOOP, objectKeyToLowerCase } = utils\n\n// @ts-ignore\nclass MapDrawer {\n  constructor(view3d, mapView) {\n    this._view3d = view3d\n    this._event = mapView.event\n    this._mapView = mapView\n    this.config = ModelConfig\n    this.create = new MapCreate(view3d, this)\n    this.find = new MapFind(view3d, this)\n    this.remove = new MapRemove(view3d, this)\n    this.update = new MapUpdate(view3d, this)\n    this.ACTOR = MapActor\n  }\n\n  // ==== 以下为创建对象 create 相关 ===========\n  overLayerSelectObjectEdit(callback = NOOP) {\n    const view3d = this._view3d\n    const self = this\n    if (functionExist(view3d, 'OverLayerSelectObjectEdit')) {\n      // 同时注册鼠标右键的事件，右键点击，结束编辑状态\n      const windowRightClickHandleRef = function windowRightClickHandleRef() {\n        self.overLayerStopEdit()\n        window.removeEventListener('contextmenu', windowRightClickHandleRef)\n      }\n\n      window.addEventListener('contextmenu', windowRightClickHandleRef)\n\n      view3d.OverLayerSelectObjectEdit((res) => {\n        callback && callback(res)\n      })\n    }\n  }\n\n  /**\n   * 启用标绘编辑\n   * @param config {Object}\n   * @param callback {Function}\n   * @returns {Promise | Promise<unknown>}\n   */\n  overLayerStartEdit(config, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStartEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStartEdit, () => {\n        view3d.OverLayerStartEdit(config, callback)\n      })\n    }\n  }\n\n  overLayerStopEdit() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerStopEdit')) {\n      return waitSchedule(10, view3d, view3d.OverLayerStopEdit, () => {\n        this._event.reBindMouseClickCallback()\n      })\n    }\n  }\n\n  overLayerCreateObject(objectConfig = EMPTY_OBJ, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObject')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObject,\n        objectConfig,\n        (entity) => {\n          // 是否在这次创建对象后，立即重新绑定事件。\n          if (reBindEvent) {\n            this._event.reBindMouseClickCallback()\n          }\n        }\n      )\n    }\n  }\n\n  /**\n   * 批量创建对象。这是更底层的API，批量创建对象时，建议使用 modelControl 来处理\n   * @param objectArray {Array<Object>}\n   * @param reBindEvent {Boolean}\n   * @returns {Promise<unknown>}\n   */\n  overLayerCreateObjects(objectArray = [], reBindEvent = false) {\n    if (objectArray.length > 200) {\n      console.warn(\n        'OverLayerCreateObjects 一次创建对象的数量不应超过200个，不然有失败的风险。'\n      )\n    }\n\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerCreateObjects')) {\n      return schedule(\n        view3d,\n        view3d.OverLayerCreateObjects,\n        objectArray,\n        () => {\n          if (reBindEvent) {\n            this._event.reBindMouseClickCallback()\n          }\n        }\n      )\n    }\n  }\n\n  // ================================\n  // ==== 以下是 查找(find) 对象相关 ====\n  /**\n   * 根据GID查找对象\n   * @param gid {String}\n   * @returns {Promise<unknown>}\n   */\n  findObjectById(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectById')) {\n      return schedule(view3d, view3d.FindObjectById, gid)\n    }\n  }\n\n  /**\n   * 根据gid的前缀查找对象\n   * @param prefix {String}\n   * @param limitNum {Number}\n   * @returns {Promise<unknown>}\n   */\n  findObjectByPrefix(prefix = '', limitNum = 200) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'FindObjectByPrefix')) {\n      return schedule(view3d, view3d.FindObjectByPrefix, prefix, limitNum)\n    }\n  }\n\n  // ===================================\n  // ==== 以下是 更新(update) 对象相关 ====\n\n  /**\n   * 更新对象属性\n   */\n  overLayerUpdateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      view3d.OverLayerUpdateObject(object)\n    }\n  }\n\n  overLayerUpdateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerUpdateObject')) {\n      return waitSchedule(20, view3d, view3d.OverLayerUpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象的样式\n   */\n  updateObjectStyle(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      view3d.UpdateObjectStyle(gid, style)\n    }\n  }\n\n  /**\n   * 异步更新对象的样式\n   * @param gid {String}\n   * @param style {String}\n   * @returns {Promise | Promise<unknown>}\n   */\n  updateObjectStyleAsync(gid, style) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectStyle')) {\n      return waitSchedule(20, view3d, view3d.UpdateObjectStyle, gid, style)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      view3d.UpdateObject(object)\n    }\n  }\n\n  updateObjectAsync(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObject')) {\n      return waitSchedule(20, view3d, view3d.UpdateObject, object)\n    }\n  }\n\n  /**\n   * 更新对象\n   */\n  updateObjects(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      view3d.UpdateObjects(objects)\n    }\n  }\n\n  /**\n   * 重置模型的位置\n   */\n  resetObjects() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ResetObjects')) {\n      view3d.ResetObjects()\n    }\n  }\n\n  updateObjectsAsync(objects, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjects')) {\n      return waitSchedule(t, view3d, view3d.UpdateObjects, objects)\n    }\n  }\n\n  /**\n   * 清除对象样式\n   */\n  clearObjectStyle() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearObjectStyle')) {\n      view3d.ClearObjectStyle()\n    }\n  }\n\n  /**\n   * 获取当前所有 visible 的地图对象\n   * @returns {Promise | Promise<unknown>}\n   */\n  getObjectsVisible() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'GetObjectsVisible')) {\n      return schedule(view3d, view3d.GetObjectsVisible)\n    }\n  }\n\n  /**\n   * 同步的，批量更新对象的可见性， 通过对象属性的visible属性来决定对象是否可见\n   * @param objects {Object} 要更新的对象\n   */\n  setObjectsVisible(objects) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      view3d.SetObjectsVisible(objects)\n    }\n  }\n\n  /**\n   * 异步批量更新对象的可见性\n   * @param object\n   * @param t 指定延迟的时间\n   * @returns {Promise<unknown>}\n   */\n  setObjectsVisibleAsync(object, t = 100) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectsVisible')) {\n      return waitSchedule(t, view3d, view3d.SetObjectsVisible, object)\n    }\n  }\n\n  /**\n   * 更新对象的可见性\n   * @param gid\n   * @param visible\n   */\n  updateObjectVisible(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      view3d.UpdateObjectVisible(gid, visible)\n    }\n  }\n\n  /**\n   * 异步更新对象的可见性\n   * @param gid\n   * @param visible\n   * @returns {Promise<unknown>}\n   */\n  updateObjectVisibleAsync(gid, visible) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'UpdateObjectVisible')) {\n      return waitSchedule(10, view3d, view3d.UpdateObjectVisible, gid, visible)\n    }\n  }\n\n  // ==========================\n  // ==== 以下是 删除 (remove) 对象相关 ====\n  /**\n   * 删除一个对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param object\n   */\n  overLayerRemoveObject(object) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObject')) {\n      view3d.OverLayerRemoveObject(object)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gid\n   */\n  overLayerRemoveObjectById(gid) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectById, gid)\n    }\n  }\n\n  /**\n   * 通过GID删除对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   * @param gids {Array<String>}\n   */\n  overLayerRemoveObjectsById(gids) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveObjectsById')) {\n      return waitSchedule(20, view3d, view3d.OverLayerRemoveObjectsById, gids)\n    }\n  }\n\n  /**\n   * 删除所有对象， TODO： 移除一个模型，是否还需要重新绑定事件？\n   */\n  overLayerRemoveAll() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'OverLayerRemoveAll')) {\n      view3d.OverLayerRemoveAll()\n    }\n  }\n\n  // =========================\n  // ==== 以下是其他相关操作======\n  /**\n   * 高亮对象\n   * @TODO 需要验证，高亮模型是否会因此点击事件，如果影响，需要在这里重新绑定事件\n   * @param objId {String | Array}\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  setObjectHighlight(objId, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'SetObjectHighlight')) {\n      return waitSchedule(20, view3d, view3d.SetObjectHighlight, objId)\n      // view3d.SetObjectHighlight(objId)\n    }\n  }\n\n  /**\n   * 通过指定前缀来高亮对象\n   * @param prefix {String}\n   */\n  setObjectsHighlightByPrefix(prefix) {\n    if (!prefix) {\n      return\n    }\n\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetObjectsHighlightByPrefix')) {\n      view3d.SetObjectsHighlightByPrefix(prefix)\n    }\n  }\n\n  /**\n   * 清除所有对象的高亮状态\n   * @param reBindEvent {Boolean} 是否在清除高亮后，重新绑定鼠标点选事件. 清除高亮总是会影响点击事件，所有默认会重新绑定事件\n   * @param waitTime {Number} 因为没有回调，所以指定多少时间来 resolve。\n   */\n  clearHighlight(reBindEvent = true, waitTime = 20) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlight')) {\n      return waitSchedule(waitTime, view3d, view3d.ClearHighlight, () => {\n        if (reBindEvent) {\n          this._event.reBindMouseClickCallback()\n        }\n      })\n\n      // view3d.ClearHighlight()\n    }\n  }\n\n  // 其他  ========================\n  // 加载图层 - 同步方法\n  layerLoad(config, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      view3d.LayerLoad(config, (res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 加载图层 - 异步方法\n   * @param config\n   */\n  layerLoadAsync(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerLoad')) {\n      return schedule(view3d, view3d.LayerLoad, config)\n    }\n  }\n\n  // 设置图层的显示和隐藏\n  layerSetVisible(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      view3d.LayerSetVisible(gid, visible)\n    }\n  }\n\n  // 设置图层的显示和隐藏 - 异步\n  layerSetVisibleAsync(gid = '', visible = true) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerSetVisible')) {\n      return waitSchedule(20, view3d, view3d.LayerSetVisible, gid, visible)\n    }\n  }\n\n  /**\n   * @todo: 需要测试， 移除图层，是否影响点击事件的绑定，如果影响，需要重新绑定\n   * @desc 删除图层\n   * @param gid\n   */\n  layerRemove(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      view3d.LayerRemove(gid)\n    }\n  }\n\n  // 删除图层 - 异步\n  layerRemoveAsync(gid = '') {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerRemove')) {\n      return waitSchedule(20, view3d, view3d.LayerRemove, gid)\n    }\n  }\n\n  // 更新图层的位置\n  layerReLoad(layerObj, callback = NOOP, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      view3d.LayerReLoad(layerObj, callback)\n    }\n  }\n\n  // 更新图层的位置 - 异步\n  layerReLoadAsync(layerObj, reBindEvent = false) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'LayerReLoad')) {\n      return schedule(view3d, view3d.LayerReLoad, layerObj)\n    }\n  }\n\n  /**\n   * 路径巡游\n   */\n  createRoute(config) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      return schedule(view3d, view3d.CreateRoute, config)\n    }\n  }\n\n  playRoute(callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'CreateRoute')) {\n      view3d.PlayRoute((res) => {\n        callback(res)\n      })\n    }\n  }\n\n  /**\n   * 暂停路径巡游\n   */\n  pauseRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PauseRoute')) {\n      view3d.PauseRoute()\n    }\n  }\n\n  /**\n   * 继续播放路径巡游\n   */\n  resumeRoute(callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'resumeRoute')) {\n      view3d.ResumeRoute(callback)\n    }\n  }\n\n  /**\n   * 停止路径巡游\n   */\n  stopRoute() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopRoute')) {\n      view3d.StopRoute()\n    }\n  }\n\n  // 播放动画序列\n  playSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 暂停动画序列\n  pauseSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'PlaySequence')) {\n      view3d.PlaySequence(id)\n    }\n  }\n\n  // 停止动画序列\n  stopSequence(id) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StopSequence')) {\n      view3d.StopSequence(id)\n    }\n  }\n\n  // 判断是否播放中\n  isPlayingSequence(id, callback = NOOP) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPlayingSequence')) {\n      view3d.IsPlayingSequence(id, callback)\n    }\n  }\n\n  // 判断是否暂停中\n  isPausedSequence(id, callback) {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'IsPausedSequence')) {\n      view3d.IsPausedSequence(id, callback)\n    }\n  }\n\n  // 创建视频\n  streamVideoOpen(config) {\n    const view3d = this._view3d\n    let videoConfig = {\n      url: '',\n      width: 10, // 单位米  10米\n      height: 9, // 单位米  9米\n      position: null,\n      ...objectKeyToLowerCase(config)\n    }\n    // TODO: 验证 url,以 rtsp://开头\n    if (functionExist(view3d, 'StreamVideoOpen')) {\n      view3d.StreamVideoOpen(videoConfig)\n    }\n  }\n\n  // 关闭视频\n  streamVideoClose() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'StreamVideoClose')) {\n      view3d.StreamVideoClose()\n    }\n  }\n\n  // 区域高亮\n  setHighlightRegion(geom) {\n    const view3d = this._view3d\n    const pointsData = {\n      style: 'default', // 默认样式 目前支持一种样式\n      geom: geom\n    }\n    if (functionExist(view3d, 'SetHighlightRegion')) {\n      view3d.SetHighlightRegion(pointsData)\n    }\n  }\n\n  // 清除区域高亮\n  clearHighlightRegion() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'ClearHighlightRegion')) {\n      view3d.ClearHighlightRegion()\n    }\n  }\n}\n\nexport default MapDrawer\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:43\n * @FILE: selector.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n/**\n * @classdesc 模型选择器类\n * @class\n */\nclass Selector {\n  constructor(entity, mapViewer) {\n    this.entity = entity\n    this.mapViewer = mapViewer\n  }\n\n  /**\n   * 返回所有的模型的ID组成的数组\n   *\n   */\n  selectIds = () => {\n    return Array.from(this.entity.ids)\n  }\n\n  /**\n   * 返回所有的模型对象实例\n   *\n   */\n  selectEntities = () => {\n    return Array.from(this.entity.data.values())\n  }\n\n  /**\n   * 返回所有原始的数据\n   *\n   */\n  selectAll = () => {\n    const ids = this.selectIds()\n    return ids.reduce((ret, id) => {\n      const data = this.selectDataById(id)\n      if (data) {\n        ret.push(data)\n      }\n      return ret\n    }, [])\n  }\n\n  /**\n   * 返回当前模型的数量\n   *\n   */\n  selectTotal = () => {\n    return this.selectIds().length\n  }\n\n  /**\n   * 查找某个id对应的原始数据\n   * @param id\n   *\n   */\n  selectDataById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance.getState()\n  }\n\n  /**\n   * 查找某个ID对应的模型实例\n   * @param id\n   *\n   */\n  selectEntityById = (id) => {\n    const entityInstance = this.entity.data.get(id)\n    if (!entityInstance) {\n      console.warn(`cannot find entity for id: ${id}.`)\n      return null\n    }\n    return entityInstance\n  }\n\n  /**\n   * 分类查找原始数据\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectByCategory = (categoryId, key = 'category_id') => {\n    return this.selectAll().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 分类查找模型实例\n   * @param categoryId\n   * @param key\n   *\n   */\n  selectEntitiesByCategory = (categoryId, key = 'category') => {\n    return this.selectEntities().filter((item) => item[key] === categoryId)\n  }\n\n  /**\n   * 根据ID返回地图实体数据集合\n   * @param id\n   */\n  selectMapEntityById = (id) => {\n    return this.selectEntityById(id).getEntityData()\n  }\n\n  /**\n   * 根据entities 返回相应的地图实体数据\n   * @param instances\n   */\n  selectMapEntity = (instances) => {\n    return instances.reduce((retArray, instance) => {\n      retArray.push(...instance.getEntityData())\n      return retArray\n    }, [])\n  }\n\n  // 通用的过滤数据的方法\n  filter = (filterFunc = NOOP) => {\n    return this.selectAll().filter(filterFunc)\n  }\n\n  // 通用的过滤模型实例的方法\n  filterEntities = (filterFunc = NOOP) => {\n    return this.selectEntities().filter(filterFunc)\n  }\n\n  // 所有室外的数据\n  filterOutDoor = () => {\n    return this.filter((item) => !item.indoor)\n  }\n\n  // 所有室外的模型实例\n  filterOutDoorEntities = () => {\n    return this.filterEntities((entity) => !entity.data.indoor)\n  }\n\n  // 某栋建筑的数据\n  filterByBuilding = (buildId) => {\n    return this.filter((data) => data.build_id === buildId)\n  }\n\n  // 某栋楼的所有模型对象\n  filterEntityByBuilding = (buildId) => {\n    return this.filterEntities((instance) => instance.data.build_id === buildId)\n  }\n\n  // 某楼层的所有数据\n  filterByFloor = (buildId, floorId) => {\n    return this.filter(\n      (data) =>\n        data.indoor && data.build_id === buildId && data.floor_id === floorId\n    )\n  }\n\n  // 某楼层的所有模型实例\n  filterEntityByFloor = (buildId, floorId) => {\n    return this.filterEntities((instance) => {\n      return (\n        instance.data.indoor &&\n        instance.data.build_id === buildId &&\n        instance.data.floor_id === floorId\n      )\n    })\n  }\n}\n\nexport default Selector\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:59\n * @FILE: options.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nconst { NOOP } = utils\n\n// 添加多个模型时的选项配置\nexport const batchModelOptions = {\n  // 是否初次加载数据\n  isFirst: false,\n\n  // 一次添加的数量，不要超过200个. 默认200个\n  size: 200,\n\n  // 是否直接上图 - 默认ture\n  onMap: true,\n\n  // 是否对每个数据项实例化\n  instance: true,\n\n  // 所有模型都添加完的回调\n  onSuccess: NOOP,\n\n  // progress 回调\n  onProgress: NOOP,\n\n  // 某次出错的回调\n  onError: NOOP\n}\n\n// TODO: 每类设备都可能又不同的配置项\nexport const modelOptions = {\n  // 上图方式 - 是普通的上图,还是绘制上图\n  // 普通上图指调用 OverLayerCreatObject\n  // 绘制上图指调用 OverLayerStartEdit\n  draw: false,\n\n  // 是否上图 - 默认true. 指的是与设备和与设备关联的所有模型属性（名字，图标等是否显示）\n  onMap: true,\n\n  // 整体的缩放比例\n  scale: 1,\n\n  // 图标相关配置\n  // 是否附加图片\n  image: true,\n\n  // 图片是否跟随滚轮进行缩放，默认是固定大小的\n  imageScale: 1,\n\n  // 是否显示图标\n  imageVisible: true,\n\n  // 模型相关配置\n  modelVisible: true,\n\n  modelScale: 1,\n\n  // 文本相关配置\n  textVisible: true,\n\n  textScale: 1,\n\n  // TODO：指定只有当相机高度小于设定值时才显示，模型、图标,\n  //  这里应该要考虑不同坐标系（经纬度和笛卡尔坐标）或者 是坐标系中的单位：厘米，米等因素，\n  //  所以最好有个全局设置。\n  visibleDistance: 100000,\n\n  // TODO：是否在当前可视范围内进行显示\n  visibleInViewBox: false,\n\n  onSuccess: NOOP,\n\n  onError: NOOP,\n\n  // 在每个设备的可见状态发送变化时触发。可见状态包括：当前相机视角超出/达到指定的高度，或者，进入/离开可视范围\n  onVisibleStatusChange: NOOP\n}\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 14:39\n * @File: base.js\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../utils'\n\nconst { createUUID } = utils\n\nexport const MODEL_INSTANCE_TYPE = 'MODEL_INSTANCE_TYPE'\n\n// 模型对象基类\nclass ModelBase {\n  static CATEGORY = 'MODEL'\n\n  constructor(mapViewer, data, config) {\n    // 内部实例的类型，用来需要实例化后的类实例和普通对象\n    this.$$typeof = MODEL_INSTANCE_TYPE\n    this.config = config // 创建时，自定义的配置项\n    this.data = null // 与模型关联的具体数据\n    this.id = null // 模型的唯一标识\n    // 用 Map 保存与这个模型类关联的所有实体\n    this.entity = new Map() // 模型上图后的地图实体属性 map\n    this.type = data.category_id\n    this.typeName = '模型基类'\n\n    // 实例模型是否可见\n    this.visible = false\n\n    // 是否添加到地图\n    this.created = false\n\n    this.mapViewer = mapViewer\n\n    this.setData(data)\n  }\n\n  _concatGid(prefix = createUUID(), id = createUUID()) {\n    return `${prefix}_${id}`\n  }\n\n  setState(key, value) {\n    this[key] = value\n    // 合并属性更新\n  }\n\n  // 返回原始的数据\n  getData() {\n    return this.data\n  }\n\n  setData(data) {\n    if (data) {\n      this.data = data\n      this.id = data.id\n    }\n  }\n\n  // 返回实例的 entity Map\n  getEntity(key) {\n    if (key) {\n      return this.entity.get(key)\n    }\n    return this.entity\n  }\n\n  // 返回当前实例所有关联的 entity\n  getAllEntities() {\n    return Array.from(this.entity.values())\n  }\n\n  /**\n   * 返回实例所有的地图实例数据列表\n   * @returns {unknown[]}\n   */\n  getEntityData() {\n    return Array.from(this.entity.values()).map((v) => v.data)\n  }\n\n  /**\n   * 保存与模型关联的实体属性\n   * @param key 不同的实体可以通过不同的 key 来区分，\n   *            定义如下：\n   *                模型： model\n   *                图标： icon\n   *                可视区域： area - 监控具有\n   *                其它： 待补充\n   * @param props 每一类实体的数据格式定义如下：\n   *              {\n   *                gid: entity 上图后的 gid\n   *                type: entity 的类型\n   *                data: 实际上图后地图返回的entity数据，可以直接用来上图\n   *                visible: 表明当前实体是否绘制上图了\n   *              }\n   */\n  setEntity(key, props) {\n    this.entity.set(key, {\n      gid: props.gid || props.attr.id,\n      type: props.type,\n      data: props,\n      visible: props.visible\n    })\n  }\n\n  deleteEntity(key) {\n    this.entity.delete(key)\n  }\n\n  getModel() {\n    return this.entity.get('model')\n  }\n\n  getIcon() {\n    return this.entity.get('icon')\n  }\n\n  setModel(props) {\n    this.setEntity('model', props)\n  }\n\n  setIcon(props) {\n    this.setEntity('icon', props)\n  }\n\n  /**\n   * 定义图标的位置，总是在模型位置上方固定距离处\n   * @param location\n   */\n  getIconLocation(location) {\n    if (!location) {\n      return null\n    }\n    return {\n      ...location,\n      z: location.z + 20\n    }\n  }\n\n  /**\n   * 设置整体实例的所有实体的可见性。需要各个实例自己实现\n   * 只要 模型 完成上图， 模型实例的 visible 属性即为 true。\n   * @abstract\n   */\n  setVisible(visible) {\n    const drawer = this.mapViewer.drawer\n\n    // 不重复设置可见性\n    if (visible !== this.visible) {\n      for (let entity of this.entity.values()) {\n        drawer.updateObjectVisible(entity.gid, visible)\n      }\n\n      this.markVisible(visible)\n    }\n  }\n\n  // 标记实例的可见性\n  markVisible(visible = false) {\n    this.visible = visible\n  }\n\n  /**\n   * 标记是否创建\n   */\n  markCreated(created = false) {\n    this.created = created\n  }\n\n  clearEntity() {\n    this.entity.clear()\n  }\n\n  /**\n   * 定位\n   * @abstract\n   */\n  flyTo(config) {\n    if (this.data.center) {\n      const center = this.data.center\n      // center 上还有个 distance 属性，目前这会影响到 flyToPosition 的效果\n      const location = {\n        x: center.x,\n        y: center.y,\n        z: center.z,\n        pitch: center.pitch,\n        yaw: center.yaw,\n        roll: center.roll\n      }\n      this.mapViewer.camera.flyToPositionByOptions({\n        position: location,\n        duration: config.duration\n      })\n    }\n\n    // TODO: 要加个 config，允许是否在 flyTo 里做分层\n    //  分层的时候，其实也需要做个判断，如果当前楼层就是目标楼层，就不用处理\n    //  如果是室内 - 去做分层(建筑的分层和模型的分层)\n    //  要考虑的问题在于。这里做了分层。那关闭分层的能力应该是 build 模块处理的,\n    //  点位定位的分层，可以配置是否启用\n    if (this.data.indoor) {\n      const buildId = this.data.build_id\n      const floorId = this.data.floor_id\n\n      // 模型的分层。委托给 ModelManage 来处理\n      // 暂时就做单个设备的显示和隐藏，因为更简单一下\n      const model = this.mapViewer.model\n      const adapter = model.getAdapter()\n      adapter.setVisible(buildId, floorId)\n    }\n  }\n\n  /**\n   * 模型高亮\n   */\n  highlight() {\n    const entity = this.getModel()\n    const mapViewer = this.mapViewer\n    this.clearHighlight().then(() => {\n      if (entity) {\n        // 目前只高亮模型即可\n        mapViewer.drawer.setObjectHighlight(entity?.gid)\n      }\n    })\n\n    return this\n  }\n\n  /**\n   * 清除高亮统一在 base 里处理即可，目前只有这个方法来实现\n   */\n  clearHighlight() {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n    return drawer.clearHighlight()\n  }\n\n  /**\n   * 根据配置数据.来生成模型, 这里的 entity 需要外界直接传入,\n   * 意味着，这里的 create 是更通用的创建模型的方法\n   * @abstract\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {} // 这里的 data 需要附加 楼层信息，才能满足后续的逻辑\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    const modelEntity = JSON.parse(JSON.stringify(data))\n\n    const onCreateSuccessHandler = (attr, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(data)\n      }\n\n      self.markCreated(true)\n      self.markVisible(true)\n\n      config.onSuccess(attr)\n    }\n\n    if (config.draw) {\n      event.setMousePositionCallback(location => {\n        modelEntity.location = location\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      if (config.onMap) {\n        drawer.overLayerCreateObject(modelEntity).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @desc 更新模型属性和位置\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   */\n  update(updater = {}) {\n    const { config, changes, data } = updater\n    const drawer = this.mapViewer.drawer\n\n    // TODO:有配置项的更新\n    if (config) {\n      this.setState('config', config)\n    }\n\n    // 数据属性更新\n    if (data) {\n      this.setState('data', data)\n    }\n\n    // changes 基本针对地图模型位置的更新, TODO：这里还需要考虑，通用模型的更新，不只有 location 的变化，可能还有其它属性。\n    if (changes) {\n      let modelEntity = this.getModel()\n      let iconEntity = this.getIcon()\n      if (iconEntity) {\n        iconEntity.data.location = this.getIconLocation(changes)\n        drawer.overLayerUpdateObject(iconEntity.data)\n      }\n      modelEntity.data.location = changes\n      drawer.overLayerUpdateObject(modelEntity.data)\n    }\n  }\n\n  /**\n   * @desc 删除模型实例\n   */\n  destroy() {\n    const entity = this.entity\n    const drawer = this.mapViewer.drawer\n    for (let [key, props] of entity.entries()) {\n      drawer.remove.one(props.data)\n    }\n\n    this.clearEntity()\n  }\n\n  // TODO：更新不同的图标，以表示设备不同的状态1\n}\n\nexport default ModelBase\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 10:55\n * @File: index.jsx\n * @Description\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../../../../utils'\nimport { CATEGORY_CAMERA } from '../../config'\nimport ModelBase from '../../base'\n\nconst { EMPTY_OBJ, NOOP } = utils\n\n/**\n * 摄像头基类\n */\nclass Camera extends ModelBase {\n  static mapViewer = null\n  static model = '$CAMERA' // 监控的 GID 前缀, 也会用在点击事件里的类型匹配\n  static icon = '$ICON_CAMERA' // 监控图标的 GID 前缀\n  static area = '$AREA_CAMERA' // 监控可视区域的 GID 前缀\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Camera.mapViewer) {\n      return\n    }\n\n    const model = Camera.mapViewer.model\n    const adapter = model.getAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域点击事件的处理函数\n  static areaClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 可视区域双击事件的处理函数\n  static areaDoubleClickHandler = (entity) => {\n    const modelInstance = Camera._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Camera.mapViewer = mapViewer\n    this.category = Camera.model // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_CAMERA\n    this.typeName = '监控'\n    this.fileName = 'qiangji' // 设备类别的模型名称,对应上图需要的filename\n  }\n\n  /**\n   * TODO： 设置模型的可见性\n   * @param visible\n   */\n  setModelVisible(visible = true) {}\n\n  /**\n   * TODO： 设置模型图标的可见性\n   * @param visible\n   */\n  setIconVisible(visible = true) {}\n\n  // getModel() {\n  //   return this.entity.get('model')\n  // }\n  //\n  // getIcon() {\n  //   return this.entity.get('icon')\n  // }\n\n  getArea() {\n    return this.entity.get('area')\n  }\n\n  // setModel(props) {\n  //   this.setEntity('model', props)\n  // }\n  //\n  // setIcon(props) {\n  //   this.setEntity('icon', props)\n  // }\n\n  setArea(props) {\n    this.setEntity('area', props)\n  }\n\n  /**\n   * 监控定位\n   * @override\n   * @return {Camera}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 监控高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 模型创建\n   * @description 创建模型的实例。根据上图参数 onMap 决定是否实际将模型上图\n   * @override\n   * @return {ModelBase}\n   */\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 相机模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.model, data.id),\n      },\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 相机图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id,\n        gid: this._concatGid(Camera.icon, data.id),\n      },\n      // screen: false,\n      // 指定 GID 还是必须的，是为了后续更新用，\n      // 因为批量创建时，每一个 entity 的 GID 必须指定，才能满足后续的操作。\n      gid: this._concatGid(Camera.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    // const imageEntity = drawer.config.imageLabel({\n    //   attr: {\n    //     id: data.id\n    //   },\n    //   // screen: false,\n    //   gid: this._concatGid(Camera.icon, data.id),\n    //   iconStyle: 'qiangji.png',\n    //   text: data?.camera_name,\n    //   screen: true,\n    //   // style: this.fileName + '_icon',\n    //   location: self.getIconLocation(modelEntity?.location)\n    // })\n\n    const onCreateSuccessHandler = (entity, shouldUpdateEntity) => {\n      if (shouldUpdateEntity) {\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n      }\n\n      self.markVisible(true)\n      self.markCreated(true)\n\n      config.onSuccess(entity)\n    }\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, true)\n        })\n\n      })\n    } else {\n      // 这里做一次 setModel 是为了把 entity 缓存起来，方便后续逻辑上统一做批量上图\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true).then(attr => {\n          onCreateSuccessHandler(attr, false)\n        })\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Camera}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * 删除当前模型实例，需要把关联的上图的实例都移除\n   */\n  destroy() {\n    super.destroy()\n    // TODO：移除可视区域面的逻辑可能略有不同\n  }\n\n  // 摄像头可以更新图标\n  updateImage() {}\n\n  // 更新相机名称模型\n  updateText() {}\n\n  // 更新可视面\n  updateVisibleArea() {}\n\n  /**\n   * 根据相机上的可视区域属性，创建可视区域面\n   */\n  createArea() {\n    const data = this.data || EMPTY_OBJ\n    const drawer = this.mapViewer.drawer\n    const self = this\n    // 可视区域模型（多边形模型）\n    if (data.camera_area) {\n      const areaEntityCached = this.getEntity('area')\n      if (areaEntityCached) {\n        // 已经创建过的实体，让其显示即可\n        this.setAreaVisible(true)\n      } else {\n        // 未创建过的， 去创建，并上图\n        const areaEntity = drawer.config.polygon({\n          attr: {\n            id: data.id\n          },\n          ...data.camera_area,\n          gid: this._concatGid(Camera.area, data.id)\n        })\n        drawer.create.polygon(areaEntity, true).then((entity) => {\n          self.setArea(entity)\n        })\n      }\n    }\n  }\n\n  /**\n   * 绘制可视区域\n   */\n  drawArea(callback = NOOP) {\n    const mapViewer = this.mapViewer\n    const self = this\n    const polygonGid = this._concatGid(Camera.area, this.data.id)\n    mapViewer.drawer.create.drawPolygon({\n      gid: polygonGid,\n      attr: {\n        // 画面的 GID 指定了无效，所以把 gid 也指定在 attr 中，这样方便在点击事件回到中对事件分类\n        id: this.data.id\n      },\n      onFinish: function (entity) {\n        entity && self.setArea(entity)\n        callback(entity)\n      }\n    })\n  }\n\n  /**\n   * 移除可视区域.删除 entity，移除图上的面\n   */\n  clearArea() {\n    const drawer = this.mapViewer.drawer\n    const visibleArea = this.getArea()\n    this.deleteEntity('area')\n    drawer.remove.one(visibleArea.data)\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Camera}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n\n    return this\n  }\n\n  /**\n   * 设置可视区域的显示和隐藏\n   */\n  setAreaVisible(visible = true) {\n    const drawer = this.mapViewer.drawer\n    const visibleAreaEntity = this.getEntity('area')\n    if (visibleAreaEntity) {\n      drawer.updateObjectVisible(visibleAreaEntity.gid, visible)\n    }\n  }\n}\n\nexport default Camera\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:48\n * @FILE: CameraBox.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_BOX } from '../../config'\nimport Camera from './index'\n\n/**\n * 枪机 (Box Camera)\n */\nclass CameraBox extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_BOX\n    this.typeName = '枪机'\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBox\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraSpeedDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_SPEED_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 球机 (Speed Dome Camera)\n */\nclass CameraSpeedDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_SPEED_DOME\n    this.typeName = '球机'\n    this.fileName = 'qiuji'\n\n    this.create()\n  }\n}\n\nexport default CameraSpeedDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:49\n * @FILE: CameraDome.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport { CAMERA_TYPE_DOME } from '../../config'\nimport Camera from './index'\n\n/**\n * 半球 (Dome Camera)\n */\nclass CameraDome extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CAMERA_TYPE_DOME\n    this.typeName = '半球'\n    this.fileName = 'banqiu'\n\n    this.create()\n  }\n}\n\nexport default CameraDome\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:52\n * @FILE: CameraFace.js\n * @Email: 958292256@qq.com\n * @Description 1: 1\n */\n\nimport { CATEGORY_FACE } from '../../config'\nimport Camera from './index'\n\n/**\n * 人脸\n */\nclass CameraFace extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_FACE\n    this.typeName = '人脸'\n    // TODO: 人脸的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\n\nexport default CameraFace\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:54\n * @FILE: CameraBayonet.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_BAYONET } from '../../config'\nimport Camera from './index'\n\n/**\n * 卡口\n */\nclass CameraBayonet extends Camera {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'CAMERA' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '监控'\n    this.type = CATEGORY_BAYONET\n    this.typeName = '卡口'\n    // TODO: 卡口的模型名称可能不是枪机,这里先用枪机\n    this.fileName = 'qiangji'\n\n    this.create()\n  }\n}\nexport default CameraBayonet\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\n\nimport ModelBase from '../../base'\n\nclass Door extends ModelBase {\n  static mapViewer = null\n  static model = '$DOOR'\n  static icon = '$ICON_DOOR'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Door.mapViewer) {\n      return\n    }\n\n    const model = Door.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Door._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Door.mapViewer = mapViewer\n    this.category = Door.model\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR\n    this.typeName = '门禁'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Door.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        // 额外添加图标\n        drawer.create.image(imageEntity)\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Door}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Door}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Door}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Door\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:21\n * @FILE: DoorHKFaceAccessTerminal.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL } from '../../config'\nimport Door from './index'\n\n// 门禁 - 海康人脸识别一体机\nclass DoorHKFaceAccessTerminal extends Door {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'DOOR' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '门禁'\n    this.type = CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL\n    this.typeName = '海康人脸识别一体机'\n    this.fileName = 'menjin'\n\n    this.create()\n  }\n}\n\nexport default DoorHKFaceAccessTerminal\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:04\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 门禁类设备\n */\nimport { CATEGORY_DOOR } from '../../config'\nimport ModelBase from '../../base'\n\nclass Intercom extends ModelBase {\n  static mapViewer = null\n  static model = '$INTERCOM'\n  static icon = '$ICON_INTERCOM'\n\n  static _getModelInstance = (entity) => {\n    if (!entity) {\n      return null\n    }\n\n    if (!Intercom.mapViewer) {\n      return\n    }\n\n    const model = Intercom.mapViewer.model\n    const adapter = model.getDeviceAdapter()\n    const modelSelector = adapter.getSelector()\n    return modelSelector.selectEntityById(entity.attr.id)\n  }\n\n  // 模型点击事件实例的处理函数\n  static modelClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 模型双击击事件实例的处理函数\n  static modelDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标点击事件的处理函数\n  static iconClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  // 图标双击事件的处理函数\n  static iconDoubleClickHandler = (entity) => {\n    console.log(entity)\n\n    const modelInstance = Intercom._getModelInstance(entity)\n    if (modelInstance) {\n      modelInstance.flyTo()\n    }\n  }\n\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    Intercom.mapViewer = mapViewer\n    this.category = Intercom.model\n    this.categoryName = '对讲'\n    this.type = CATEGORY_DOOR\n    this.typeName = '对讲'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n\n  create() {\n    const self = this\n    const config = this.config\n    const data = this.data || {}\n    const drawer = this.mapViewer.drawer\n    const event = this.mapViewer.event\n\n    // 模型\n    const modelEntity = drawer.config.model({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.model, data.id),\n      fileName: this.fileName,\n      scale: 1,\n      location: data?.options?.location || null\n    })\n\n    // 图标\n    const imageEntity = drawer.config.image({\n      attr: {\n        id: data.id\n      },\n      gid: this._concatGid(Intercom.icon, data.id),\n      style: this.fileName + '_icon',\n      location: self.getIconLocation(modelEntity?.location)\n    })\n\n    if (config.draw) {\n      // setMousePositionCallback 默认只触发一次\n      event.setMousePositionCallback((location) => {\n        modelEntity.location = location\n        imageEntity.location = self.getIconLocation(location)\n\n        //  绘制成功后,额外添加图标\n        drawer.create.image(imageEntity)\n\n        drawer.create.model(modelEntity, true).then((modelAttr) => {\n          config.onSuccess(modelAttr)\n        })\n\n        self.setModel(modelEntity)\n        self.setIcon(imageEntity)\n\n        this.markVisible(true)\n      })\n    } else {\n      self.setModel(modelEntity)\n      self.setIcon(imageEntity)\n\n      // 是否上图\n      if (config.onMap) {\n        drawer.create.model(modelEntity)\n        drawer.create.image(imageEntity, true)\n\n        this.markVisible(true)\n      }\n    }\n  }\n\n  /**\n   * 门禁定位\n   * @override\n   * @return {Intercom}\n   */\n  flyTo(config = { speed: 40, showLocation: false }) {\n    super.flyTo(config)\n    return this\n  }\n\n  // /**\n  //  * 门禁高亮\n  //  * @override\n  //  */\n  // highlight() {\n  //   const entity = this.getModel()\n  //   const mapViewer = this.mapViewer\n  //   this.clearHighlight().then(() => {\n  //     if (entity) {\n  //       // 目前只高亮模型即可\n  //       mapViewer.drawer.setObjectHighlight(entity?.gid)\n  //     }\n  //   })\n  //\n  //   return this\n  // }\n\n  /**\n   * 属性的更新，包括位置，配置项，数据\n   * modelInstance.update({\n   *   data: cameraProps,\n   *   // 位置变化了\n   *   changes: newCameraProps.options.location\n   * })\n   * @param {Object} updater\n   * @param {Object} updater.changes  特指模型位置的更新\n   * @param {Object} updater.data 特指与模型关联的数据更新\n   * @return {Intercom}\n   */\n  update(updater = {}) {\n    super.update(updater)\n    return this\n  }\n\n  /**\n   * @override 设置与整个实例关联的所有实体的可见性\n   * @param visible\n   * @return {Intercom}\n   */\n  setVisible(visible) {\n    super.setVisible(visible)\n    return this\n  }\n}\n\nexport default Intercom\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_INDOOR } from '../../config'\n\nclass IntercomHkIndoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_INDOOR\n    this.typeName = '海康对讲室内终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkIndoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/28 15:41\n * @FILE: IntercomHkIndoor.js\n * @Email: 958292256@qq.com\n * @Description: 海康对讲室外终端\n */\nimport Intercom from './index'\nimport { CATEGORY_INTERCOM_HK_OUTDOOR } from '../../config'\n\nclass IntercomHkOutdoor extends Intercom {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.category = 'INTERCOM' // 设备类别的名称.也用做GID的前缀\n    this.categoryName = '对讲'\n    this.type = CATEGORY_INTERCOM_HK_OUTDOOR\n    this.typeName = '海康对讲室外终端'\n    this.fileName = 'duijiang'\n\n    this.create()\n  }\n}\n\nexport default IntercomHkOutdoor\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 14:47\n * @FILE: index.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from '../base'\nimport { TYPE } from '../config'\n\nclass MapImage extends ModelBase {\n  constructor(mapViewer, ...props) {\n    super(mapViewer, ...props)\n    this.type = TYPE.image.typeName\n  }\n\n  create() {\n    super.create()\n  }\n\n  flyTo(config) {\n    super.flyTo(config)\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible)\n  }\n}\n\nexport default MapImage\n\n","/**\n * @Author: yangqixin\n * @TIME: 2022/8/6 17:38\n * @FILE: getClass.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\nimport ModelBase from './base'\nimport { TYPE } from './config'\nimport {\n  CAMERA_TYPE_BOX,\n  CAMERA_TYPE_DOME,\n  CAMERA_TYPE_SPEED_DOME,\n  CATEGORY_BAYONET,\n  CATEGORY_CAMERA,\n  CATEGORY_DOOR,\n  CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL,\n  CATEGORY_FACE,\n  CATEGORY_INTERCOM,\n  CATEGORY_INTERCOM_HK_INDOOR,\n  CATEGORY_INTERCOM_HK_OUTDOOR\n} from './config'\n\n// 监控类\nimport Camera from './devices/camera'\nimport CameraBox from './devices/camera/CameraBox'\nimport CameraSpeedDome from './devices/camera/CameraSpeedDome'\nimport CameraDome from './devices/camera/CameraDome'\nimport CameraFace from './devices/camera/CameraFace'\nimport CameraBayonet from './devices/camera/CameraBayonet'\n\n// 门禁类\nimport Door from './devices/door'\nimport DoorHKFaceAccessTerminal from './devices/door/DoorHKFaceAccessTerminal'\n\n// 对讲类\nimport Intercom from './devices/intercom'\nimport IntercomHkIndoor from './devices/intercom/IntercomHkIndoor'\nimport IntercomHkOutdoor from './devices/intercom/IntercomHkOutdoor'\n\n// 其它地图实体类\nimport MapModel from './model'\nimport MapText from './text'\nimport MapImage from './image'\n\nconst getModelClass = (data) => {\n  let ClassName = ModelBase\n  // categoryId 是针对设备类的\n  const categoryId = data.category_id\n\n  // type 是针对通用地图模型类的，所以需要每一个地图实体都有自己的类实现\n  const type = data.type\n\n  if (categoryId !== undefined) {\n    switch (categoryId) {\n      // 摄像头\n      case CATEGORY_CAMERA:\n        // 如果数据有问题默认这里就指定为Camera的实例\n        ClassName = Camera\n        break\n\n      case CAMERA_TYPE_BOX:\n        // 枪机 (Box Camera)\n        ClassName = CameraBox\n        break\n\n      case CAMERA_TYPE_SPEED_DOME:\n        // 球机 (Speed Dome Camera)\n        ClassName = CameraSpeedDome\n        break\n\n      case CAMERA_TYPE_DOME:\n        // 半球 (Dome Camera)\n        ClassName = CameraDome\n        break\n\n      case CATEGORY_FACE:\n        // 人脸\n        ClassName = CameraFace\n        break\n\n      case CATEGORY_BAYONET:\n        // 卡口\n        ClassName = CameraBayonet\n        break\n\n      // 门禁\n      case CATEGORY_DOOR:\n        ClassName = Door\n        break\n\n      // 对讲\n      case CATEGORY_INTERCOM:\n        ClassName = Intercom\n        break\n\n      // 海康对讲室内终端\n      case CATEGORY_INTERCOM_HK_INDOOR:\n        ClassName = IntercomHkIndoor\n        break\n\n      // 海康对讲室外终端\n      case CATEGORY_INTERCOM_HK_OUTDOOR:\n        ClassName = IntercomHkOutdoor\n        break\n\n      // 门禁 - 海康人脸识别一体机\n      case CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL:\n        ClassName = DoorHKFaceAccessTerminal\n        break\n\n      default:\n    }\n  } else if (type !== undefined) {\n\n    switch (type) {\n      case TYPE.image.typeName:\n        ClassName = MapImage\n        break\n    }\n  }\n\n  return ClassName\n}\n\nexport default getModelClass\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/2/21 11:25\n * @File: index.jsx\n * @Description 模型类 - 统一对数据的操作和行为\n */\n\nimport { modelOptions } from '../options'\nimport getModelClass from './getClass'\n/**\n * 模型工厂，负责生产模型实例\n * @factory\n */\nclass Model {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  create(data, config = modelOptions) {\n    let ClassName = getModelClass(data)\n    if (ClassName) {\n      return new ClassName(this.mapViewer, data, config)\n    }\n\n    console.warn(`device category of ${data.categoryId}, is not support yet.`)\n  }\n}\n\nexport default Model\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:44\n * @FILE: controller.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { batchModelOptions, modelOptions } from './options'\nimport Model from './category'\n\nconst { isArray, NOOP, toTypeString } = utils\n\n/**\n * @classdesc 模型实例化，销毁、更新的控制器\n * @class\n */\nclass ModelController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n  }\n\n  // 添加一个\n  addOne = (data, config = modelOptions) => {\n    return new Model(this.mapViewer).create(data, config)\n  }\n\n  updateOne = (instance, updater = {}) => {\n    instance?.update(updater)\n  }\n\n  deleteOne = (instance) => {\n    instance?.destroy()\n  }\n\n  /**\n   * 批量添加模型\n   * @param source {Array}\n   * @param options {Object}\n   */\n  addMany = (source, options = batchModelOptions) => {\n    const mapViewer = this.mapViewer\n    const drawer = mapViewer.drawer\n\n    options = Object.assign(\n      {},\n      {\n        size: 200,\n\n        onSuccess: NOOP,\n\n        onProgress: NOOP\n      },\n      options\n    )\n\n    const { size, onSuccess, onProgress } = options\n\n    if (!isArray(source)) {\n      console.error('type source must be an array, got ' + toTypeString(source))\n      return\n    }\n\n    const start = +new Date()\n    const sourceSize = source.length\n    const addModel = (startOffset, endOffset = 0) => {\n      const sourceSlice = source.slice(startOffset, endOffset)\n      if (startOffset > sourceSize - 1) {\n        const end = +new Date()\n\n        onProgress &&\n        onProgress({\n          progress: 100\n        })\n\n        console.log(\n          `加载 ${sourceSize} 个模型,共耗时: ${(end - start) / 1000}s. `\n        )\n\n        onSuccess && onSuccess()\n        return\n      }\n\n      drawer\n        .overLayerCreateObjects(sourceSlice)\n        .then(() => {\n          if (startOffset < sourceSize) {\n            onProgress &&\n            onProgress({\n              progress: Math.floor(\n                (Math.pow(10, 4) * (startOffset / sourceSize)) / 100\n              )\n            })\n\n            addModel(endOffset, endOffset + size)\n          }\n        })\n        // TODO: 有可能这里的错误回调都不执行，考虑看，使用定时器在这里做失败的继续添加\n        .catch((error) => {\n          console.error(error)\n          // 看看能否在失败后重新添加.如果是地图断开,这里也做提示\n          // addModel(endOffset, endOffset + size)\n        })\n    }\n\n    addModel(0, size)\n  }\n\n  // 批量更新\n  // 更新的逻辑比较复杂，涉及的更新类型比较多(更新可见性，)\n  /**\n   *\n   * @param instances {Array<ModelBase>}\n   * @param options {Object}\n   * @param options.visible {Boolean} 目前只考虑更新可见性\n   */\n  updateMany = (instances, options) => {\n    const entityToUpdate = instances.reduce((entities, instance) => {\n      entities.push(...instance.getAllEntities().map(entity => ({\n        ...entity.data,\n        ...options\n      })))\n      instance.markVisible(options.visible)\n      return entities\n    }, [])\n    // TODO: 通过内部 API 调用，而不是底层的 SetObjectsVisible， 避免出现造成点击事件失效的问题。\n    this.mapViewer.core.view3d.SetObjectsVisible(entityToUpdate)\n  }\n\n  // 批量删除\n  deleteMany = () => {\n  }\n}\n\nexport default ModelController\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:41\n * @FILE: adapter.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport Selector from './selector'\nimport ModelController from './controller'\nimport { batchModelOptions, modelOptions } from './options'\nimport { MODEL_INSTANCE_TYPE } from './category/base'\n\nconst { isArray } = utils\n\n/**\n * @classdesc 对所有模型进行管理的 Adapter\n * @class\n */\nclass EntityAdapter {\n  constructor(mapViewer) {\n    this.entity = {\n      // 每个数据原始的ID\n      ids: new Set(),\n\n      // 查询表，key是原始数据的ID，值是原始数据对象\n      data: new Map()\n    }\n\n    this.mapViewer = mapViewer\n\n    this.selector = new Selector(this.entity)\n\n    this.controller = new ModelController(this.mapViewer)\n  }\n\n  // 获取选择器实例\n  getSelector = () => {\n    return this.selector\n  }\n\n  // 要有一个专门处理将数据添加到地图的实例\n  getController = () => {\n    return this.controller\n  }\n\n  getInitialState = (initialState = null) => {\n    return Object.assign({}, this.entity, initialState)\n  }\n\n  addOne = (data, config = {}) => {\n    config = {\n      ...modelOptions,\n      ...config\n    }\n    // ID 可能是不存在的，这个要生成随机的 ID，以便后续可以查找到\n    const id = data.id\n    this.entity.ids.add(data.id)\n    // modelInstance 为某个模型对象的实例\n    const modelInstance = this.getController().addOne(data, config)\n    this.entity.data.set(id, modelInstance)\n\n    return modelInstance\n  }\n\n  /**\n   * 批量创建\n   * @param dataList {Array<Object | ModelBase>}\n   * @param config {Object}\n   */\n  addMany = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('addMany take array  as only argument.')\n      return\n    }\n\n    config = {\n      ...batchModelOptions,\n      ...config\n    }\n\n    let modelInstanceArray = []\n\n    if (config.instance) {\n      for (let item of dataList) {\n        // 批量添加时，创建每个模型的实例，但是都不上图，再后续的逻辑里批量上图\n        const modelInstance = this.addOne(item, {\n          ...modelOptions,\n          onMap: false\n        })\n        modelInstanceArray.push(modelInstance)\n      }\n\n    } else {\n      modelInstanceArray = dataList\n    }\n\n    // 这里用统一的批量加载\n    if (config.onMap) {\n      const { selectMapEntity } = this.getSelector()\n      let sourceEntities = selectMapEntity(modelInstanceArray)\n      this.controller.addMany(sourceEntities, {\n        ...config,\n        onSuccess: function() {\n          if (!config.instance) {\n            // 如果是不需要实例化的实例，这里更改他们的 visible，isCreated 状态\n            for (let instance of dataList) {\n              if (instance.$$typeof === MODEL_INSTANCE_TYPE) {\n                instance.markVisible(true)\n                instance.markCreated(true)\n              }\n            }\n          }\n        }\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * setAll 在整个应用生命周期中应该只执行一次。后续的操作可以通过addMany，addOne新增数据。\n   * 为的是区分首次加载数据和后续的数据增减。\n   * @param dataList\n   * @param config {Object}\n   */\n  setAll = (dataList = [], config = {}) => {\n    if (!isArray(dataList)) {\n      console.warn('setAll take array  as only argument.')\n      return\n    }\n\n    const options = {\n      ...batchModelOptions,\n      ...config,\n      isFirst: true\n    }\n\n    //  每次 setAll 都是重新添加元素\n    this.removeAll()\n\n    this.addMany(dataList, options)\n\n    return this\n  }\n\n  removeOne = (id) => {\n    if (!id) {\n      return\n    }\n    // entity里有上图的设备，应该从地图上移除\n    const instance = this.getSelector().selectEntityById(id)\n    this.getController().deleteOne(instance)\n\n    // 再把存起来的数据移除\n    this.entity.ids.delete(id)\n    this.entity.data.delete(id)\n\n    return this\n  }\n\n  /**\n   * 删除多个\n   * @param ids\n   */\n  removeMany = (ids) => {\n    if (!isArray(ids)) {\n      console.warn('removeMany take array  as only argument.')\n      return\n    }\n\n    // 先做单个删除\n    for (let id of ids) {\n      this.removeOne(id)\n    }\n\n    return this\n  }\n\n  /**\n   * 删除所有\n   * @returns {EntityAdapter}\n   */\n  removeAll = () => {\n    this.removeMany(Array.from(this.entity.ids))\n\n    this.entity.ids.clear()\n    this.entity.data.clear()\n\n    return this\n  }\n\n  /**\n   * data如果不存在， 则插入，如果存在则更新\n   * @param data\n   */\n  upsertOne = (data) => {\n    if (this.getSelector().selectDataById(data.id)) {\n      this.updateOne(data)\n    } else {\n      this.addOne(data)\n    }\n\n    return this\n  }\n\n  upsertMany = (dataList) => {\n    for (let item of dataList) {\n      this.upsertOne(item)\n    }\n\n    return this\n  }\n\n  updateOne = (\n    updater = {\n      data: null,\n      // 更新模型的配置选项，比如，图标显示和隐藏，模型显示和隐藏。\n      config: {},\n      changes: null\n    }\n  ) => {\n    let { data, config } = updater\n    if (!data || !data.id) {\n      return\n    }\n\n    config = {\n      ...modelOptions,\n      ...config\n    }\n\n    const instance = this.getSelector().selectEntityById(data.id)\n    if (instance) {\n      // 如果是同一类设备，做更新的逻辑， TODO： 如果是通用的模型，比如广告版，这里判定的逻辑将会不同。\n      if (instance.data.category_id === data.category_id) {\n        this.getController().updateOne(instance, updater)\n\n        // 如果改变了设备类别，创建新类别的设备实例，然后替换 entity\n      } else {\n        this.removeOne(data.id)\n        return this.addOne(data, config)\n      }\n      // 如果是没有保存过的模型实体。下面去创建\n    } else {\n      console.warn(\n        `Can not update for Id: ${data.id}, because it's instance don't exist.`\n      )\n    }\n  }\n\n  // TODO: 批量更新\n  updateMany = (updater = []) => {\n    if (!isArray(updater)) {\n      console.warn('updateMany take Array as only argument.')\n      return\n    }\n    // 目前先做单个的更新\n    for (let item of updater) {\n      this.updateOne(item)\n    }\n\n    return this\n  }\n\n  /**\n   * @desc 设置模型的显示和隐藏\n   * @param options {Object}\n   * @param options.visible {Boolean}\n   * @param options.buildId {String}\n   * @param options.floorId {String}\n   * @param options.outdoor {String}\n   */\n  setVisible(options = {}) {\n    const defaultOptions = {\n      visible: true, // 默认显示\n      outdoor: true, // 默认包含室外\n      buildId: '', // 默认不包含室内的设备\n      floorId: ''\n    }\n\n    // 考虑如何最小化对地图的操作，比如，不重复添加已经是 visible 状态的设备。\n    //  还有，考虑到有些模型是否已经完成上图。\n    //  未上图的设备，setVisible 意味着要 create，\n    //  已上图，但是 visible = false， 的设备，更新可见性\n\n    const { outdoor, buildId, floorId } = Object.assign(\n      {},\n      defaultOptions,\n      options\n    )\n\n    const selector = this.getSelector()\n\n    // 符合条件，本次应该显示/创建的模型\n    let instanceToShow = []\n\n    // 选择整栋楼\n    if (buildId && !floorId) {\n      instanceToShow = selector.filterEntityByBuilding(buildId)\n\n      // 选择某栋楼某一层\n    } else if (buildId && floorId) {\n      instanceToShow = selector.filterEntityByFloor(buildId, floorId)\n    }\n\n    // 是否包含室外\n    if (outdoor) {\n      instanceToShow = instanceToShow.concat(selector.filterOutDoorEntities())\n    }\n\n    // 过滤出已上图的， 即 data.onMap = true 的设备，这里的是否上图，指的是在数据中是否完成过上图，而不是是否添加到地图上\n    instanceToShow = instanceToShow.filter((instance) => instance.data.on_map)\n\n    let instanceToCreate = [] // 如果没有上过图的实例，需要上图\n    let instanceToUpdate = [] // 已经上过图的，根据 visible 的变化做更新\n    let instanceToHide = []\n\n    // 获取所有当前 visible 为 true 的实例, 而当前 visible 的实例，一定是 created 的。\n    const currentVisibleInstances = this.getVisible()\n\n    // 找出上一次显示的，本次隐藏的\n    for (let currentInstance of currentVisibleInstances) {\n      const shouldHide = instanceToShow.find(instance => instance.id === currentInstance.id)\n      if (!shouldHide) {\n        instanceToHide.push(currentInstance)\n      }\n    }\n\n    // 找出本次已创建的，需要显示的，\n    for (let currentInstance of instanceToShow) {\n      if (currentInstance.created) {\n        const shouldHide = currentVisibleInstances.find(instance => instance.id === currentInstance.id)\n        if (!shouldHide) {\n          instanceToUpdate.push(currentInstance)\n        }\n      }\n    }\n\n    // TODO: 通过比较当前需要更新的实例和已经是 visible 状态的实例来决定，哪些是需要新建的，哪些是需要隐藏的。\n\n    // 未创建过的，去创建\n    instanceToShow.forEach(instance => {\n      // 没有添加到地图的实例，添加到需要上图的队列里\n      if (!instance.created) {\n        instanceToCreate.push(instance)\n      }\n    })\n\n    // 设备实例，没有上过图的，批量创建\n    // 因为模型的实例已经初始化，所以这里要考虑的是，怎么不重复初始化实例，\n    // 而只做上图操作，且能更新对应属性\n    if (instanceToCreate && instanceToCreate.length > 0) {\n      this.addMany(instanceToCreate, {\n        // 确保模型上图\n        onMap: true,\n        // 不需要重复实例化实例\n        instance: false\n      })\n    }\n\n    // 需要显示的\n    if (instanceToUpdate && instanceToUpdate.length > 0) {\n      this.getController().updateMany(instanceToUpdate, {\n        visible: true\n      })\n    }\n\n\n    // 需要隐藏的\n    if (instanceToHide && instanceToHide.length > 0) {\n      this.getController().updateMany(instanceToHide, {\n        visible: false\n      })\n    }\n\n    return this\n  }\n\n  /**\n   * 返回当前所有上图的设备的示例\n   */\n  getVisible() {\n    const selector = this.getSelector()\n    return selector.selectEntities().filter((instance) => instance.visible)\n  }\n}\n\nexport default EntityAdapter\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:53\n * @FILE: base.js\n * @Email: 958292256@qq.com\n * @Description:\n */\n// import { utils } from '@ty/shared'\n// import Camera from '../category/devices/camera'\nimport * as utils from '../../utils'\nconst { isFunction } = utils\n\n// 事件的配置选项参数\nexport const defaultEventConfig = {\n  // 指定是否一次性的事件\n  isOnce: false,\n\n  // 这个是全局的配置。某一类事件，有一个回调指定了 defaultAction 会影响到所有注册的回调\n  // 是否执行默认的操作, 比如。监控的点击，默认会根据相机的视角进行跳转，传 false 来阻止默认的行为\n  defaultAction: true\n}\n\n/**\n * @class\n * @classdesc 模型事件的基类\n *            1. 定义事件的注册机制。保证各事件都只注册一次。\n *            2. 定义各类设备通用的事件集合。\n *             onClick: 模型点击\n *             onDoubleClick: 模型双击\n *             onIconClick: 图标点击\n *             onIconDoubleClick: 图标双击\n *             各设备还可以扩展自己的实现\n *\n *             TODO：实现可以阻止某一类设备，某一个事件的默认行为\n *\n *           3. 关于事件注册的说明：\n *              子类应该定义自己的事件类型命名空间。以防止不同类型事件因为事件类型名称相同而冲突\n */\nexport class EventBase {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 事件队列\n    this.events = new Map()\n\n    // 每一类设备都配一个默认的配置项\n    this.config = { ...defaultEventConfig }\n\n    //* 注意，子类需要自己调用注册事件的函数: this.listen()\n    //* 原因在于。this 指向在回调中需要绑定到子类\n  }\n\n  /**\n   * 全局配置的\n   */\n  config(option = defaultEventConfig) {\n    this.config = {\n      ...defaultEventConfig,\n      ...option\n    }\n  }\n\n  /**\n   * 获取某一类设备的全局配置\n   * @param key\n   */\n  getConfig(key) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      return eventMap.get('config')\n    }\n    return null\n  }\n\n  /**\n   * @desc 事件订阅\n   * @param key\n   * @param callback\n   * @param config\n   */\n  subscribe(key, callback, config = defaultEventConfig) {\n    /**\n     * events 的结构为：\n     *  {\n     *    key: {\n     *      config: {} // global config,\n     *      queue: [\n     *      {\n     *        callback: callback,\n     *        config, config\n     *      }\n     *    ]\n     *    }\n     *  }\n     *\n     */\n    const cachedEventMap = this.events.get(key)\n\n    const callbackMap = new Map()\n    callbackMap.set('callback', callback)\n    callbackMap.set('config', config)\n\n    if (cachedEventMap) {\n      const eventQueue = cachedEventMap.get('queue')\n      eventQueue.add(callbackMap)\n      // 更新某个事件类的全局配置\n      cachedEventMap.set('config', config)\n    } else {\n      const eventMap = new Map()\n      const eventQueue = new Set()\n      eventQueue.add(callbackMap)\n      eventMap.set('queue', eventQueue)\n      eventMap.set('config', config)\n      this.events.set(key, eventMap)\n    }\n  }\n\n  /**\n   * 移除事件订阅 - TODO: 待验证正确性\n   * @param {String} key 指定要移除的是什么类型的事件\n   * @param {Function} callback\n   */\n  unsubscribe(key, callback) {\n    const eventMap = this.events.get(key)\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      for (let eventMap of eventQueue.values()) {\n        // 从回调队列中，移除这个回调\n        if (eventMap.get('callback') === callback) {\n          eventQueue.delete(eventMap)\n        }\n      }\n\n      // 如果这一类事件的回调队列空了，直接移除这一类事件的队列\n      if (eventQueue.size === 0) {\n        this.events.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @desc 事件分发\n   * @param key\n   * @param args\n   */\n  dispatch(key, ...args) {\n    const eventMap = this.events.get(key)\n\n    if (eventMap) {\n      const eventQueue = eventMap.get('queue')\n      // const globalConfig = eventMap.get('config')\n      for (let eventMapItem of eventQueue.values()) {\n        const callback = eventMapItem.get('callback')\n        const callbackConfig = eventMapItem.get('config')\n        if (isFunction(callback)) {\n          callback(...args)\n        }\n\n        // 对于只需要触发一次的事件，调用后移除掉\n        if (callbackConfig && callbackConfig.isOnce) {\n          this.unsubscribe(key, callback)\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc 事件初始化的抽象方法 - 需要各类设备自己实现。因为各类设备的前缀只有自己知道\n   * @abstract\n   */\n  listen = () => {}\n\n  /**\n   * @desc 清空所有监听的事件\n   // * @abstract\n   */\n  clear() {\n    // 取消事件订阅\n    // this.unsubscribe()\n\n    // 清空回调列表\n    this.events.clear()\n  }\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offDoubleClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconClick(callback) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {}\n\n  /**\n   * @abstract\n   * @optional\n   * @param callback\n   */\n  offIconDoubleClick(callback) {}\n\n  /**\n   * @desc 模型的点击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelClickHandler() {}\n\n  /**\n   * @desc 模型的双击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _modelDoubleClickHandler() {}\n\n  /**\n   * @desc 图标的单击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconClickHandler() {}\n\n  /**\n   * @desc 图标的双击击事件回调， 需要子类自己实现\n   * @abstract\n   * @private\n   */\n  _iconDoubleClickHandler() {}\n}\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/19 09:37\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description: 监控类设备的事件处理器。主要负责监听事件和分发事件。实际的事件处理函数，还是在 Camera 基类里\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Camera from './index'\n\nclass CameraEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n  static AREA_CLICK = 'AREA_CLICK' // 可视区域单击\n  static AREA_DOUBLE_CLICK = 'AREA_DOUBLE_CLICK' // 可视区域双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Camera.modelClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(CameraEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 可视区域点击的事件处理函数\n  _areaClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_CLICK, entity)\n    }\n  }\n\n  // 可视区域双击的事件处理函数\n  _areaDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(CameraEvent.AREA_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Camera.areaDoubleClickHandler(entity)\n      }\n      this.dispatch(CameraEvent.AREA_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 实际初始化事件\n  /**\n   * @desc 在 EventBase 中，会执行各个子类的 listen 方法\n   * @autorun\n   */\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.setMouseClickCallback(\n      Camera.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Camera.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.model)\n      }\n    )\n\n    // 图标单击\n    event.setMouseClickCallback(\n      Camera.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Camera.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.icon)\n      }\n    )\n\n    // 可视区域单击\n    event.setMouseClickCallback(\n      Camera.area,\n      this._areaClickHandler.bind(this),\n      {\n        // 可视区域画的时候，因为地图会自己生成 GID，所以匹配点击事件时，用第二个参数\n        compareFunc: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Camera.area,\n      this._areaDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Camera.area)\n      }\n    )\n  }\n\n  /**\n   * TODO - 考虑看是否需要提供这样的能力。来移除注册的事件\n   * @desc 移除所有事件\n   */\n  clear() {}\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域单击\n   * @param callback\n   * @param config\n   */\n  onAreaClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域单击事件\n   * @param callback\n   */\n  offAreaClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_CLICK, callback)\n  }\n\n  /**\n   * @desc 可视区域双击\n   * @param callback\n   * @param config\n   */\n  onAreaDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(CameraEvent.AREA_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除可视区域双击事件\n   * @param callback\n   */\n  offAreaDoubleClick(callback) {\n    this.unsubscribe(CameraEvent.AREA_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default CameraEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Door from './index'\n\nclass DoorEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Door.modelClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig?.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconClickHandler(entity)\n      }\n      this.dispatch(DoorEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(DoorEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Door.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(DoorEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.setMouseClickCallback(\n      Door.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Door.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.model)\n      }\n    )\n\n    // 图标单击\n    event.setMouseClickCallback(Door.icon, this._iconClickHandler.bind(this), {\n      compareFunc: (_, gid) => gid.startsWith(Door.icon)\n    })\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Door.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Door.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(DoorEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(DoorEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default DoorEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/21 08:29\n * @FILE: event.js\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport { defaultEventConfig, EventBase } from '../../../event/base'\nimport Intercom from './index'\n\nclass IntercomEvent extends EventBase {\n  // 定义事件类型名 - 以供事件注册，事件触发时使用\n  static MODEL_CLICK = 'MODEL_CLICK' // 模型单击\n  static MODEL_DOUBLE_CLICK = 'MODEL_DOUBLE_CLICK' // 模型双击\n  static ICON_CLICK = 'ICON_CLICK' // 图标单击\n  static ICON_DOUBLE_CLICK = 'ICON_DOUBLE_CLICK' // 图标双击\n\n  constructor(mapViewer) {\n    super(mapViewer)\n\n    // 需要调用来初始化\n    this.listen()\n  }\n\n  // 模型点击事件的处理函数\n  _modelClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        Intercom.modelClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_CLICK, entity)\n    }\n  }\n\n  // 模型双击事件的处理函数\n  _modelDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.MODEL_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.modelDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.MODEL_DOUBLE_CLICK, entity)\n    }\n  }\n\n  // 图标点击事件的处理函数\n  _iconClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_CLICK, entity)\n    }\n  }\n\n  // 图标双击事件的处理函数\n  _iconDoubleClickHandler(entity) {\n    const modelCallbackConfig = this.getConfig(IntercomEvent.ICON_DOUBLE_CLICK)\n    if (modelCallbackConfig) {\n      const useDefaultAction = modelCallbackConfig.defaultAction\n      if (useDefaultAction) {\n        // 将实际默认的事件行为，交给具体模型类自己处理\n        Intercom.iconDoubleClickHandler(entity)\n      }\n\n      this.dispatch(IntercomEvent.ICON_DOUBLE_CLICK, entity)\n    }\n  }\n\n  listen = () => {\n    const event = this.mapViewer.event\n\n    // 模型的点击\n    event.setMouseClickCallback(\n      Intercom.model,\n      this._modelClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 模型双击\n    event.setMouseDoubleClickCallback(\n      Intercom.model,\n      this._modelDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.model)\n      }\n    )\n\n    // 图标单击\n    event.setMouseClickCallback(\n      Intercom.icon,\n      this._iconClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n\n    // 图标双击\n    event.setMouseDoubleClickCallback(\n      Intercom.icon,\n      this._iconDoubleClickHandler.bind(this),\n      {\n        compareFunc: (_, gid) => gid.startsWith(Intercom.icon)\n      }\n    )\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_CLICK, callback, config)\n  }\n\n  offClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback, config)\n  }\n\n  offDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.MODEL_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标单击\n   * @param callback\n   */\n  offIconClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n\n  /**\n   * @desc 模型的单击 - 模型单击，目前就做视角跳转，然后将点击的模型属性回传。\n   * @param callback\n   * @param config\n   */\n  onIconDoubleClick(callback, config = defaultEventConfig) {\n    this.subscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback, config)\n  }\n\n  /**\n   * @desc 移除图标双击事件\n   * @param callback\n   */\n  offIconDoubleClick(callback) {\n    this.unsubscribe(IntercomEvent.ICON_DOUBLE_CLICK, callback)\n  }\n}\n\nexport default IntercomEvent\n","/**\n * @Author: yangqixin\n * @TIME: 2022/4/16 13:42\n * @FILE: index.jsx\n * @Email: 958292256@qq.com\n * @Description:\n */\nimport CameraEvent from '../category/devices/camera/event'\nimport DoorEvent from '../category/devices/door/event'\nimport IntercomEvent from '../category/devices/intercom/event'\n\n/**\n * @class\n * @classdesc 模型事件管理器\n *            针对各类设备，分类监听各种事件（点击、双击）\n */\nclass EventController {\n  constructor(mapViewer) {\n    this.mapViewer = mapViewer\n\n    // 监控类事件\n    this.camera = new CameraEvent(mapViewer)\n\n    // 门禁类事件\n    this.door = new DoorEvent(mapViewer)\n\n    // 对讲类事件\n    this.intercom = new IntercomEvent(mapViewer)\n  }\n}\n\nexport default EventController\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/17 12:55\n * @File: index.jsx\n * @Description 模型控制器\n */\nimport EntityAdapter from './adapter'\nimport EventController from './event'\n\nimport * as config from './category/config'\nimport ModelController from './controller'\n\n/**\n * @classdesc model 模块导出的管理器类\n * @class\n */\nclass ModelManager {\n  constructor(view3d, mapViewer) {\n    this.view3d = view3d\n\n    this.mapViewer = mapViewer\n\n    // 用一个Map来保存创建的各类模型适配器\n    // this.adapter = new Map(\n\n    // 全局只使用一个 adapter 就够了，所有加载，显示隐藏的逻辑统一处理\n    this.adapter = new EntityAdapter(this.mapViewer)\n\n    // 全局的事件处理器\n    // 默认就对事件初始化，就运用了各个事件的默认响应行为\n    this.event = new EventController(mapViewer)\n\n    // 设备的类别码\n    this.category = config\n\n    this.controller = new ModelController(mapViewer)\n\n    // this.init()\n  }\n\n  // init() {}\n\n  // createAdapter = (key) => {\n  //   const adapter = new EntityAdapter(this.mapViewer)\n  //   this.adapter.set(key, adapter)\n  //   return adapter\n  // }\n  //\n  // getAdapter = (key) => {\n  //   let cachedAdapter = this.adapter.get(key)\n  //   if (!cachedAdapter) {\n  //     cachedAdapter = this.createAdapter(key)\n  //   }\n  //   return cachedAdapter\n  // }\n\n  getEvent = () => {\n    return this.event\n  }\n\n  getController = () => {\n    return this.controller\n  }\n\n  getAdapter = () => {\n    return this.adapter\n  }\n}\n\nexport default ModelManager\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\n/**\n * @class MapBuildMgr\n * @description Scene组件 分层管理\n */\nexport default class MapBuildMgr {\n  constructor(view3d, viewer) {\n    let _this = this\n    _this.view3d = view3d\n    _this.viewer = viewer\n\n    /**\n     * @description 复原按钮gid\n     * @type 1\n     */\n    _this.BTN_RESET_BUILD_GID = \"BTN_RESET_BUILD\"\n    /**\n     * @description 上一次楼层位置\n     * @type 1\n     */\n    this.lastBuildId = null\n    this.lastFloorObjCopy = null\n    /**\n     * @description 建筑信息\n     */\n    this.buildData = { list: [], obj: {} }\n    /**\n     * @description 地面高度\n     * @type {Number}\n     */\n    this.groundHeight = 20\n\n    this.isAddFloorEvent = true\n    /**\n     * @description 是否已经分离建筑\n     * @type {boolean}\n     */\n    this.isSplitBuilded = false\n    /**\n     * @description 是否允许分离建筑\n     * @type {boolean}\n     */\n    this.isSplitBuild = true\n    /**\n     * @description 是否允许分层\n     * @type {boolean}\n     */\n    this.isSplitFloor = true\n    /**\n     * @description 分层配置\n     * @property 1\n     */\n    this.settings = [\n      {\n        gid: \"V001_JZ0005_WK\",\n        buildId: \"V001_JZ0005\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0004_WK\",\n        buildId: \"V001_JZ0004\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0003_WK\",\n        buildId: \"V001_JZ0003\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 2,\n        direction: { x: 800, y: 3400, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0002_WK\",\n        buildId: \"V001_JZ0002\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 6,\n        direction: { x: 8700, y: -2000, z: 0 }\n      },\n      {\n        gid: \"V001_JZ0001_WK\",\n        buildId: \"V001_JZ0001\",\n        buildPolygon: [\n          { x: -15774.5546875, y: -21374.283203125, z: 19.998046875 },\n          { x: -15103.478515625, y: -16588.484375, z: 10 },\n          { x: -3732.82568359375, y: -19283.609375, z: 9.9990234375 },\n          { x: -4698.96337890625, y: -23969.734375, z: 30.0009765625 }\n        ],\n        waitSecond: 6,\n        showSecond: 6,\n        direction: { x: -6000, y: 1500, z: 0 }\n      }\n    ]\n\n    /**\n     * @description 是否已经初始化\n     * @type {boolean}\n     */\n    this.stateInit = false\n\n    /**\n     * @description 默认楼层之间间距高度\n     * @type 1\n     */\n    this.floorIntervalHeight = 550\n    this.setFloorIntervalHeight = (viewer, val) => {\n      this.floorIntervalHeight = val\n      this.refreshBuildData(viewer)\n    }\n    /**\n     * @description 楼层高度\n     */\n    this.floorHeight = 600\n    this.showFloorTypeEnum = {\n      LEFT_RIGHT: \"leftRight\",\n      UP_DOWN: \"upDown\",\n      NORMAL: \"normal\"\n    }\n    /**\n     * upDown, leftRight\n     */\n    this.splitType = \"normal\"\n\n    /**\n     * @description 初始化 楼层必要信息\n     */\n    this.init = async (ins) => {\n      let res = await this.getBuildData(ins)\n      if (this.stateInit === true) {\n        return res\n      } else {\n        this.stateInit = true\n      }\n\n      if (this.isAddFloorEvent) {\n        await this.addMouseCallback(ins) // 设置楼层点击事件\n      }\n      return res\n    }\n    this.addMouseCallbackLock = new utils.lock()\n    this.addMouseCallback = async (instance) => {\n      await this.getBuildData(instance)\n      instance.event.setMouseClickCallback(\"V00\", async (res) => {\n        if (\n          instance.build.isBuildFloor(res.gid) &&\n          this.lastFloorObjCopy &&\n          this.lastFloorObjCopy.gid === res.gid\n        ) {\n          return\n        }\n        if (instance.build.isBuildWK(res.gid)) {\n          console.log(\"点击建筑\", res)\n          let buildId = instance.build.getBuildIdByWKGid(res.gid)\n          this.lastBuildId = buildId\n          this.isSplitBuild && (await this.doSplitBuild(instance, buildId))\n          this.event.onBuildClick.triggerAll(instance, buildId)\n        }\n        if (instance.build.isBuildTitle(res.gid)) {\n          let buildId = instance.build.getBuildIdByWKGid(res.gid)\n          this.isSplitBuild && (await this.doSplitBuild(instance, buildId))\n          this.event.onBuildTitleClick.triggerAll(instance, buildId)\n        }\n        if (instance.build.isBuildFloor(res.gid)) {\n          let buildId = instance.build.getBuildIdByFloorGid(res.gid)\n          let floorId = instance.build.getFloorIdByFloorGid(res.gid)\n          this.isSplitFloor &&\n          this.doShowFloor(instance, buildId, floorId).then(() => {\n            _this.lastFloorObjCopy = JSON.parse(JSON.stringify(res)) // 判断是否是同一楼层\n          })\n          this.event.onFloorClick.triggerAll(instance, buildId, floorId)\n        }\n        if (instance.build.isFloorRoom(res.gid)) {\n          console.log(\"点击房间\")\n          let buildId = instance.build.getBuildIdByRoomGid(res.gid)\n          let floorId = instance.build.getFloorIdByRoomGid(res.gid)\n          this.isSplitFloor &&\n          this.doShowFloor(instance, buildId, floorId).then(() => {\n            _this.lastFloorObjCopy = JSON.parse(JSON.stringify(res)) // 判断是否是同一楼层\n          })\n          this.onRoomClick(instance, buildId, floorId, res.gid)\n          this.event.onRoomClick.triggerAll(instance, buildId, floorId, res.gid)\n        }\n      })\n    }\n    this.findSettingByGid = (buildId) => {\n      return this.settings.filter((x) => x.buildId === buildId)[0]\n    }\n    this.getBuildTopLocation = (buildInfo) => {}\n    this.BtnCtl = {\n      /**\n       * 点击可以分层的按钮\n       */\n      btnSplitBuilds: [],\n      // btnSplitBuildOffset: {},\n      isShowBtn: false,\n      isShowBtnBuildHasFloor: false,\n      /**\n       * @description 创建复原按钮\n       * @param instance\n       * @param res\n       * @param clickEvent\n       */\n      createBtnResetBuild(instance, buildId, clickEvent) {\n        if (!this.isShowBtn) return\n        _this.BtnCtl.removeBtnResetBuild(instance)\n        let buildInfo = _this.getBuildInfoById(buildId)\n        let lastFloor = buildInfo.floors[buildInfo.floors.length - 1]\n        let searchId = buildId\n        if (lastFloor) {\n          // 存在最顶层\n          searchId = lastFloor.gid\n          let btnLocation = FloorApi.getBtnLocationByBuildId(buildId)\n          let loc = btnLocation\n            ? btnLocation\n            : {\n              ...lastFloor.location,\n              z: lastFloor.locationSplit.z + _this.floorHeight\n            }\n\n          function bak() {\n            instance.drawer.create\n              .imageLabel(\n                {\n                  gid: _this.BTN_RESET_BUILD_GID,\n                  iconstyle: \"return.png\",\n                  location: loc,\n                  screen: false,\n                  scale: 1,\n                  text: \"结束分层\",\n                  fontsize: \"500\"\n                },\n                true\n              )\n              .then(() => {\n                instance.event.setMouseClickCallback(\n                  _this.BTN_RESET_BUILD_GID,\n                  () => {\n                    clickEvent()\n                  }\n                )\n              })\n          }\n\n          instance.drawer.create\n            .image(\n              {\n                gid: _this.BTN_RESET_BUILD_GID,\n                style: \"qiangji\",\n                location: loc,\n                screen: true,\n                scale: 1\n              },\n              true\n            )\n            .then(() => {\n              instance.event.setMouseClickCallback(\n                _this.BTN_RESET_BUILD_GID,\n                () => {\n                  clickEvent()\n                }\n              )\n            })\n        }\n      },\n      /**\n       * 复原建筑方法\n       */\n      resetBuildFunc: () => {},\n      /**\n       * 删除建筑复原按钮\n       * @param instance\n       */\n      removeBtnResetBuild(instance) {\n        if (_this.BtnCtl.isShowBtn === true) return\n        instance.drawer.remove.oneById(_this.BTN_RESET_BUILD_GID)\n      },\n      /**\n       * 添加复原楼层按钮\n       * @param instance\n       * @param location\n       * @param clickEvent\n       */\n      createBtnResetFloor(instance, buildId, floorId, clickEvent) {\n        if (!this.isShowBtn) return new Promise((resolve) => resolve())\n        return new Promise((rootResolve) => {\n          if (_this.isSplitBuilded === false) {\n            // 防止异步操作\n            rootResolve()\n            return\n          }\n          let buildInfo = _this.getBuildInfoById(buildId)\n          let floorInfo = _this.getFloorInfoById(buildId, floorId)\n          let btnLocation = FloorApi.getBtnLocationByBuildId(buildId) // 按钮位置\n          let loc = { ...floorInfo.location }\n          if (btnLocation) {\n            loc.x = btnLocation.x\n            loc.y = btnLocation.y\n          }\n          loc.z += _this.floorHeight\n          this.removeBtnResetFloor(instance)\n\n          function bak() {\n            instance.drawer.create\n              .imageLabel({\n                gid: \"BTN_RESET_FLOOR_GID\",\n                iconstyle: \"return.png\",\n                location: loc,\n                screen: false,\n                scale: 1,\n                text: \"复 原 楼 层\",\n                fontsize: \"500\"\n              })\n              .then(() => {\n                instance.event.setMouseClickCallback(\n                  \"BTN_RESET_FLOOR_GID\",\n                  (res) => {\n                    clickEvent && clickEvent()\n                  }\n                )\n              })\n          }\n\n          instance.drawer.create\n            .image({\n              gid: \"BTN_RESET_FLOOR_GID\",\n              iconstyle: \"qiangji\",\n              location: loc,\n              screen: true,\n              scale: 1\n            })\n            .then(() => {\n              rootResolve()\n              instance.event.setMouseClickCallback(\n                \"BTN_RESET_FLOOR_GID\",\n                (res) => {\n                  clickEvent && clickEvent()\n                }\n              )\n            })\n        })\n      },\n      removeBtnResetFloor(instance) {\n        if (!this.isShowBtn) return\n        instance.drawer.remove.oneById(\"BTN_RESET_FLOOR_GID\").then(() => {})\n      },\n      /**\n       * 复原楼层方法\n       */\n      resetFloorFunc: () => {},\n      /**\n       * 是否绘制可以掀层的图标\n       */\n      hasFloorRectWidth: 5000,\n      setHasFloorRectWidth(w) {\n        this.hasFloorRectWidth = w\n      },\n      /**\n       * 创建是否有室内建筑标注\n       * @param instance\n       * @param bDataList\n       */\n      async createBtnBuildHasFloor(instance, bDataList) {\n        let hasFloorsBuildInfos = await _this.getBuildDataHasFloor(instance)\n        if (\n          hasFloorsBuildInfos.list.length === 0 ||\n          _this.BtnCtl.isShowBtnBuildHasFloor === false\n        ) {\n          return\n        }\n\n        for (const item of hasFloorsBuildInfos.list) {\n          let buildId = item.id\n\n          function getRectByPoint(point, width) {\n            return [\n              { x: point.x - width / 2, y: point.y + width / 2, z: point.z },\n              { x: point.x - width / 2, y: point.y - width / 2, z: point.z },\n              { x: point.x + width / 2, y: point.y - width / 2, z: point.z },\n              { x: point.x + width / 2, y: point.y + width / 2, z: point.z }\n            ]\n          }\n\n          let showConfigArr = FloorApi.getShowConfig()\n          let showConfig = showConfigArr.filter((x) => x.buildId === buildId)[0]\n          if (!showConfig) {\n            return\n          }\n\n          // 显示配置项\n          let points = showConfig.points ? showConfig.points : null\n          if (!points) {\n            return\n          }\n          const ACTOR = instance.drawer.ACTOR // 模型样式枚举\n          let res = await instance.drawer.create.polygon3d({\n            gid: this.getHasFloorGid(buildId),\n            edgestyle: ACTOR.LINE.SIM_ARRAW,\n            points: points,\n            attr: { buildGid: item.gid }\n          })\n          _this.BtnCtl.btnSplitBuilds.push(res)\n        }\n      },\n      /**\n       * 根据id创建有楼层的标注\n       * @param instance\n       * @param bId\n       * @param clickEvent\n       */\n      ctBtnBuildHasFloorByBId(instance, bId) {\n        FloorApi.getShowConfig().then((fRes) => {\n          let bData = fRes.filter((x) => x.id === bId)[0]\n          if (bData) {\n            function getRectByPoint(point, width) {\n              return [\n                { x: point.x - width / 2, y: point.y + width / 2, z: point.z },\n                { x: point.x - width / 2, y: point.y - width / 2, z: point.z },\n                { x: point.x + width / 2, y: point.y - width / 2, z: point.z },\n                { x: point.x + width / 2, y: point.y + width / 2, z: point.z }\n              ]\n            }\n\n            let points = bData.points\n              ? bData.points\n              : getRectByPoint(bData.location, _this.BtnCtl.hasFloorRectWidth)\n\n            instance.drawer.create\n              .polygon3d({\n                gid: this.getHasFloorGid(bData.id),\n                edgestyle: STYLES.sim_arraw,\n                points: points,\n                attr: { buildGid: bData.gid }\n              })\n              .then((res) => {\n                if (\n                  !_this.BtnCtl.btnSplitBuilds.some((x) => x.gid === res.gid)\n                ) {\n                  _this.BtnCtl.btnSplitBuilds.push(res)\n                }\n              })\n          }\n        })\n      },\n      getHasFloorGid(buildId) {\n        return \"BTN_SPLIT_BUILD_\" + buildId\n      },\n      rmBtnBuildHasFloorAll(instance) {},\n      /**\n       * 删除\n       * @param instance\n       * @param buildId\n       */\n      rmBtnBuildHasFloorByBId(instance, buildId) {\n        let gid = this.getHasFloorGid(buildId)\n        instance.drawer.remove.oneById(gid)\n        _this.BtnCtl.btnSplitBuilds = _this.BtnCtl.btnSplitBuilds.filter(\n          (x) => x.gid !== gid\n        )\n      },\n      /**\n       * 刷新\n       * @param instance\n       * @param buildId\n       */\n      rfBtnBuildHasFloorByBId(instance, buildId) {\n        this.rmBtnBuildHasFloorByBId(instance, buildId)\n        this.ctBtnBuildHasFloorByBId(instance, buildId)\n      },\n      getBtnBuildHasFloor() {\n        return _this.BtnCtl.btnSplitBuilds\n      },\n      getBtnBuildHasFloorByBuildGid(gid) {\n        return _this.BtnCtl.btnSplitBuilds.filter(\n          (x) => x.attr.buildGid === gid\n        )[0]\n      },\n      /**\n       * 根据id显示建筑有室内\n       * @param instance\n       * @param buildGid\n       * @param visible\n       */\n      setVisibleBtnBuildHasFloorByBuildGid(instance, buildGid, visible) {\n        let mo = _this.BtnCtl.getBtnBuildHasFloorByBuildGid(buildGid)\n        if (\n          mo &&\n          (_this.BtnCtl.isShowBtnBuildHasFloor === visible || visible === false)\n        ) {\n          instance.drawer.updateObjectVisibleAsync(mo.gid, visible)\n        }\n      },\n      /**\n       * 显隐所有建筑有室内\n       * @param instance\n       * @param visible\n       */\n      setVisibleBtnBuildHasFloorAll(instance, visible) {\n        if (\n          _this.BtnCtl.isShowBtnBuildHasFloor === visible ||\n          visible === false\n        ) {\n          _this.BtnCtl.btnSplitBuilds.forEach((mo) => {\n            instance.drawer.updateObjectVisibleAsync(mo.gid, visible)\n          })\n        }\n      }\n    }\n\n    /**\n     * 建筑分离\n     * @param instance\n     * @param buildId\n     */\n    this.doSplitBuild = async (instance, buildId) => {\n      _this.BtnCtl.resetFloorFunc = () => {} // 清空复原楼层方法\n      // 隐藏分层按钮\n      let buildGid = instance.build.getBuildGidByBuildId(buildId)\n      let buildInfo = _this.getBuildInfoById(buildId) // 获取楼层信息\n      if (buildInfo.floors.length === 0) {\n        return\n      }\n\n      _this.resetAllBuildingWrap(instance)\n\n      // 隐藏有楼层标注\n      _this.BtnCtl.setVisibleBtnBuildHasFloorByBuildGid(\n        instance,\n        buildGid,\n        false\n      )\n      // if (_this.BtnCtl.isShowBtn === true) {\n      _this.BtnCtl.removeBtnResetBuild(instance) // 删除之前创建的按钮\n      _this.BtnCtl.removeBtnResetFloor(instance)\n      _this.BtnCtl.resetBuildFunc = async () => {\n        _this.event.onResetBuild.triggerAll(buildId, buildInfo)\n        _this.isSplitBuilded = false\n        buildInfo.floors.forEach((x) => (x.isMoved = false)) // 还原\n        _this.resetAllBuildingWrap(instance)\n        _this.BtnCtl.removeBtnResetBuild(instance)\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        _this.lastFloorObjCopy = null // 置空\n        _this.lastBuildId = null\n      }\n      // 创建分层复原按钮\n      _this.BtnCtl.createBtnResetBuild(instance, buildId, () => {\n        _this.BtnCtl.resetBuildFunc()\n      })\n      // } else {\n      //   _this.BtnCtl.resetBuildFunc = () => {\n      //     _this.onResetBuild && _this.onResetBuild(buildId, buildInfo) // 复原楼层事件\n      //     _this.isSplitBuilded = false\n      //     buildInfo.floors.forEach((x) => (x.isMoved = false)) // 还原\n      //     _this.resetAllBuildingWrap(instance)\n      //     lastFloorObjCopy = null // 置空\n      //   }\n      // }\n\n      _this.event.onSplitBuild.triggerAll(buildId, buildInfo)\n\n      // 实际执行split\n      await _this._splitBuildAnimation(\n        instance,\n        buildId,\n        _this.floorIntervalHeight\n      )\n\n      _this.event.onSplitBuildEnd.triggerAll(buildId, buildInfo)\n\n\n      // 判断是否有地下\n      // if (\n      //   buildInfo.floors.filter((x) => x.floorname.indexOf(\"B\") > -1)\n      //     .length > 0\n      // ) {\n      //   instance.build.setGroundVisible(false)\n      // } else {\n      //   instance.build.setGroundVisible(true)\n      // }\n    }\n    /**\n     * 分层方法\n     * @param instance MapViewer\n     * @param buildId 建筑id\n     * @param floorId 楼层id\n     */\n    this.doShowFloor = (instance, buildId, floorId) => {\n      return new Promise((resolve) => {\n        let success = (res) => {\n          resolve(res)\n          let floorInfo = _this.getFloorInfoById(buildId, floorId)\n          _this.event.onSplitFloor.triggerAll(buildId, floorId, floorInfo)\n        }\n        switch (_this.splitType) {\n          case _this.showFloorTypeEnum.LEFT_RIGHT:\n            _this\n              ._doShowFloorByMoveBySetting(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n          case _this.showFloorTypeEnum.UP_DOWN:\n            _this\n              ._doShowFloorByUpDown(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n          default:\n            _this\n              ._doShowFloorOld(instance, buildId, floorId)\n              .then((res) => success(res))\n            break\n        }\n      })\n    }\n    this.resetAllBuildingWrap = (instance) => {\n      instance.build.resetAllBuildings()\n      // let arr = _this.BtnCtl.getBtnBuildHasFloor()\n      // arr.forEach((x) => {\n      //   instance.drawer.updateObjectVisibleAsync(x.gid, true)\n      // })\n      _this.BtnCtl.setVisibleBtnBuildHasFloorAll(instance, true)\n    }\n\n    /**\n     * @description 根据相机分层\n     * @function\n     * @private\n     */\n    this._doShowFloorByMoveByCamera = (instance, buildId, floorId) => {\n      let res = _this.getFloorInfoById(buildId, floorId)\n      // let floorId = instance.build.getFloorIdByFloorGid(res.gid)\n      // showFloor(instance, buildCurr.current, floorId)\n      // 移动floor\n      instance.camera.getCurrentPosition().then((cameraPos) => {\n        let floorPos = res.location\n        resetLastFloor(instance, res.gid)\n        let copyTmp = JSON.parse(JSON.stringify(res))\n        let copyTmpForLocation = JSON.parse(JSON.stringify(res)) // 用于变换位置\n        let offset = {\n          xOffset: floorPos.x - cameraPos.x,\n          yOffset: floorPos.y - cameraPos.y\n        }\n        let floorPosNew = { ...floorPos, x: cameraPos.x, y: cameraPos.y } // 保存之前的z值\n        copyTmpForLocation.location = floorPosNew\n        delete copyTmpForLocation.position\n        if (_this.lastFloorObjCopy && _this.lastFloorObjCopy.gid !== res.gid) {\n          setTimeout(() => {\n            instance.drawer.updateObjectsAsync([copyTmpForLocation])\n          }, 4000)\n        } else if (_this.lastFloorObjCopy === null) {\n          // 第一次直接执行\n          instance.drawer.updateObjectsAsync([copyTmpForLocation])\n        }\n        _this.lastFloorObjCopy = copyTmp\n      })\n    }\n    /**\n     * @description 左右分层\n     * @function\n     * @private\n     */\n    this._doShowFloorByMoveBySetting = async (instance, buildId, floorId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      let floorInfo = _this.getFloorInfoById(buildId, floorId)\n      let floorPos = floorInfo.location\n      let showFloorSetting = _this.findSettingByGid(buildId)\n      if (!showFloorSetting) {\n        console.error(`建筑${buildId} showFloorSetting 未配置`)\n        return\n      }\n\n      /**\n       * 还原上次楼层位置\n       */\n      async function resetLastFloor(instance, gid, isForce = false) {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        if (\n          (!_this.lastFloorObjCopy || _this.lastFloorObjCopy.gid === gid) &&\n          isForce === false\n        ) {\n          return\n        }\n\n        let arr = []\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        buildInfo.floors.forEach((f) => {\n          f.location = f.locationSplit\n          arr.push(f)\n          f.rooms.forEach((r) => {\n            r.location = r.locationSplit\n            arr.push(r)\n          })\n        })\n        await instance.drawer.updateObjectsAsync(\n          arr,\n          showFloorSetting.waitSecond * 1000\n        )\n        _this.lastFloorObjCopy = null\n      }\n\n      // 复原当前\n      _this.BtnCtl.resetFloorFunc = async () => {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        let arr = []\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        buildInfo.floors.forEach((f) => {\n          f.location = f.locationSplit\n          arr.push(f)\n          f.rooms.forEach((r) => {\n            r.location = r.locationSplit\n            arr.push(r)\n          })\n        })\n        await instance.drawer.updateObjectsAsync(\n          arr,\n          showFloorSetting.waitSecond * 1000\n        )\n\n        _this.BtnCtl.resetFloorFunc = () => {}\n      }\n\n      await resetLastFloor(instance, floorInfo.gid)\n      // 如果是顶楼不做任何事\n      if (buildInfo.floors[buildInfo.floors.length - 1].gid === floorInfo.gid) {\n        return\n      }\n\n      if (\n        !_this.lastFloorObjCopy ||\n        _this.lastFloorObjCopy.gid !== floorInfo.gid\n      ) {\n        let copyTmp = JSON.parse(JSON.stringify(floorInfo)) // 用于保存上一次变换\n        let updateObjs = [\n          {\n            ...copyTmp,\n            location: {\n              ...floorPos,\n              x: floorPos.x + showFloorSetting.direction.x,\n              y: floorPos.y + showFloorSetting.direction.y\n            }\n          }\n        ]\n        copyTmp.rooms.forEach((r) => {\n          r.location = {\n            ...r.location,\n            x: r.location.x + showFloorSetting.direction.x,\n            y: r.location.y + showFloorSetting.direction.y\n          }\n          updateObjs.push(r)\n        })\n\n        // 更新楼层位置动画\n        await instance.drawer.updateObjectsAsync(\n          updateObjs,\n          showFloorSetting.showSecond * 1000\n        )\n        _this.lastFloorObjCopy = copyTmp\n        // 绘制图标\n        await _this.BtnCtl.createBtnResetFloor(\n          // 创建复原楼层图标\n          instance,\n          buildId,\n          floorId,\n          () => {\n            resetLastFloor(instance, floorInfo.gid, true) // 指定关闭, 点击相同楼层\n          }\n        )\n      }\n    }\n    /**\n     * @function\n     * @private\n     * @description 上下分层\n     */\n    this._doShowFloorByUpDown = async (instance, buildId, floorId) => {\n      let res = _this.getFloorInfoById(buildId, floorId)\n\n      _this.BtnCtl.resetFloorFunc = (instance) => {\n        if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n        let updateObjs = []\n        buildInfo.floors.forEach((x) => {\n          x.location = { ...x.locationSplit } // 还原位置\n          updateObjs.push(x)\n          x.rooms.forEach((r) => {\n            r.location = { ...r.locationSplit }\n            updateObjs.push(r)\n          })\n        })\n        _this.BtnCtl.removeBtnResetFloor(instance)\n        // 执行更新\n        return instance.drawer.updateObjectsAsync(updateObjs, 1000)\n      }\n\n      // 移动floor\n      let buildInfo = _this.getBuildInfoById(buildId)\n\n      // 如果是顶楼不做任何事\n      if (buildInfo.floors[buildInfo.floors.length - 1].gid === res.gid) {\n        return\n      }\n\n      // 移动位置\n      let isFoundFloor = false // 是否找到点击的楼层\n      let updateObjs = []\n      // 计算位置\n      for (let i = 0; i < buildInfo.floors.length; i++) {\n        let f = buildInfo.floors[i]\n        if (isFoundFloor === true) {\n          let moveHeight = 10000\n          f.isMoved = true // 已经移动\n          f.location.z = f.locationSplit.z + moveHeight // 计算高度\n          updateObjs.push(f)\n          f.rooms.forEach((r) => {\n            r.location.z = r.locationSplit.z + moveHeight\n            updateObjs.push(r)\n          })\n        } else {\n          // 未找到的还原到原来的位置\n          f.location = { ...f.locationSplit } // 还原位置\n          updateObjs.push(f)\n          f.rooms.forEach((r) => {\n            r.location = { ...r.locationSplit }\n            updateObjs.push(r)\n          })\n        }\n        if (res.gid === f.gid) {\n          // 找到点击的楼层 从此处需要移动\n          isFoundFloor = true\n        }\n      }\n\n      // 创建复原楼层图标\n      await _this.BtnCtl.createBtnResetFloor(instance, buildId, floorId, () => {\n        _this.BtnCtl.resetFloorFunc(instance)\n      })\n      updateObjs = JSON.parse(JSON.stringify(updateObjs))\n      updateObjs.forEach((x) => {\n        delete x.rooms\n        delete x.locationOrigin\n        delete x.locationSplit\n      })\n      await instance.drawer.updateObjectsAsync(updateObjs, 1000)\n    }\n    /**\n     * @function\n     * @private\n     * @description 楼层分层显示\n     * @param buildId 例 V001_JZ0001\n     * @param floorId 例 V001_JZ0001_F004\n     */\n    this._doShowFloorOld = async (instance, buildId, floorId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      if (!buildInfo) {\n        console.error(`${buildId} 不存在`)\n        return\n      }\n      if (!buildInfo.floors || !utils.isArray(buildInfo.floors)) {\n        console.error(\n          `${buildId} 楼层信息:${buildInfo.floors} 不存在或者不是数组`\n        )\n        return\n      }\n\n      for (const floor of buildInfo.floors) {\n        let floorName = instance.build.getFloorNameByFloorId(floorId)\n        instance.build.setFloorVisible(\n          buildId,\n          floor.floorname,\n          _this.floorLessEq(floor.floorname, floorName) <= 0\n        )\n      }\n      if (_this.BtnCtl.isShowBtn === true) {\n        _this.BtnCtl.resetFloorFunc = () => {\n          if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n          // 还原所有\n          for (const floor of buildInfo.floors) {\n            let floorName = instance.build.getFloorNameByFloorId(floorId)\n            instance.build.setFloorVisible(buildId, floor.floorname, true)\n          }\n          _this.BtnCtl.removeBtnResetFloor(instance)\n        }\n        // 创建复原楼层图标\n        await _this.BtnCtl.createBtnResetFloor(\n          instance,\n          buildId,\n          floorId,\n          () => {\n            _this.BtnCtl.resetFloorFunc()\n          }\n        )\n      } else {\n        _this.BtnCtl.resetFloorFunc = () => {\n          if (_this.isSplitBuilded === false) return // 如果没有分离建筑\n          for (const floor of buildInfo.floors) {\n            // 还原所有\n            let floorName = instance.build.getFloorNameByFloorId(floorId)\n\n            instance.build.setFloorVisible(buildId, floor.floorname, true)\n          }\n        }\n      }\n\n      // // 显示路网\n      // PathMgr.drawByFloorName(\n      //   instance,\n      //   instance.build.getFloorNameByFloorId(floorId)\n      // )\n    }\n    /**\n     * @description 分离建筑\n     * @function\n     * @private\n     * @param instance\n     * @param buildId\n     */\n    this._splitBuildAnimation = async (instance, buildId) => {\n      if (instance) {\n        _this.isSplitBuilded = true\n        // 查询当前建筑的楼层\n        let floors = _this.getBuildInfoById(buildId).floors\n        // 隐藏建筑外壳\n        let updateObjs = []\n        for (let i = 0; i < floors.length; i++) {\n          let item = floors[i]\n          if (item.gid.indexOf(\"B\") < 0) {\n            item.location = { ...item.locationSplit }\n            item.visible = true\n            updateObjs.push(item)\n            for (let j = 0; j < item.rooms.length; j++) {\n              let room = item.rooms[j]\n              room.location = { ...room.locationSplit }\n              room.visible = true\n              updateObjs.push(room)\n            }\n          }\n        }\n        await instance.build.setBuildingVisible(buildId, false)\n        await instance.drawer.setObjectsVisibleAsync(updateObjs, 100)\n        await instance.drawer.updateObjectsAsync(updateObjs, 500)\n      }\n    }\n    /**\n     * @description 定位到位置\n     * @param instance\n     * @param pos\n     * @param dis\n     * @param isBefore 是否在模型前面\n     */\n    this._flyToPositionView = (instance, pos, dis = 300, isBefore = 1) => {\n      instance.camera.getCurrentPosition().then((res) => {\n        let posNew = JSON.parse(JSON.stringify(pos))\n        posNew.yaw = res.yaw\n        // if (isBefore) {\n        //   posNew.yaw = (posNew.yaw + 180) % 360\n        // }\n        let y = Math.sin((posNew.yaw / 180) * Math.PI) * dis\n        let x = Math.cos((posNew.yaw / 180) * Math.PI) * dis\n        posNew.x -= x\n        posNew.y -= y\n        posNew.z += dis\n        posNew.pitch = 45\n        instance.camera.flyToPosition(posNew)\n      })\n    }\n    /**\n     * @description 楼层判断\n     * @param f1 F002\n     * @param f2 F001\n     */\n    this.floorLessEq = (f1, f2) => {\n      let arr = [\"B\", \"W\", \"F\"]\n      let floorFlag1 = f1.substr(0, 1) // F\n      let floorFlag2 = f2.substr(0, 1) // F\n\n      let floorNum1 = Number(f1.substr(1)) // 1\n      let floorNum2 = Number(f2.substr(1)) // 2\n\n      let floorFlagTmp1 = floorFlag1 === \"M\" ? \"F\" : floorFlag1 // 将M临时替换成F\n      let floorFlagTmp2 = floorFlag2 === \"M\" ? \"F\" : floorFlag2\n\n      let floorFlagIdx1 = arr.indexOf(floorFlagTmp1)\n      let floorFlagIdx2 = arr.indexOf(floorFlagTmp2)\n\n      if (floorFlagIdx1 !== floorFlagIdx2) {\n        // 楼层标志不相同\n        return floorFlagIdx1 - floorFlagIdx2\n      } else {\n        // 楼层相同\n        // 同是地面, 地下\n        if (floorFlagTmp1 !== \"F\") {\n          // B,W\n          // 同是地下B, 地面\n          return -(floorNum1 - floorNum2)\n        } else {\n          // F\n          // 同是地上\n          if (floorNum1 !== floorNum2) {\n            // 地上楼层不相等\n            return floorNum1 - floorNum2\n          } else {\n            // 地上楼层相等\n            if (floorFlag1 === floorFlag2) {\n              // 完全相等\n              return 0\n            } else {\n              return floorFlag1 === \"F\" ? -1 : 1\n            }\n          }\n        }\n      }\n    }\n    this.getBuildDataLock = new utils.lock()\n    /**\n     * @description 获取地图内部, 建筑数据\n     * @function\n     * @param instance\n     */\n    this.getBuildData = async (instance) => {\n      await _this.getBuildDataLock.lock()\n      if (_this.buildData.list.length > 0) {\n        _this.getBuildDataLock.unlock()\n        return _this.buildData\n      } else {\n        let builds = await instance.build.getBuildingNamesSync()\n        _this.buildData.list = builds\n        for (let i = 0; i < builds.length; i++) {\n          let build = builds[i]\n          _this.buildData.obj[build.id] = build // 构造键值对\n\n          build.gid = build.id + \"_WK\" //设置gid\n          let buildMos = await instance.drawer.findObjectByPrefix(build.id, 200) // 查询相关模型\n          // for (const x of buildMos) {\n          //   let mo = await instance.drawer.findObjectById(x.gid, 10)\n          //   if (mo.gid === x.gid) x.location = mo.location\n          // }\n\n          build.xps = buildMos.filter((x) => instance.build.isBuildXP(x.gid)) // 其他模型\n          build.floors = [] // 下面构造\n          build.location = (\n            await instance.drawer.findObjectById(build.gid)\n          ).location // 保存建筑位置\n          // const res = instance.build.getFloorNamesSync(build.id)\n\n          let buildFloorMos = buildMos.filter((x) => {\n            return (\n              x.gid.indexOf(\"B\") < 0 &&\n              (instance.build.isBuildFloor(x.gid) ||\n                instance.build.isFloorXP(x.gid) ||\n                instance.build.isFloorRoom(x.gid))\n            )\n          })\n\n          buildFloorMos.sort((a, b) =>\n            _this.floorLessEq(\n              a.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\"),\n              a.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\")\n            )\n          ) // 排序\n\n          // 房间分组\n          let floorGroup = utils.groupBy(buildFloorMos, (e) => {\n            return e.gid.replace(/(V.*_JZ.*)_WK_([BFMW][\\d]*)(.*)/, \"$1_$2\")\n          })\n\n          if (Object.keys(floorGroup).length !== 0) {\n            let floorCount = 0 // 地上楼层计数\n            for (const floorSimpleKey of Object.keys(floorGroup)) {\n              let floorAndRoom = floorGroup[floorSimpleKey]\n\n              let floor = floorAndRoom.filter((x) =>\n                instance.build.isBuildFloor(x.gid)\n              )[0]\n              floor.rooms = floorAndRoom.filter(\n                (x) => !instance.build.isBuildFloor(x.gid)\n              )\n              floor.xps = floorAndRoom.filter((x) =>\n                instance.build.isFloorXP(x.gid)\n              )\n\n              let floorCopy = JSON.parse(JSON.stringify(floor)) // 复制楼层数据\n              floorCopy.buildId = instance.build.getBuildIdByFloorGid(\n                floorCopy.gid\n              )\n              floorCopy.buildGid = instance.build.getBuildGidByBuildId(\n                floorCopy.gid\n              )\n              floorCopy.id = instance.build.getFloorIdByFloorGid(floorCopy.gid) // V001_JZ0001_F001\n              floorCopy.floorname = instance.build.getFloorNameByFloorId(\n                floorCopy.id\n              )\n\n              floorCopy.locationOrigin = { ...floorCopy.location } // 保存原始位置\n              floorCopy.locationSplit = {\n                ...floorCopy.location,\n                z: floorCopy.location.z + floorCount * _this.floorIntervalHeight\n              } // 保存分层后的位置\n\n              // 房间\n              floorCopy.rooms.forEach((room) => {\n                room.locationOrigin = { ...room.location }\n                room.locationSplit = {\n                  ...room.location,\n                  z: room.location.z + floorCount * _this.floorIntervalHeight\n                }\n              })\n\n              floorCopy.xps.forEach((xp) => {\n                xp.locationOrigin = { ...xp.location }\n                xp.locationSplit = {\n                  ...xp.location,\n                  z: xp.location.z + floorCount * _this.floorIntervalHeight\n                }\n              })\n\n              build.floors.push(floorCopy)\n              floorCount++\n            }\n          } else {\n            console.log(`${build.id} 楼层数据为空`)\n          }\n        }\n        _this.getBuildDataLock.unlock()\n        return _this.buildData\n      }\n    }\n\n    /**\n     * 刷新buildData, 重新计算分离值\n     * @param instance\n     * @returns {Promise<void>}\n     */\n    this.refreshBuildData = (instance) => {\n      let _this = this\n      console.log(\"_this.buildData\", _this.buildData)\n      // 引用, 会同时修改\n      let floor\n      for (const build of _this.buildData.list) {\n        for (let i = 0; i < build.floors.length; i++) {\n          floor = build.floors[i]\n          floor.locationSplit.z =\n            floor.locationOrigin.z + i * _this.floorIntervalHeight\n        }\n      }\n    }\n\n    /**\n     * @description 获取有楼层的建筑信息\n     * @param instance\n     * @returns {Promise<unknown>}\n     */\n    this.getBuildDataHasFloor = async (instance) => {\n      let res = await this.getBuildData(instance)\n      let objNew = {}\n      for (const key of Object.keys(res.obj)) {\n        let item = res.obj[key]\n        if (item.floors.length > 0) {\n          objNew[key] = item\n        }\n      }\n      return {\n        list: res.list.filter((x) => x.floors.length > 0),\n        obj: objNew\n      }\n    }\n    /**\n     * @description 通过build id 获取buildInfo\n     */\n    this.getBuildInfoById = (buildId) => {\n      return _this.buildData.list.filter((x) => x.id === buildId)[0]\n    }\n    /**\n     * @description 通过build id 获取buildInfo\n     */\n    this.getFloorInfoById = (buildId, floorId) => {\n      let res\n      let buildInfo = _this.buildData.list.filter((x) => x.id === buildId)[0]\n      if (buildInfo) {\n        res = buildInfo.floors.filter((x) => x.id === floorId)[0]\n      }\n      return res\n    }\n    /**\n     * @description 获取楼层高度\n     * @param floorFlag\n     */\n    this.getFloorHeight = (floorFlag) => {\n      let flag = floorFlag.substr(0, 1)\n      let num = parseInt(floorFlag.substr(1))\n      switch (flag) {\n        case \"F\":\n          return _this.groundHeight + (num - 1) * _this.floorHeight\n        case \"W\":\n          return _this.groundHeight\n        case \"M\":\n          break\n        case \"B\":\n          return -num * _this.floorHeight\n      }\n    }\n    /**\n     * @description 建筑分离\n     * @param {String} buildId 建筑Id\n     * @param {MapCore} instance\n     * @param groundHeight 地面高度\n     * @param {Number} _floorIntervalHeight 分离高度\n     */\n    this.flyToBuildMo = {\n      last: null,\n      create(instance, buildId) {\n        this.remove(instance)\n        let buildInfo = _this.getBuildInfoById(buildId)\n        instance.drawer.create\n          .cone({\n            radius: 500, // 半径\n            height: 500, // 高\n            location: { ...buildInfo.location, pitch: 180, z: 5000 },\n            style: STYLES.SplineOrangeHighlight1\n          })\n          .then((res) => {\n            this.last = res\n          })\n      },\n      remove(instance) {\n        // 之前存在就删除\n        if (this.last) {\n          instance.drawer.remove.oneById(this.last.gid)\n        }\n      }\n    }\n    this.flyToBuild = (instance, buildId) => {\n      let buildInfo = _this.getBuildInfoById(buildId)\n      _this._flyToPositionView(instance, buildInfo.location, 10000, 1)\n      this.flyToBuildMo.create(instance, buildId)\n    }\n\n    /**\n     * @description 分层后显示楼层\n     * @param instance\n     * @param buildId\n     * @param floorId\n     * @param waitSplitSecond 等待时间\n     */\n    this.splitAndShowFloor = (\n      instance,\n      buildId,\n      floorId,\n      waitSplitSecond = 1.5\n    ) => {\n      if (_this.lastBuildId !== buildId) {\n        // 点击不同建筑\n        this.doSplitBuild(instance, buildId)\n        setTimeout(() => {\n          this.doShowFloor(instance, buildId, floorId)\n        }, waitSplitSecond * 1000)\n        _this.lastBuildId = buildId\n      } else {\n        // 点击相同建筑\n        this.doShowFloor(instance, buildId, floorId)\n      }\n    }\n\n    this.event = {\n      /**\n       * @description 添加建筑标题分层点击事件\n       * @param instance\n       */\n      onBuildTitleClick: new EventCollection(),\n      /**\n       * @description 添加建筑标题分层点击事件\n       * @param instance\n       */\n      onBuildClick: new EventCollection(),\n      /**\n       * @description 添加楼层分层点击事件\n       * @param instance\n       */\n      onFloorClick: new EventCollection(),\n      /**\n       * @description 点击楼层\n       * @function\n       * @param instance\n       * @param buildId\n       * @param floorId\n       * @param roomId\n       */\n      onRoomClick: new EventCollection(),\n      /**\n       * @description 建筑分离事件\n       */\n      onSplitBuild: new EventCollection(),\n      onSplitBuildEnd: new EventCollection(),\n      onResetBuild: new EventCollection(),\n      onResetBuildEnd: new EventCollection(),\n      /**\n       * @description 显示楼层事件\n       */\n      onSplitFloor: new EventCollection()\n    }\n  }\n}\n\n/**\n * 事件集合\n */\nclass EventCollection {\n  constructor() {\n    this.funcArr = []\n  }\n\n  add(desc, func) {\n    this.funcArr.push(new EventObj(desc, func))\n  }\n\n  /**\n   * 触发方法数组\n   */\n  triggerAll(...args) {\n    this.funcArr.forEach(x => {\n      x.func(...args) // 参数\n    })\n  }\n}\n\nclass EventObj {\n  /**\n   * 事件对象\n   * @param desc 描述\n   * @param func\n   */\n  constructor(desc, func) {\n    this.desc = desc\n    this.func = func\n  }\n}\n","// import { utils } from \"@ty/shared\"\nimport * as utils from '../utils'\nimport MapBuildMgr from \"./buildMgr\"\nimport { curry, schedule, wait, waitSchedule } from \"../scheduler\"\n\n/**\n * @module sdk-build\n * @description sdk build部分\n */\n\nconst {\n  isFunction\n} = utils\n\n/**\n * @class Build\n */\nclass MapBuild {\n\n  /**\n   * 建筑信息初始化\n   * @param {view3d} _view3d View3d对象\n   */\n  constructor(view3d) {\n    this.view3d = view3d\n    this.mgr = new MapBuildMgr(view3d)\n  }\n\n\n  /**\n   * 判断是否是建筑外壳 V001_JZ0001_WK\n   */\n  isBuildWK(gid) {\n    //^V[\\d]+_JZ[\\d]+_WK.*$/ => 针对 V001_JZ0001_WK_001\n    // /^V[\\d]+_JZ[\\d]+_WK$/ => 针对 V001_JZ0001_WK\n\n    // return /^V[\\d]+_JZ[\\d]+_WK_?[\\d]+?$/.test(gid) && this.isBuildFloor(gid) === false\n    return /^V[\\d]+_JZ[\\d]+_WK$/.test(gid)\n    // && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断是否是建筑标注\n   */\n  isBuildTitle(gid) {\n    return /^MP_V[\\d]+_JZ[\\d]+_WK_?[\\d]?$/.test(gid) && this.isBuildFloor(gid) === false\n  }\n\n  /**\n   * 判断gid是否是楼层\n   * @param gid\n   *\n   */\n  isBuildFloor(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+$/.test(gid)\n  }\n\n  isBuildXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_XP[\\d]*$/.test(gid)\n  }\n\n  isFloorXP(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_XP[\\d]*$/.test(gid)\n  }\n\n  /**\n   * 判断gid是否是房间\n   * @param gid\n   *\n   */\n  isFloorRoom(gid) {\n    return /^V[0]+[\\d]+_JZ[0]+[\\d]+_WK_[FWMB][\\d]+_[U][\\d]+_[H][\\d]+$/.test(gid)\n  }\n\n  getBuildIdByWKGid(wkGid) {\n    return wkGid.replace(/_WK.*/, \"\")\n  }\n\n  getBuildGidByBuildId(buildId) {\n    return buildId.replace(/JZ([\\d]+)(_?)/, \"JZ$1_WK$2\")\n  }\n\n  getBuildIdByTitleGid(titleGid) {\n    return titleGid.replace(/_WK.*/, \"\").replace(/MP_/, \"\")\n  }\n\n  getBuildIdByFloorGid(floorGid) {\n    return floorGid.replace(/_WK.*/, \"\")\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getBuildIdByRoomGid(roomGId) {\n    return roomGId.split(\"_WK\")[0]\n  }\n\n  /**\n   * V001_JZ0005_WK_F001_U0001_H0001\n   * @param roomGId\n   */\n  getFloorIdByRoomGid(roomGId) {\n    let arr = roomGId.split(\"_\")\n    return `${arr[0]}_${arr[1]}_${arr[3]}`\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * @param wkGid\n   *\n   */\n  getFloorIdByFloorGid(wkGid) {\n    return wkGid.replace(/_WK/, \"\")\n  }\n\n  /**\n   * V001_JZ0001_F001\n   * F001, F002\n   * @param floorId\n   *\n   */\n  getFloorNameByFloorId(floorId) {\n    // return floorId.split(\"_\")[floorId.split(\"_\").length - 1]\n    return floorId.split(\"_\")[2]\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorGId(floorGId) {\n    let floorId = this.getFloorIdByFloorGid(floorGId)\n    return this.getFloorNameSmallByFloorId(floorId)\n  }\n\n  /**\n   * F1,F2\n   * @param floorId\n   *\n   */\n  getFloorNameSmallByFloorId(floorId) {\n    return this.getFloorNameByFloorId(floorId).replace(/([A-Z]*)[0]*([1-9][\\d]*)/, \"$1$2\")\n  }\n\n  getF001toF1(str) {\n    return str.replace(/([\\w])[0]*([\\d]+)/, \"$1$2\")\n  }\n\n  /**\n   * 建筑还原\n   * @param {String} buildId 建筑Id\n   * @public\n   */\n  resetBuild(buildId) {\n    this.splitBuildingResetSync(buildId)\n    this.view3d.ResetObjects()\n  }\n\n  /**\n   * 楼层平移\n   * @param {String} buildId 建筑Id\n   */\n  splitFloor(buildId, floorId, floorDistance) {\n    if (this.view3d) {\n      this.view3d.SplitDynamicFloor(buildId, floorId, floorDistance)\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的数量\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNum(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNames(cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingNames(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 异步获取当前场景里的所有建筑的名称列表\n   * @param cb 回调函数\n   * @function\n   */\n  getBuildingNamesSync() {\n    return schedule(this.view3d, this.view3d.GetBuildingNames)\n  }\n\n  /**\n   * 获取某个建筑是否可见？\n   * @function\n   * */\n  getBuildingVisible(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetBuildingVisible(buildingName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置建筑的可见性\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingVisible(buildingName, buildVisible, opacity) {\n    return waitSchedule(100, this.view3d, this.view3d.SetBuildingVisible, buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 设置建筑的外壳是否可见\n   * @param opacity 透明度 0-1\n   * @function\n   * */\n  setBuildingWKVisible(buildingName, buildVisible, opacity) {\n    this.view3d.SetBuildingWkVisible(buildingName, buildVisible, opacity)\n  }\n\n  /**\n   * 恢复所有建筑的状态？\n   * @function\n   * */\n  resetAllBuildings() {\n    return waitSchedule(10, this.view3d, this.view3d.ResetAllBuildings)\n  }\n\n  /**\n   * 设置所有楼层分离\n   * @function\n   */\n  splitBuilding(buildingName, floorHeight) {\n    this.view3d.SplitBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 恢复所有楼层分离的效果\n   *@function*/\n  splitBuildingReset(buildingName) {\n    this.view3d.SplitBuildingReset(buildingName)\n  }\n\n  splitBuildingResetSync(buildingName) {\n    return waitSchedule(20, this.view3d, this.view3d.SplitBuildingReset, buildingName)\n  }\n\n  /**\n   * 设置所有楼层动态分离\n   * @function\n   * */\n  splitDynamicBuilding(buildingName, floorHeight) {\n    this.view3d.SplitDynamicBuilding(buildingName, floorHeight)\n  }\n\n  /**\n   * 设置某个楼层动态右侧平移\n   * @function\n   */\n  splitDynamicFloor(buildingName, floorName, floorDistance) {\n    this.view3d.SplitDynamicFloor(buildingName, floorName, floorDistance)\n  }\n\n  /**\n   * 恢复平移的楼层\n   * @function\n   * */\n  splitFloorReset(buildingName, floorName) {\n    return this.view3d.SplitFloorReset(buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑的所有楼层数量\n   * @function\n   */\n  getFloorNum(buildingName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorNum(res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNames(buildingName, cb) {\n    console.log(\"call getFloorNames: \", buildingName)\n    console.log(isFunction(cb))\n    if (isFunction(cb)) {\n      this.view3d.GetFloorNames(buildingName, cb)\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 同步获取某个建筑的所有楼层的名称列表\n   * @function\n   */\n  getFloorNamesSync(buildingName) {\n    return schedule(this.view3d, this.view3d.GetFloorNames, buildingName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层是否可见\n   * @function\n   */\n  getFloorVisible(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetFloorVisible(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 设置某个建筑某个楼层的可见性\n   * @function\n   * @param buildingName 例 V001_JZ0001\n   * @param floorName F004\n   * @param floorVisible true/false\n   * @param opacity\n   *\n   */\n  setFloorVisible(buildingName, floorName, floorVisible, opacity) {\n    return waitSchedule(10, this.view3d, this.view3d.SetFloorVisible, buildingName, floorName, floorVisible, opacity)\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层数量\n   * @function\n   */\n  getUpFloorNum(buildingName, floorName, cb) {\n    if (isFunction(cb) === true) {\n      this.view3d.GetUpFloorNum(buildingName, floorName, res => {\n        cb && cb(res)\n      })\n    } else {\n      console.error(\"cb 不是函数\")\n    }\n  }\n\n  /**\n   * 获取某个建筑某个楼层之上的楼层名称列表\n   * @function\n   */\n  getUpFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetUpFloorNames(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层数量\n   * @function\n   */\n  getDownFloorNum(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层之下的楼层名称列表\n   * @function\n   */\n  GetDownFloorNames(buildingName, floorName, cb) {\n    this.view3d.GetDownFloorNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间数量\n   * @function\n   */\n  getFloorRoomNum(buildingName, floorName, cb) {\n    this.view3d.GetFloorRoomNum(buildingName, floorName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 获取某个建筑某个楼层内的房间名称列表\n   * @function\n   *\n   */\n  getFloorRoomNames(buildingName, floorName, cb) {\n    return schedule(this.view3d, this.view3d.GetFloorRoomNames, buildingName, floorName)\n  }\n\n  /**\n   * 获取某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  getFloorRoomVisible(buildingName, floorName, roomName, cb) {\n    this.view3d.GetFloorRoomVisible(buildingName, floorName, roomName, res => {\n      cb && cb(res)\n    })\n  }\n\n  /**\n   * 设置某个建筑某个楼层内某个房间是否可见\n   * @function\n   */\n  setFloorRoomVisible(buildingName, floorName, roomName, floorVisible) {\n    this.view3d.SetFloorRoomVisible(buildingName, floorName, roomName, floorVisible)\n  }\n\n  /**\n   * @description 设置地面的显示和隐藏\n   * @function\n   */\n  async setGroundVisible(visible) {\n    // this.view3d.SetGroundVisible(visible)\n    return waitSchedule(10, this.view3d, this.view3d.SetGroundVisible, visible)\n  }\n}\n\n\nexport default MapBuild\n\n\n","// import { utils } from '@ty/shared'\nimport * as utils from '../utils'\nimport { functionExist, logError, warn } from '../error'\n\n/**\n * @module sdk-event\n * @description sdk事件\n */\n\nconst { isFunction, NOOP, isBoolean, FALSE_FUNC, debounce, throttle } = utils\n\n// TODO: prefix 不区分大小写\n\nconst MAP_STATUS_NORMAL = 0b0001 // 普通状态\nconst MAP_STATUS_DRAG = 0b0010 // 拖动的状态\n\nconst ZOOM_IN_KEY = 'zoomIn'\nconst ZOOM_OUT_KEY = 'zoomOut'\nconst MOUSE_MOVE_KEY = 'mousemove'\n\nlet mapStatus = MAP_STATUS_NORMAL\nlet mapMoveTimer = null\n\nconst mouseEventGroup = [ZOOM_IN_KEY, ZOOM_OUT_KEY, MOUSE_MOVE_KEY]\n\nconst defaultConfig = {\n  prefix: '', // 当 isDouble 为true是，原始的prefix,会保存到这里\n  isDouble: false, // 内部判断是否双击事件，\n  compareFunc: FALSE_FUNC,\n  isOnce: false,\n  internal: false,\n  key: +new Date() // 回调指定的key，删除时可用\n}\n\n/**\n * @class MapEvent\n */\nclass MapEvent {\n  constructor(view3d, mapViewer) {\n    this._view3d = view3d\n    this.mapViewer = mapViewer\n    this.prefix = '*'\n\n    /*\n     prefixAndCallbackMap 是一个三层结构：\n     {\n     'prefix': {\n      prefix: 'prefix',\n      callback: {\n         // 单击的回调\n         click: [{\n         config: config,\n         callback: callback\n        }],\n\n         // 双击的回调\n         double: [{\n           config: config,\n           callback: callback\n         }]\n      }\n     }\n     */\n    this.prefixAndCallbackMap = new Map()\n\n    this._lastClickTimestamp = +new Date()\n\n    this._emitMouseUp = false\n\n    this._addMouseMoveEvent()\n    this._addMouseUpEvent()\n    this._addMouseDownEvent()\n\n    // 是否注册过鼠标滚轮事件\n    this._hasRegisterMouseWheelHandler = false\n\n    // 在点击事件触发时，如果都没有匹配到注册的事件回调，要执行上一次回调的清理函数\n    this.cleanupCallback = null\n\n    // 同一个prefix，同时注册单击和双击事件，在300ms回调后来判断是否执行单击\n    this._clickCallbackTimer = new Map()\n\n    // 监控鼠标拖动的事件回调\n    this._onDragHandler = new Set()\n\n    // 开始拖动时的回调\n    this._onDragStartHandler = new Set()\n\n    // 停止拖动时的回调\n    this._onDragEndHandler = new Set()\n\n    // 事件系统实例化的时候，直接注册事件。不同在 setMouseClickCallback 里每次都重复注册\n    // this.reBindMouseClickCallback()\n\n    // 响应点击和是否拖动的时间间隔，在这个间隔内，如果触发了地图的拖动，将不响应地图的点击事件。\n    this._dragTicker = 150\n  }\n\n  _flushDragCallback = (callbackSet, e) => {\n    if (callbackSet.size > 0) {\n      callbackSet.forEach((callback) => {\n        callback(e)\n      })\n    }\n  }\n\n  _handleMouseMove(e) {\n    const self = this\n\n    // 从鼠标按下，到触发第一次拖动，调度一下开始拖动的回调\n    if (mapStatus === MAP_STATUS_NORMAL) {\n      this._flushDragCallback(this._onDragStartHandler, e)\n    }\n\n    mapStatus = MAP_STATUS_DRAG\n\n    if (mapMoveTimer) {\n      clearTimeout(mapMoveTimer)\n    }\n\n    // 拖动过程中，调度拖拽事件\n    this._flushDragCallback(this._onDragHandler, e)\n\n    // 如果移动过程中，鼠标移到弹窗上，可能没有触发mouseup事件，这里给个定时器，100毫秒以后，移除拖动状态\n    mapMoveTimer = setTimeout(() => {\n      if (!self._emitMouseUp) {\n        self._handleMouseUp()\n      }\n    }, 100)\n  }\n\n  _handleMouseDown() {\n  }\n\n  _handleMouseUp() {\n    // 从拖拽的状态释放鼠标，调度一次拖拽结束时间\n    if (mapStatus === MAP_STATUS_DRAG) {\n      this._flushDragCallback(this._onDragEndHandler)\n    }\n\n    mapStatus = MAP_STATUS_NORMAL\n  }\n\n  _registerMouseEvent(key, callback) {\n    const mapViewContainerId = this.mapViewer.core.config.id\n    const $mapViewContainer = document.getElementById(mapViewContainerId)\n    $mapViewContainer.addEventListener(key, callback)\n  }\n\n  _removeMouseEvent(key, callback) {\n    const existCallbackMapKey = mouseEventGroup.filter(\n      (mouseKey) => mouseKey === key\n    )[0]\n    if (existCallbackMapKey) {\n      const existCallbackMap =\n        this.prefixAndCallbackMap.get(existCallbackMapKey)\n      if (existCallbackMap) {\n        // 删除缓存的函数前,前保存一下\n        const cachedCallback = this.getCallbacks(key)[0].callback\n\n        // 再去删除缓存的函数\n        this._removeCacheCallback(key, callback)\n\n        if (\n          (!this.prefixAndCallbackMap.get(ZOOM_IN_KEY) &&\n            !this.prefixAndCallbackMap.get(ZOOM_OUT_KEY)) ||\n          key === MOUSE_MOVE_KEY\n        ) {\n          const mapViewContainerId = this.mapViewer.core.config.id\n          const $mapViewContainer = document.getElementById(mapViewContainerId)\n          // 移除DOM元素上的回调\n          $mapViewContainer.removeEventListener(key, cachedCallback)\n        }\n      }\n    }\n  }\n\n  _registerMouseWheelCallback(key = 'mousewheel', callback = NOOP) {\n    // 不重复监听鼠标滚轮事件\n    if (this._hasRegisterMouseWheelHandler) {\n      return\n    }\n    this._registerMouseEvent(key, callback)\n\n    this._hasRegisterMouseWheelHandler = true\n  }\n\n  async _mouseWheelHandler(e) {\n    let wheelDelta = e.wheelDelta\n    let eventTypeKey = ''\n    // zoomIn\n    if (wheelDelta > 0) {\n      eventTypeKey = ZOOM_IN_KEY\n      // zoomOut\n    } else if (wheelDelta < 0) {\n      eventTypeKey = ZOOM_OUT_KEY\n    }\n\n    if (\n      eventTypeKey &&\n      this.mapViewer.camera &&\n      this.mapViewer.camera.getCurrentPosition\n    ) {\n      // 缩放的同时，获取一次当前的相机位置，主要用来判断当前的高度\n      this.mapViewer.camera.getCurrentPosition().then((position) => {\n        const mouseWheelMap = this.prefixAndCallbackMap.get(eventTypeKey)\n        if (mouseWheelMap) {\n          const mouseWheelEventCallbackMap = mouseWheelMap.get('callback')\n          const mouseWheelEventCallbackSet =\n            mouseWheelEventCallbackMap.get('click')\n          mouseWheelEventCallbackSet.forEach((oneMouseWheelHandlerMap) => {\n            if (oneMouseWheelHandlerMap.get('config').compareFunc) {\n              oneMouseWheelHandlerMap.get('config').compareFunc(e, position)\n            }\n          })\n        }\n      })\n    }\n  }\n\n  getCallbacks(prefix) {\n    const callbackMap = this.prefixAndCallbackMap.get(prefix)\n    if (callbackMap) {\n      return Array.from(callbackMap.get('callback').click).map(\n        (oneCallbackMap) => Object.fromEntries(oneCallbackMap)\n      )\n    }\n  }\n\n  /**\n   * @desc 设置响应点击和确认是否拖动的时间间隔， 默认 150ms.\n   */\n  setDragTicker(time = 150) {\n    this._dragTicker = time\n  }\n\n  // 视角放大\n  zoomIn(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomInHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomInHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n\n      this._cacheCallback(ZOOM_IN_KEY, zoomInHandler, {\n        isOnce: false,\n        compareFunc: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomInHandler)\n    }\n  }\n\n  // 视角缩小\n  zoomOut(\n    callback,\n    config = {\n      debounce: true,\n      debounceTime: 300\n    }\n  ) {\n    if (isFunction(callback)) {\n      let zoomOutHandler = this._mouseWheelHandler.bind(this)\n      if (config.debounce) {\n        zoomOutHandler = debounce(\n          this._mouseWheelHandler.bind(this),\n          config.debounceTime || 300,\n          false\n        )\n      }\n      this._cacheCallback(ZOOM_OUT_KEY, zoomOutHandler, {\n        isOnce: false,\n        compareFunc: callback,\n        internal: false\n      })\n      this._registerMouseWheelCallback('mousewheel', zoomOutHandler)\n    }\n  }\n\n  // 注册鼠标移动事件可能导致地图反应慢.先不处理\n  onMouseMove(callback) {\n    const mouseMoveHandler = throttle((e) => {\n      console.log(e)\n    }, 500)\n\n    this._cacheCallback(MOUSE_MOVE_KEY, mouseMoveHandler, {\n      isOnce: false,\n      compareFunc: callback,\n      internal: false\n    })\n\n    this._registerMouseEvent(MOUSE_MOVE_KEY, mouseMoveHandler)\n  }\n\n  // 拖动地图的时候\n  onDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.add(callback)\n    }\n  }\n\n  onDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.add(callback)\n    }\n  }\n\n  onDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.add(callback)\n    }\n  }\n\n  removeDrag(callback) {\n    if (isFunction(callback)) {\n      this._onDragHandler.delete(callback)\n    }\n  }\n\n  removeDragStart(callback) {\n    if (isFunction(callback)) {\n      this._onDragStartHandler.delete(callback)\n    }\n  }\n\n  removeDragEnd(callback) {\n    if (isFunction(callback)) {\n      this._onDragEndHandler.delete(callback)\n    }\n  }\n\n  /**\n   * 移除鼠标 onmousemove, onmousedown, onmouseup事件\n   */\n  removeMouseEvent() {\n    if (this._view3d && functionExist(this._view3d, 'UnRegisterEvent')) {\n      this._view3d.UnRegisterEvent()\n    }\n  }\n\n  // 监听鼠标按住并拖动地图的事件\n  _addMouseMoveEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmousemove', this._handleMouseMove.bind(this))\n    }\n  }\n\n  _addMouseDownEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmousedown', this._handleMouseDown.bind(this))\n    }\n  }\n\n  // 鼠标抬起\n  _addMouseUpEvent() {\n    const view3d = this._view3d\n    if (functionExist(view3d, 'RegisterEvent')) {\n      view3d.RegisterEvent('onmouseup', this._handleMouseUp.bind(this))\n    }\n  }\n\n  _resetMouseCallback() {\n    this.prefix = '*'\n\n    for (let k of this.prefixAndCallbackMap.keys()) {\n      this.prefixAndCallbackMap.delete(k)\n    }\n  }\n\n  _cacheCallback(prefix, callback, config) {\n    // prefix: '*', 'V', 'TEMP,PIC' 等形式\n    if (!prefix) {\n      return\n    }\n\n    const prefixArr = prefix.split(',').map((p) => p.trim())\n\n    // 根据前缀做缓存\n    for (let k of prefixArr) {\n      // 利用 Set 唯一性，避免回调多次重复的被执行\n      const existCallbackMap = this.prefixAndCallbackMap.get(k)\n      if (existCallbackMap) {\n        if (existCallbackMap.has('callback')) {\n          // const callbackSet = existCallbackMap.get('callback')\n          const callbackMap = existCallbackMap.get('callback')\n          const oneCallbackMap = new Map()\n          oneCallbackMap.set('config', config)\n          oneCallbackMap.set('callback', callback)\n\n          // callbackSet.add(oneCallbackMap)\n          let existCallbackSet\n          if (config.isDouble) {\n            existCallbackSet = callbackMap.get('double')\n          } else {\n            existCallbackSet = callbackMap.get('click')\n          }\n          existCallbackSet.add(oneCallbackMap)\n        }\n      } else {\n        const prefixCallbackMap = new Map()\n        const callbackConfigMap = new Map()\n        const clickCallbackConfigSet = new Set()\n        const doubleClickCallbackConfigSet = new Set()\n\n        // const callbackConfigSet = new Set()\n\n        const oneCallbackMap = new Map()\n        oneCallbackMap.set('config', config)\n        oneCallbackMap.set('callback', callback)\n\n        if (config.isDouble) {\n          doubleClickCallbackConfigSet.add(oneCallbackMap)\n        } else {\n          clickCallbackConfigSet.add(oneCallbackMap)\n        }\n\n        // callbackConfigSet.add(oneCallbackMap)\n        callbackConfigMap.set('click', clickCallbackConfigSet)\n        callbackConfigMap.set('double', doubleClickCallbackConfigSet)\n\n        prefixCallbackMap.set('prefix', k)\n        prefixCallbackMap.set('callback', callbackConfigMap)\n        this.prefixAndCallbackMap.set(k, prefixCallbackMap)\n      }\n    }\n  }\n\n  /**\n   * 实际处理移除事件的逻辑，\n   * @param oldPrefix\n   * @param callback {Function} 移除事件回调时，必须传的。通过事件引用来查找对应的回调\n   * @private\n   */\n  _removeCacheCallback(oldPrefix, callback) {\n    if (!oldPrefix) {\n      return\n    }\n\n    const oldPrefixArr = oldPrefix.split(',')\n    for (let k of oldPrefixArr) {\n      if (this.prefixAndCallbackMap.has(k)) {\n        const callbackMap = this.prefixAndCallbackMap.get(k)\n        if (callbackMap) {\n          // const oneCallbackSet = callbackMap.get('callback')\n          const oneCallbackMap = callbackMap.get('callback')\n          const oneClickCallbackSet = oneCallbackMap.get('click')\n          const oneDoubleClickCallBackSet = oneCallbackMap.get('double')\n\n          const removeCallback = (oneCallbackSet) => {\n            oneCallbackSet.forEach((oneCallbackMap) => {\n              const cachedCallback = oneCallbackMap.get('callback')\n              if (mouseEventGroup.includes(k)) {\n                if (oneCallbackMap.get('config').compareFunc === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              } else {\n                if (cachedCallback === callback) {\n                  oneCallbackSet.delete(oneCallbackMap)\n                }\n              }\n            })\n          }\n\n          if (oneClickCallbackSet.size > 0) {\n            removeCallback(oneClickCallbackSet)\n          }\n\n          if (oneDoubleClickCallBackSet.size > 0) {\n            removeCallback(oneDoubleClickCallBackSet)\n          }\n\n          if (\n            oneClickCallbackSet.size === 0 &&\n            oneDoubleClickCallBackSet.size === 0\n          ) {\n            this.prefixAndCallbackMap.delete(k)\n          }\n        }\n      }\n    }\n  }\n\n  _addMouseClickCallback() {\n    const view3d = this._view3d\n    const self = this\n\n    this.mapViewer.core.setParameters({\n      prefix: '*'\n    })\n\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      const handleClickCallback = (res) => {\n        self._lastClickCallbackTimer = setTimeout(() => {\n          if (mapStatus === MAP_STATUS_DRAG) {\n            // 拖动的时候，不响应点击事件\n            return\n          }\n          const gid = res.gid\n          // 同时取 attr 里的GID， 因为有自己指定GID 无效，地图会自己生成 gid,为了还是能匹配上点击事件，\n          const uuid = (res.attr && res.attr.gid) || ''\n          const now = +new Date()\n          if (gid || uuid) {\n            let matchCallback = false\n            const prefixMapArray = Array.from(\n              this.prefixAndCallbackMap.entries()\n            )\n\n            const triggerCallback = (prefix, cachedCallbackSet) => {\n              cachedCallbackSet.forEach((callbackConfigMap) => {\n                const oneCallbackConfig = callbackConfigMap.get('config')\n                const oneCallback = callbackConfigMap.get('callback')\n\n                const {\n                  compareFunc,\n                  isOnce\n                  // prefix\n                } = oneCallbackConfig\n\n                // 第一个为 compareFunc， 且属于用户自定义的比较函数\n                if (compareFunc !== FALSE_FUNC) {\n                  // 调用用户指定的比较函数，传入地图 GID，和自己指定的 gid 给用户做判断\n                  if (compareFunc(gid, uuid)) {\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                    matchCallback = true\n                  }\n                } else {\n                  if (\n                    (gid &&\n                      gid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    (uuid &&\n                      uuid\n                        .toLocaleLowerCase()\n                        .startsWith(prefix.toLocaleLowerCase())) ||\n                    prefix === '*'\n                  ) {\n                    matchCallback = true\n                    const cleanup = oneCallback(res)\n                    if (isFunction(cleanup)) {\n                      self.cleanupCallback = cleanup\n                    }\n                  }\n                }\n                // 根据每个回调的参数和 prefix 处理inOnce的情形\n                if (isOnce) {\n                  setTimeout(() => {\n                    self.remove(prefix, oneCallback)\n                  })\n                }\n              })\n            }\n\n            for (let i = 0; i < prefixMapArray.length; i++) {\n              let [k, callbackMap] = prefixMapArray[i]\n              const cachedPrefix = callbackMap.get('prefix')\n              const cachedCallbackMap = callbackMap.get('callback')\n\n              const clickCallbackSet = cachedCallbackMap.get('click') // 单击的回调\n              const doubleCallbackSet = cachedCallbackMap.get('double') // 双击的回调\n\n              // 只有单击的回调\n              if (clickCallbackSet.size > 0 && doubleCallbackSet.size === 0) {\n                triggerCallback(cachedPrefix, clickCallbackSet)\n\n                // 只有双击的回调\n              } else if (\n                clickCallbackSet.size === 0 &&\n                doubleCallbackSet.size > 0\n              ) {\n                if (now - self._lastClickTimestamp <= 300) {\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n\n                // 既有单击，又有双击的回调. 如果在300ms内，没有触发同一个prefix的回调，\n                // 则触发一次单击的回调。如果触发了，则触发双击的回调\n              } else {\n                let triggerDouble = false\n                if (now - self._lastClickTimestamp <= 300) {\n                  clearTimeout(self._clickCallbackTimer.get(cachedPrefix))\n                  self._clickCallbackTimer.delete(cachedPrefix)\n                  triggerDouble = true\n                  triggerCallback(cachedPrefix, doubleCallbackSet)\n                }\n                if (!triggerDouble) {\n                  const timerId = setTimeout(() => {\n                    triggerCallback(cachedPrefix, clickCallbackSet)\n                  }, 300)\n\n                  self._clickCallbackTimer.set(cachedPrefix, timerId)\n                }\n              }\n            }\n\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (!matchCallback && isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          } else {\n            // 触发一次不匹配的回调，可以用来清除上一次回调里的事\n            if (isFunction(self.cleanupCallback)) {\n              self.cleanupCallback()\n              // 执行完毕，置空，避免重复执行\n              self.cleanupCallback = null\n            }\n          }\n          self._lastClickTimestamp = now\n        }, self._dragTicker)\n      }\n      // view3d.SetMouseCallback(null)\n      setTimeout(() => {\n        view3d.SetMouseCallback(handleClickCallback)\n      }, 10)\n    }\n  }\n\n  /**\n   * 监听鼠标的点击,反回点击点的位置\n   * @param callback {Function}\n   * @param isOnce {Boolean} 点击事件是否只响应一次\n   */\n  setMousePositionCallback(callback = NOOP, isOnce = true) {\n    const view3d = this._view3d\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback((position) => {\n        callback(position)\n\n        if (isOnce) {\n          view3d.SetMousePositionCallback(null)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description 监听指定前缀模型的点选事件\n   * @param prefix {String | Function}\n   * @param callback {Function | Boolean}\n   * @param config {Object}\n   * @param config.compareFunc {Function}\n   * @param config.isOnce {Boolean}\n   * @param config.internal {Boolean}\n   */\n  setMouseClickCallback(prefix = '*', callback, config = defaultConfig) {\n    config = Object.assign({}, defaultConfig, config)\n    let { isOnce } = config\n    if (isFunction(prefix)) {\n      if (isBoolean(callback)) {\n        isOnce = callback\n      }\n      callback = prefix\n    }\n\n    if (!isFunction(callback)) {\n      logError(` callback must be a function, but got: ${typeof callback}.`)\n      return\n    }\n\n    this._cacheCallback(prefix, callback, config)\n\n    this._addMouseClickCallback()\n  }\n\n  reBindMouseClickCallback() {\n    this._addMouseClickCallback()\n  }\n\n  /**\n   * @description 设置双击事件\n   * @function\n   * @param prefix\n   * @param callback\n   * @param config\n   */\n  setMouseDoubleClickCallback(prefix = '*', callback, config) {\n    // const self = this\n    this.setMouseClickCallback(\n      prefix,\n      // (res) => {\n      // const now = +new Date()\n      // // 两个点击如果间隔在100毫秒以内， 响应一次双击事件即可\n      // if (now - self._lastClickTimestamp <= 300) {\n      //   callback(res)\n      // }\n      // self._lastClickTimestamp = now\n      // },\n      callback,\n      {\n        ...config,\n        isDouble: true,\n        prefix\n      }\n    )\n  }\n\n  /**\n   * 移除指定前缀的鼠标事件\n   * @param prefix {String}\n   * @param callback {Function}\n   */\n  remove(prefix, callback) {\n    if (!prefix) {\n      warn(`prefix is not defined, or is ''.`)\n      return\n    }\n    // 地图容器上的鼠标事件要单独处理, 因为要移除DOM上的事件\n    if (mouseEventGroup.includes(prefix)) {\n      this._removeMouseEvent(prefix, callback)\n    } else {\n      this._removeCacheCallback(prefix, callback)\n    }\n  }\n\n  removeMouseDoubleClickCallback(prefix, callback) {\n    this.remove(prefix, callback)\n  }\n\n  removeMousePositionCallback() {\n    const view3d = this._view3d\n\n    if (functionExist(view3d, 'SetMousePositionCallback')) {\n      view3d.SetMousePositionCallback(null)\n    }\n  }\n\n  /**\n   * 移除添加的所有前缀的点击事件\n   */\n  clear() {\n    const view3d = this._view3d\n    this.mapViewer.core.setParameters(null)\n    if (functionExist(view3d, 'SetMouseCallback')) {\n      view3d.SetMouseCallback(null)\n      this._resetMouseCallback()\n    }\n  }\n\n  /**\n   * 移除鼠标点击事件的监听,但保留已注册的事件回调。后续可通过 reBindMouseClickCallback 来恢复事件的执行\n   */\n  silent() {\n    const view3d = this._view3d\n    view3d.Clear()\n    view3d.SetParameters(null)\n    view3d.SetMouseCallback(null)\n  }\n}\n\nexport default MapEvent\n","﻿//===========框架基本信息=========\nimport * as ver from './version'\n\n// //核心类\nimport MapCore from './core'\n\n//相机类\nimport MapCamera from './camera'\n\nimport MapDrawer from './drawer'\n\nimport ModelManager from './model'\n\nimport * as config from './model/category/config'\n\n// 建筑类\nimport MapBuild from './build'\n\n//工具类\nimport * as utils from './utils'\n\nimport MapEvent from './event'\n\n// 异步任务调度器\nimport * as scheduler from './scheduler'\n\nimport { warn } from './error'\n\nconst { isFunction, NOOP } = utils\n\n/**\n * 默认参数\n */\nconst defaultOption = {\n  id: 'mapv3d-container',\n  url: '',\n  projectId: '',\n  token: '',\n  // 新版本的 mapvision3d.min.js 初始化地图的 token 使用 mapkay 作为键名\n  mapkey: '',\n  manual: false, // 是否自动创建地图，允许延迟初始化地图\n  loading: true, //是否展示初始 loading 状态\n  northControl: false, // 地图指北针控件是否显示\n  enableKeyboard: true, // 是否启用键盘\n  enableMouse: true, // 是否启用鼠标\n  defaultLocate: true, // 是否允许默认定位\n\n  // 是否在加载地图成功后，立即设置一次地图分辨率\n  defaultSetResolution: false,\n\n  // 设置的地图分辨率的倍率，默认会获取地图容器的宽高，乘以默认的倍率(如果是手机端，还会乘以屏幕的像素比)\n  resolutionScale: 1,\n\n  complete: NOOP, // 地图创建完成回调\n  error: NOOP, // 地图创建失败回调\n  internalMouseVisible: false // 内置的鼠标图标是否可见\n}\n\nclass MapViewer {\n  constructor(config) {\n    this._initFinished = false\n    // MapCore 里，不引入其它模块，因为初始化时，其它模块还没有准备就绪，\n    // 所以，MapCore 里直接通过调用 view3d 上的底层方法\n    this.core = new MapCore()\n    this.config = Object.assign({}, defaultOption, config)\n    if (!this.config.manual) {\n      this._init()\n    }\n    this.event = null\n    this.build = null\n    this.camera = null\n    this.drawer = null\n    this.model = null\n    this.scheduler = scheduler\n\n    //打印信息\n    ver.printVersion()\n  }\n\n  // 手动初始化时，要调用这个方法\n  create() {\n    if (this._initFinished) {\n      warn(`MapViewer is already initialize.`)\n      return\n    }\n\n    this._init()\n  }\n\n  // 实际去初始化地图，并绑定实例对象\n  _init() {\n    this.core.createMap(this.config).then(() => {\n      let view3d = this.core.view3d\n      if (view3d) {\n        this.event = new MapEvent(view3d, this)\n        this.build = new MapBuild(view3d, this)\n        this.camera = new MapCamera(view3d, this)\n        this.drawer = new MapDrawer(view3d, this)\n        this.model = new ModelManager(view3d, this)\n\n        this._initFinished = true\n\n        // 加载完成事件\n        if (this.config.complete && isFunction(this.config.complete)) {\n          this.config.complete(view3d)\n        }\n      }\n    })\n  }\n}\n\nlet name = 'MapV3D 三维地球框架'\nlet website = 'http://www.aimapvision.com/'\nlet author = '图洋科技'\nlet version = ver.getVersion()\nlet update = ver.getBuildTime()\nlet env = ver.environment\n\nconst CATEGORY = config\n\nexport {\n  name,\n  website,\n  author,\n  version,\n  update,\n  env,\n  MapViewer,\n  scheduler,\n  utils,\n  CATEGORY\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","getVersion","getBuildTime","Date","toLocaleString","environment","printVersion","msg","c1","c2","c3","c4","console","log","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_typeof","obj","Symbol","iterator","constructor","module","exports","__esModule","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","globalThis","Function","debounce","func","wait","immediate","timer","debounced","clearTimeout","setTimeout","cancel","clearInterval","throttle","options","timeout","previous","leading","trailing","later","throttled","now","remaining","enterFullScreen","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","window","ActiveXObject","wscript","SendKeys","exitFullScreen","cfs","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen","exitFullscreen","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","from","test","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","EventsBus","events","Map","isOnce","_this","m","get","fnMap","set","off","_add","_len","_key","entries","_step","_iterator","_step$value","cb","EventBus","lock","locked","_callee","_context","unlock","shift","captureUtil","captureVideo","videoDom","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","toDataURL","os","ua","navigator","userAgent","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","treeUtil","treeDfs","tree","node","children","treeToList","res","source","list2Tree","e","y","pid","id","filter","ele","_defineProperty","bind","thisArg","val","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","trim","str","replace","isStandardBrowserEnv","product","l","merge","assignValue","extend","a","b","stripBOM","content","charCodeAt","utils","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","h","InterceptorManager_1","normalizeHeaderName","headers","normalizedName","toUpperCase","enhanceError","config","code","request","response","isAxiosError","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","status","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","createError","settle","validateStatus","cookies","write","expires","path","domain","secure","cookie","toGMTString","read","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","baseURL","relativeURL","require$$1","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","split","line","substr","toLowerCase","concat","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","location","requestURL","Cancel","__CANCEL__","Cancel_1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","transitionalDefaults","require$$8","require$$9","xhr","requestData","data","requestHeaders","responseType","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","subscribe","aborted","send","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","stringifySafely","rawValue","parser","encoder","parse","defaults","transformRequest","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","defaults_1","transformData","fns","isCancel","throwIfCancellationRequested","throwIfRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","version","validators","thing","deprecatedWarnings","validator","formatMessage","opt","desc","opts","warn","assertOptions","schema","allowUnknown","Axios","instanceConfig","interceptors","configOrUrl","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","Axios_1","CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","CancelToken_1","spread","callback","payload","createInstance","defaultConfig","axios","all","promises","require$$10","axiosModule","axios_1","axiosInstance","createCancelToken","httpFactory","http","_http","_objectSpread","_x","HttpFactory","fetchConfig","_fetchConfig","_HttpFactory","projectAddress","environments","NOOP","FALSE_FUNC","EMPTY_OBJ","objectToString","toTypeString","isPromise","isBoolean","isEmpty","isNotEmpty","String","num","Number","clone","removeKeys","copy","setTime","getTime","attr","getPath","keyVal","js","scripts","getElementsByTagName","jsPath","src","substring","lastIndexOf","objectKeyToLowerCase","reduce","objectKeyToUnderline","upperToUnderlineLower","objectKeyUnderlineToUppercase","groupBy","list","groups","shuffledArray","sort","Math","random","createHex","floor","createUUID","createUUID32","beautifyJSON","json","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","indent","padding","BASE_WIDTH","BASE_HEIGHT","setBaseLayout","formatPxToVw","px","formatPxToVh","pxFromVw","currentPx","baseWidth","currentWidth","innerWidth","ceil","pxFromVh","baseHeight","currentHeight","innerHeight","osUtil","osUtilInner","STYLES","sim_arraw","sim_dot","sim_dashed","sim_flash","sim_scan","red","isInViewBox","mapViewer","logError","errorMsg","functionExist","funcName","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","taskQueue","workloopRuning","sleep","time","until","_len2","_key2","innerCallback","_len3","_key3","preCallback","_len4","_key4","curry","_len5","_key5","_len6","_key6","_callee2","_context2","doSchedule","asyncWork","_ref3","_callee3","_context3","performAsyncWork","task","_x2","preSchedule","_ref4","_callee4","_len7","_key7","_args4","_context4","_x3","_x4","schedule","_len8","_key8","waitSchedule","_len9","_key9","workUnit","workloop","peek","heap","_workloop","_callee5","currentTask","asyncCallback","_context5","$taskQueue","MapCore","_view3d","view3d","_createMap","MapVision","View3d","conf","projectId","mapkey","Open","handleAddWindowResizeResolution","OverLayerRemoveAll","setNorthControl","northControl","defaultSetResolution","setResolution","setParameters","setMouseEnable","enableMouse","setKeyBoardEnable","enableKeyboard","Stop","Clear","setMouseCursorVisible","internalMouseVisible","_insertMask","defaultLocate","ResetHome","removeWindowResizeResolution","mapContainerId","$mapContainer","getElementById","$mapContainerParent","parentNode","$mask","style","position","left","top","zIndex","display","backgroundColor","opacity","appendChild","removeChild","domId","dpi","devicePixelRatio","SetResolution","clientWidth","resolutionScale","clientHeight","mapName","OpenMap","mouseEnable","keyboardEnable","visible","UpdateObjectVisible","cursorVisible","showmouse","_getSceneSunInfo","GetScenceSunInfo","SetScenceSunInfo","x","scale","SetNorthControl","Close","destroy","parameter","SetParameters","IsClose","SetMapStatus","debouncedResizeHandler","mapCoreIns","MapCamera","viewer","duration","resetHome","SetPosition","_this$viewer","_this$viewer$core","_this$viewer2","_this$viewer2$event","showLocation","durationTime","enableCurve","core","_showMask","event","silent","onFinish","_self$viewer","_self$viewer$core","_self$viewer2","_self$viewer2$event","_hideMask","reBindMouseClickCallback","FlyToPosition","tempTimer","execFly","currentPosition","currentFlyEnd","defaultOptions","flyOption","assign","flyToPosition","gid","FlyToObject","pitch","yaw","distance","FlyToObjectById","SetNorth","GetHomePosition","GetCurrentPosition","GetScrrenPosition","heightRadio","FlyToObjectByType","ids","FlyToObjectByIds","_zoomIn","ZoomIn","_zoomOut","ZoomOut","_setPitchAngle","SetPitchAngle","_getPitchAngle","GetPitchAngle","_setRotateAngle","SetRotateAngle","_getRotateAngle","_callee6","_context6","GetRotateAngle","radio","highlight","Rotate","MapCreate","drawCtl","_drawCtl","_mapView","onDraw","drawPoints","pointsVisible","entity","pointEntities","windowRightClickHandleRef","overLayerStopEdit","_createForOfIteratorHelper","pointEntity","overLayerRemoveObject","overLayerStartEdit","points","_step2","_iterator2","point","radius","color","reBindEvent","text","overLayerCreateObject","drawOptions","_draw","model","modelConfig","modelOptions","image","circle","lineConfig","lineOptions","polygon","polygonConfig","polygonOptions","imageLabel","polygon3d","triangle","rect","regularPolygon","shape","box","pyramid","cone","cylinder","sphere","skeleton","billBoard","vlcMedia","routeModel","layerLoadAsync","layer","layerDynamic","createRoute","route","MapFind","findObjectById","prefix","findObjectByPrefix","MapUpdate","MapDelete","overLayerRemoveAll","overLayerRemoveObjectById","MapActor","LINE","SIM_ARRAW","SIM_DOT","SIM_DASHED","SIM_FLASH","SIM_CAN","MapActor$1","CATEGORY_CAMERA","CAMERA_TYPE_BOX","CAMERA_TYPE_SPEED_DOME","CAMERA_TYPE_DOME","CATEGORY_BAYONET","CATEGORY_DOOR","CATEGORY_DOOR_HK_FACE_ACCESS_TERMINAL","CATEGORY_FIRE_EXTINGUISHING","CATEGORY_INTERCOM","CATEGORY_INTERCOM_HK_INDOOR","CATEGORY_INTERCOM_HK_OUTDOOR","CATEGORY_BROADCAST","CATEGORY_ALARM","CATEGORY_LIGAN","CATEGORY_WINDOW","CATEGORY_BED","CATEGORY_FACE","CATEGORY_FACE_HK_400","CATEGORY_AGV","CATEGORY_CAR","CATEGORY_ROBOT","TYPE","typeName","media","dynamicModel","videoSequence","video","videoProjection","region","heatmap","typeConfig","ModelConfig","getTypeName","font","fontcolor","fontsize","halign","valign","filename","screen","linewidth","linecolor","lineWidth","linevisible","lighting","iconstyle","fontbg","pwidth","pheight","offsetx","offsety","linestyle","roofvisible","roofheight","edgestyle","edgecolor","edgeheight","speed","shapes","showloc","iselev","geom","bwidth","barch","minx","miny","maxx","maxy","gradient","ModelConfig$1","MapDrawer","mapView","_event","find","MapRemove","update","ACTOR","OverLayerSelectObjectEdit","OverLayerStartEdit","OverLayerStopEdit","_this2","objectConfig","OverLayerCreateObject","_this3","objectArray","OverLayerCreateObjects","FindObjectById","limitNum","FindObjectByPrefix","OverLayerUpdateObject","UpdateObjectStyle","UpdateObject","objects","UpdateObjects","ResetObjects","t","ClearObjectStyle","GetObjectsVisible","SetObjectsVisible","OverLayerRemoveObject","OverLayerRemoveObjectById","gids","OverLayerRemoveObjectsById","objId","SetObjectHighlight","SetObjectsHighlightByPrefix","_this4","waitTime","ClearHighlight","LayerLoad","LayerSetVisible","LayerRemove","layerObj","LayerReLoad","CreateRoute","PlayRoute","PauseRoute","ResumeRoute","StopRoute","PlaySequence","StopSequence","IsPlayingSequence","IsPausedSequence","videoConfig","StreamVideoOpen","StreamVideoClose","pointsData","SetHighlightRegion","ClearHighlightRegion","Selector","selectIds","ret","selectDataById","entityInstance","getState","categoryId","selectAll","item","selectEntities","selectEntityById","getEntityData","instances","retArray","filterFunc","indoor","filterEntities","buildId","build_id","floorId","floor_id","batchModelOptions","isFirst","size","onMap","onSuccess","onProgress","onError","draw","imageScale","imageVisible","modelVisible","modelScale","textVisible","textScale","visibleDistance","visibleInViewBox","onVisibleStatusChange","MODEL_INSTANCE_TYPE","ModelBase","$$typeof","category_id","created","setData","map","setEntity","z","drawer","updateObjectVisible","markVisible","clear","center","roll","camera","flyToPositionByOptions","getAdapter","setVisible","getModel","clearHighlight","setObjectHighlight","modelEntity","onCreateSuccessHandler","shouldUpdateEntity","setModel","markCreated","setMousePositionCallback","updater","changes","setState","iconEntity","getIcon","getIconLocation","overLayerUpdateObject","_step2$value","one","clearEntity","_getPrototypeOf","_superPropBase","property","_get","Reflect","receiver","base","superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_inherits","subClass","superClass","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","Camera","category","categoryName","_data$options","_concatGid","imageEntity","icon","setIcon","camera_area","areaEntityCached","getEntity","setAreaVisible","areaEntity","area","setArea","polygonGid","drawPolygon","visibleArea","getArea","deleteEntity","visibleAreaEntity","modelSelector","getSelector","modelInstance","_getModelInstance","flyTo","CameraBox","CameraSpeedDome","CameraDome","CameraFace","CameraBayonet","Door","modelAttr","getDeviceAdapter","DoorHKFaceAccessTerminal","Intercom","IntercomHkIndoor","IntercomHkOutdoor","MapImage","getModelClass","ClassName","Model","ModelController","_options","start","sourceSize","addModel","startOffset","endOffset","sourceSlice","end","progress","overLayerCreateObjects","pow","entityToUpdate","entities","getAllEntities","EntityAdapter","selector","controller","initialState","add","getController","addOne","dataList","modelInstanceArray","_this$getSelector","selectMapEntity","sourceEntities","addMany","removeAll","deleteOne","_iterator3","_step3","removeOne","removeMany","updateOne","_iterator4","_step4","upsertOne","_iterator5","_step5","Set","outdoor","instanceToShow","filterEntityByBuilding","filterEntityByFloor","filterOutDoorEntities","on_map","instanceToCreate","instanceToUpdate","instanceToHide","currentVisibleInstances","getVisible","_iterator6","_step6","_loop","currentInstance","shouldHide","_iterator7","_step7","_loop2","updateMany","defaultEventConfig","defaultAction","EventBase","option","eventMap","cachedEventMap","callbackMap","eventQueue","eventMapItem","callbackConfig","CameraEvent","setMouseClickCallback","_modelClickHandler","compareFunc","_","startsWith","setMouseDoubleClickCallback","_modelDoubleClickHandler","_iconClickHandler","_iconDoubleClickHandler","_areaClickHandler","_areaDoubleClickHandler","listen","modelCallbackConfig","getConfig","MODEL_CLICK","useDefaultAction","modelClickHandler","dispatch","MODEL_DOUBLE_CLICK","modelDoubleClickHandler","ICON_CLICK","iconClickHandler","ICON_DOUBLE_CLICK","iconDoubleClickHandler","AREA_CLICK","areaClickHandler","AREA_DOUBLE_CLICK","areaDoubleClickHandler","DoorEvent","IntercomEvent","EventController","door","intercom","ModelManager","MapBuildMgr","BTN_RESET_BUILD_GID","lastBuildId","lastFloorObjCopy","buildData","groundHeight","isAddFloorEvent","isSplitBuilded","isSplitBuild","isSplitFloor","settings","buildPolygon","waitSecond","showSecond","direction","stateInit","floorIntervalHeight","setFloorIntervalHeight","refreshBuildData","floorHeight","showFloorTypeEnum","LEFT_RIGHT","UP_DOWN","NORMAL","splitType","init","_ref","ins","getBuildData","addMouseCallback","addMouseCallbackLock","_ref2","_buildId","_buildId2","_buildId3","_floorId","build","isBuildFloor","isBuildWK","getBuildIdByWKGid","doSplitBuild","onBuildClick","triggerAll","isBuildTitle","onBuildTitleClick","getBuildIdByFloorGid","getFloorIdByFloorGid","doShowFloor","onFloorClick","isFloorRoom","getBuildIdByRoomGid","getFloorIdByRoomGid","onRoomClick","findSettingByGid","getBuildTopLocation","buildInfo","BtnCtl","btnSplitBuilds","isShowBtn","isShowBtnBuildHasFloor","createBtnResetBuild","clickEvent","removeBtnResetBuild","getBuildInfoById","lastFloor","floors","btnLocation","FloorApi","getBtnLocationByBuildId","locationSplit","resetBuildFunc","oneById","createBtnResetFloor","rootResolve","floorInfo","getFloorInfoById","removeBtnResetFloor","resetFloorFunc","hasFloorRectWidth","setHasFloorRectWidth","w","createBtnBuildHasFloor","bDataList","hasFloorsBuildInfos","_ret","getBuildDataHasFloor","showConfigArr","showConfig","getShowConfig","getHasFloorGid","buildGid","ctBtnBuildHasFloorByBId","bId","_this5","fRes","bData","getRectByPoint","some","rmBtnBuildHasFloorAll","rmBtnBuildHasFloorByBId","rfBtnBuildHasFloorByBId","getBtnBuildHasFloor","getBtnBuildHasFloorByBuildGid","setVisibleBtnBuildHasFloorByBuildGid","mo","updateObjectVisibleAsync","setVisibleBtnBuildHasFloorAll","_context7","getBuildGidByBuildId","resetAllBuildingWrap","onResetBuild","isMoved","onSplitBuild","_splitBuildAnimation","onSplitBuildEnd","_x5","success","onSplitFloor","_doShowFloorByMoveBySetting","_doShowFloorByUpDown","_doShowFloorOld","resetAllBuildings","_doShowFloorByMoveByCamera","getCurrentPosition","cameraPos","floorPos","resetLastFloor","copyTmp","copyTmpForLocation","floorPosNew","updateObjectsAsync","_ref6","showFloorSetting","_resetLastFloor","updateObjs","_context10","_callee8","isForce","_args9","_context9","f","rooms","r","_x9","_x10","_callee7","_context8","_callee9","_x6","_x7","_x8","_ref8","isFoundFloor","_context11","moveHeight","locationOrigin","_callee10","_x11","_x12","_x13","_ref9","floorName","_context12","getFloorNameByFloorId","setFloorVisible","floorname","floorLessEq","_callee11","_x14","_x15","_x16","_ref10","_callee12","j","room","_context13","setBuildingVisible","setObjectsVisibleAsync","_x17","_x18","_flyToPositionView","pos","dis","posNew","sin","PI","cos","f1","f2","floorFlag1","floorFlag2","floorNum1","floorNum2","floorFlagTmp1","floorFlagTmp2","floorFlagIdx1","floorFlagIdx2","getBuildDataLock","_ref11","builds","buildMos","buildFloorMos","floorGroup","_context14","getBuildingNamesSync","xps","isBuildXP","isFloorXP","floorCount","_Object$keys","floorSimpleKey","floorAndRoom","floorCopy","xp","_callee13","_x19","_ref12","objNew","_i2","_Object$keys2","_context15","_callee14","_x20","getFloorHeight","floorFlag","flag","parseInt","flyToBuildMo","last","_this6","SplineOrangeHighlight1","flyToBuild","splitAndShowFloor","waitSplitSecond","EventCollection","onResetBuildEnd","funcArr","EventObj","MapBuild","mgr","wkGid","titleGid","floorGid","roomGId","floorGId","getFloorNameSmallByFloorId","splitBuildingResetSync","floorDistance","SplitDynamicFloor","GetBuildingNum","GetBuildingNames","buildingName","GetBuildingVisible","buildVisible","SetBuildingVisible","SetBuildingWkVisible","ResetAllBuildings","SplitBuilding","SplitBuildingReset","SplitDynamicBuilding","SplitFloorReset","GetFloorNum","GetFloorNames","GetFloorVisible","floorVisible","SetFloorVisible","GetUpFloorNum","GetUpFloorNames","GetDownFloorNum","GetFloorRoomNum","GetFloorRoomNames","roomName","GetFloorRoomVisible","SetFloorRoomVisible","_setGroundVisible","SetGroundVisible","MAP_STATUS_NORMAL","MAP_STATUS_DRAG","ZOOM_IN_KEY","ZOOM_OUT_KEY","MOUSE_MOVE_KEY","mapStatus","mapMoveTimer","mouseEventGroup","isDouble","internal","MapEvent","callbackSet","prefixAndCallbackMap","_lastClickTimestamp","_emitMouseUp","_addMouseMoveEvent","_addMouseUpEvent","_addMouseDownEvent","_hasRegisterMouseWheelHandler","cleanupCallback","_clickCallbackTimer","_onDragHandler","_onDragStartHandler","_onDragEndHandler","_dragTicker","_flushDragCallback","_handleMouseUp","mapViewContainerId","$mapViewContainer","existCallbackMapKey","mouseKey","existCallbackMap","cachedCallback","getCallbacks","_removeCacheCallback","_registerMouseEvent","_mouseWheelHandler2","wheelDelta","eventTypeKey","mouseWheelMap","mouseWheelEventCallbackMap","mouseWheelEventCallbackSet","oneMouseWheelHandlerMap","click","oneCallbackMap","fromEntries","debounceTime","zoomInHandler","_mouseWheelHandler","_cacheCallback","_registerMouseWheelCallback","zoomOutHandler","mouseMoveHandler","UnRegisterEvent","RegisterEvent","_handleMouseMove","_handleMouseDown","k","prefixArr","has","existCallbackSet","prefixCallbackMap","callbackConfigMap","clickCallbackConfigSet","doubleClickCallbackConfigSet","oldPrefix","oldPrefixArr","oneClickCallbackSet","oneDoubleClickCallBackSet","removeCallback","oneCallbackSet","includes","handleClickCallback","_lastClickCallbackTimer","uuid","matchCallback","prefixMapArray","triggerCallback","cachedCallbackSet","oneCallbackConfig","oneCallback","cleanup","toLocaleLowerCase","_prefixMapArray$i","cachedPrefix","cachedCallbackMap","clickCallbackSet","doubleCallbackSet","triggerDouble","timerId","SetMouseCallback","SetMousePositionCallback","_config","_addMouseClickCallback","_removeMouseEvent","_resetMouseCallback","defaultOption","manual","loading","MapViewer","_initFinished","_init","scheduler","ver","createMap","website","author","env","CATEGORY"],"mappings":"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"}